# Multi-App Deployment Environment Variables
# Copy this file to .env and fill in the values

# ============================================
# Server Configuration
# ============================================
PUBLIC_IP=172.104.53.127
PRIVATE_IP=18.220.252.164

# ============================================
# Shared Services (Database & Redis)
# ============================================
# PostgreSQL Database
DB_HOST=db
DB_PORT=5432
DB_NAME=consult_db
DB_USER=consult_user
DB_PASSWORD=consult_password

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379/0

# ============================================
# Consult App Configuration
# ============================================
CONSULT_APP_NAME=consult
CONSULT_APP_PATH=/

# Backend
CONSULT_DEBUG=0
CONSULT_SECRET_KEY=change_me_in_prod
CONSULT_ALLOWED_HOSTS=localhost,127.0.0.1,backend,172.104.53.127
CONSULT_CORS_ALLOWED_ORIGINS=http://172.104.53.127,http://localhost:3000,http://localhost
CONSULT_CSRF_TRUSTED_ORIGINS=http://172.104.53.127,http://localhost:3000,http://localhost

# Frontend
CONSULT_VITE_API_URL=http://172.104.53.127/api/v1
CONSULT_VITE_WS_URL=ws://172.104.53.127/ws

# ============================================
# App2 Configuration Template
# ============================================
# Uncomment and modify for additional apps
# APP2_NAME=app2
# APP2_PATH=/app2/
# APP2_DB_NAME=app2_db
# APP2_DB_USER=app2_user
# APP2_DB_PASSWORD=app2_password
# APP2_REDIS_DB=1
# APP2_SECRET_KEY=change_me_in_prod
# APP2_VITE_API_URL=http://172.104.53.127/app2/api/v1

# ============================================
# Nginx Configuration
# ============================================
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# ============================================
# Docker Configuration
# ============================================
COMPOSE_PROJECT_NAME=consult
DOCKER_NETWORK_NAME=consult_network

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=INFO
LOG_MAX_SIZE=10m
LOG_MAX_FILES=3

# ============================================
# Security
# ============================================
# Generate strong secret keys for production
# Use: python -c "import secrets; print(secrets.token_urlsafe(50))"

# ============================================
# Resource Limits (Optional)
# ============================================
# Backend CPU Limit
BACKEND_CPU_LIMIT=2.0
BACKEND_MEMORY_LIMIT=2G

# Frontend CPU Limit
FRONTEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512M

# Database CPU Limit
DB_CPU_LIMIT=1.0
DB_MEMORY_LIMIT=1G

# Redis CPU Limit
REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_LIMIT=512M
