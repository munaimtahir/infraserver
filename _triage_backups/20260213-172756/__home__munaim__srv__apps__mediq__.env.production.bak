# ==================================================
# Production environment template (no real secrets)
# Copy to: infra/docker/compose/.env.production
# ==================================================

# Core runtime
ENV=prod
DEBUG=0
API_PREFIX=/v1
API_V1_STR=/v1
PROJECT_NAME=Medical Exam Platform API

# Public URLs
APP_DOMAIN=mediq.alshifalab.pk
FRONTEND_BASE_URL=https://mediq.alshifalab.pk
BACKEND_BASE_URL=https://mediq.alshifalab.pk/api
NEXT_PUBLIC_API_BASE_URL=/api/v1
BACKEND_URL=http://backend:8000

# Ports (localhost-only host bindings in compose)
FRONTEND_PORT=3025
BACKEND_PORT=8025

# Database
POSTGRES_DB=exam_platform
POSTGRES_USER=exam_user
POSTGRES_PASSWORD=DNX4qG5jdKzLrZIKBwyq8HFBWcpVrNIdK1UrzKTc
DATABASE_URL=postgresql+psycopg2://exam_user:DNX4qG5jdKzLrZIKBwyq8HFBWcpVrNIdK1UrzKTc@postgres:5432/exam_platform

# Redis
REDIS_URL=redis://redis:6379/0
REDIS_ENABLED=true
REDIS_REQUIRED=true

# JWT / Auth
JWT_SIGNING_KEY_CURRENT=44a47148045df3c8d3f0fe9cee78749850a5e165332060664563fe39300eddb26649b83b24f7be27fb1c60d16c2c567de6472520f22c40e3e70ce784c0f234a8
JWT_SIGNING_KEY_PREVIOUS=
JWT_SECRET=5a5f4be0f122bf02a8d5fa75229930241c0f6af0b4cd6a641fa65b07973d10b64a2c9da99ea4aaf926d485fece63371c174426631733e5a6cd8766c3e4e50b6b
JWT_ALG=HS256
JWT_ISSUER=mediq-api
JWT_AUDIENCE=mediq-web
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=14
AUTH_TOKEN_PEPPER_CURRENT=5a77ea2872ae3ef9e7135c2a93b71cc2f55b7242544e023e2a0ae15a1329a97c479f931c406fadf363583d9086b9cacb1d10b40bcedd356c7a4dc8565506d792
AUTH_TOKEN_PEPPER_PREVIOUS=
AUTH_TOKEN_PEPPER=f83d1161f79c663eebc7cf988461bdfe6f32c6808042311a9d554f02677d897fc4cbc59f5b741110ccfd837bea480749da98d99f270668744a4af7e5b0ec8c24
TOKEN_PEPPER=5f0352abb0dcd8113d0f35dd3384eafadf596fa25700adbfa7c3bcab0c216475cc7c0845c7c53ceba1417805f676ad491e5f2ce9bda501cc46ce21c47c19f1d9

# MFA
MFA_ENCRYPTION_KEY=Ut+F/uuoISYVhU24xSfJQbod1/SOazL3eQ1cs5UJNbU=

# CORS / CSRF / Cookies
CORS_ALLOW_ORIGINS_PUBLIC=https://mediq.alshifalab.pk
CORS_ALLOW_ORIGINS_APP=https://mediq.alshifalab.pk
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,X-Request-ID,Idempotency-Key
CORS_EXPOSE_HEADERS=X-Request-ID,X-Response-Time-ms,X-DB-Queries,X-DB-Time-ms
CORS_ALLOW_CREDENTIALS=true
CSRF_TRUSTED_ORIGINS=https://mediq.alshifalab.pk
COOKIE_SECURE=true
COOKIE_SAMESITE=lax
COOKIE_DOMAIN=mediq.alshifalab.pk
ACCESS_COOKIE_MAXAGE_SECONDS=900
REFRESH_COOKIE_MAXAGE_SECONDS=1209600

# Frontend feature flags
NEXT_PUBLIC_APP_NAME=Medical Exam Platform
NEXT_PUBLIC_ENV=production
NEXT_PUBLIC_FEATURE_STUDENT_CONCEPT_EXPLORER=false

# Email / links
FRONTEND_URL=https://example.com
EMAIL_BACKEND=smtp
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_FROM=noreply@example.com
EMAIL_USE_TLS=true
EMAIL_USE_SSL=false

# Optional services (off by default)
ENABLE_ELASTIC=false
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_INDEX_PREFIX=platform

ENABLE_NEO4J=false
NEO4J_ENABLED=false
NEO4J_URI=bolt://neo4j:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=CHANGE_ME_NEO4J_PASSWORD
NEO4J_DATABASE=neo4j

# Optional ranking-go
GO_RANKING_ENABLED=false
RANKING_GO_URL=http://ranking-go:8080

# Demo seeds in prod should remain off
SEED_DEMO_ACCOUNTS=false
