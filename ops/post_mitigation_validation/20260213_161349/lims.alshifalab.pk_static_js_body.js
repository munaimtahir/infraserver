(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=l(c);fetch(c.href,h)}})();var fd={exports:{}},Ql={};var dg;function jx(){if(dg)return Ql;dg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function l(o,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var m in c)m!=="key"&&(h[m]=c[m])}else h=c;return c=h.ref,{$$typeof:t,type:o,key:f,ref:c!==void 0?c:null,props:h}}return Ql.Fragment=a,Ql.jsx=l,Ql.jsxs=l,Ql}var fg;function Sx(){return fg||(fg=1,fd.exports=jx()),fd.exports}var s=Sx(),hd={exports:{}},Te={};var hg;function Nx(){if(hg)return Te;hg=1;var t=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),N=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function $(O,Q,oe){this.props=O,this.context=Q,this.refs=E,this.updater=oe||b}$.prototype.isReactComponent={},$.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=$.prototype;function H(O,Q,oe){this.props=O,this.context=Q,this.refs=E,this.updater=oe||b}var A=H.prototype=new k;A.constructor=H,w(A,$.prototype),A.isPureReactComponent=!0;var z=Array.isArray;function U(){}var M={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function Z(O,Q,oe){var ue=oe.ref;return{$$typeof:t,type:O,key:Q,ref:ue!==void 0?ue:null,props:oe}}function ie(O,Q){return Z(O.type,Q,O.props)}function ve(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function Oe(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return Q[oe]})}var be=/\/+/g;function Ie(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?Oe(""+O.key):Q.toString(36)}function ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(U,U):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Q,oe,ue,_e){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(Ce){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case t:case a:Re=!0;break;case y:return Re=O._init,G(Re(O._payload),Q,oe,ue,_e)}}if(Re)return _e=_e(O),Re=ue===""?"."+Ie(O,0):ue,z(_e)?(oe="",Re!=null&&(oe=Re.replace(be,"$&/")+"/"),G(_e,Q,oe,"",function(Ft){return Ft})):_e!=null&&(ve(_e)&&(_e=ie(_e,oe+(_e.key==null||O&&O.key===_e.key?"":(""+_e.key).replace(be,"$&/")+"/")+Re)),Q.push(_e)),1;Re=0;var Qe=ue===""?".":ue+":";if(z(O))for(var $e=0;$e<O.length;$e++)ue=O[$e],Ce=Qe+Ie(ue,$e),Re+=G(ue,Q,oe,Ce,_e);else if($e=R(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(ue=O.next()).done;)ue=ue.value,Ce=Qe+Ie(ue,$e++),Re+=G(ue,Q,oe,Ce,_e);else if(Ce==="object"){if(typeof O.then=="function")return G(ot(O),Q,oe,ue,_e);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(O,Q,oe){if(O==null)return O;var ue=[],_e=0;return G(O,ue,"","",function(Ce){return Q.call(oe,Ce,_e++)}),ue}function he(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Ee=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ae={map:ae,forEach:function(O,Q,oe){ae(O,function(){Q.apply(this,arguments)},oe)},count:function(O){var Q=0;return ae(O,function(){Q++}),Q},toArray:function(O){return ae(O,function(Q){return Q})||[]},only:function(O){if(!ve(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=v,Te.Children=Ae,Te.Component=$,Te.Fragment=l,Te.Profiler=c,Te.PureComponent=H,Te.StrictMode=o,Te.Suspense=g,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,Q,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=w({},O.props),_e=O.key;if(Q!=null)for(Ce in Q.key!==void 0&&(_e=""+Q.key),Q)!X.call(Q,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Q.ref===void 0||(ue[Ce]=Q[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=oe;else if(1<Ce){for(var Re=Array(Ce),Qe=0;Qe<Ce;Qe++)Re[Qe]=arguments[Qe+2];ue.children=Re}return Z(O.type,_e,ue)},Te.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Te.createElement=function(O,Q,oe){var ue,_e={},Ce=null;if(Q!=null)for(ue in Q.key!==void 0&&(Ce=""+Q.key),Q)X.call(Q,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(_e[ue]=Q[ue]);var Re=arguments.length-2;if(Re===1)_e.children=oe;else if(1<Re){for(var Qe=Array(Re),$e=0;$e<Re;$e++)Qe[$e]=arguments[$e+2];_e.children=Qe}if(O&&O.defaultProps)for(ue in Re=O.defaultProps,Re)_e[ue]===void 0&&(_e[ue]=Re[ue]);return Z(O,Ce,_e)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:m,render:O}},Te.isValidElement=ve,Te.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:he}},Te.memo=function(O,Q){return{$$typeof:p,type:O,compare:Q===void 0?null:Q}},Te.startTransition=function(O){var Q=M.T,oe={};M.T=oe;try{var ue=O(),_e=M.S;_e!==null&&_e(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(U,Ee)}catch(Ce){Ee(Ce)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),M.T=Q}},Te.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Te.use=function(O){return M.H.use(O)},Te.useActionState=function(O,Q,oe){return M.H.useActionState(O,Q,oe)},Te.useCallback=function(O,Q){return M.H.useCallback(O,Q)},Te.useContext=function(O){return M.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,Q){return M.H.useDeferredValue(O,Q)},Te.useEffect=function(O,Q){return M.H.useEffect(O,Q)},Te.useEffectEvent=function(O){return M.H.useEffectEvent(O)},Te.useId=function(){return M.H.useId()},Te.useImperativeHandle=function(O,Q,oe){return M.H.useImperativeHandle(O,Q,oe)},Te.useInsertionEffect=function(O,Q){return M.H.useInsertionEffect(O,Q)},Te.useLayoutEffect=function(O,Q){return M.H.useLayoutEffect(O,Q)},Te.useMemo=function(O,Q){return M.H.useMemo(O,Q)},Te.useOptimistic=function(O,Q){return M.H.useOptimistic(O,Q)},Te.useReducer=function(O,Q,oe){return M.H.useReducer(O,Q,oe)},Te.useRef=function(O){return M.H.useRef(O)},Te.useState=function(O){return M.H.useState(O)},Te.useSyncExternalStore=function(O,Q,oe){return M.H.useSyncExternalStore(O,Q,oe)},Te.useTransition=function(){return M.H.useTransition()},Te.version="19.2.0",Te}var mg;function Qd(){return mg||(mg=1,hd.exports=Nx()),hd.exports}var S=Qd(),md={exports:{}},Kl={},pd={exports:{}},gd={};var pg;function wx(){return pg||(pg=1,(function(t){function a(G,ae){var he=G.length;G.push(ae);e:for(;0<he;){var Ee=he-1>>>1,Ae=G[Ee];if(0<c(Ae,ae))G[Ee]=ae,G[he]=Ae,he=Ee;else break e}}function l(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ae=G[0],he=G.pop();if(he!==ae){G[0]=he;e:for(var Ee=0,Ae=G.length,O=Ae>>>1;Ee<O;){var Q=2*(Ee+1)-1,oe=G[Q],ue=Q+1,_e=G[ue];if(0>c(oe,he))ue<Ae&&0>c(_e,oe)?(G[Ee]=_e,G[ue]=he,Ee=ue):(G[Ee]=oe,G[Q]=he,Ee=Q);else if(ue<Ae&&0>c(_e,he))G[Ee]=_e,G[ue]=he,Ee=ue;else break e}}return ae}function c(G,ae){var he=G.sortIndex-ae.sortIndex;return he!==0?he:G.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;t.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();t.unstable_now=function(){return f.now()-m}}var g=[],p=[],y=1,v=null,N=3,R=!1,b=!1,w=!1,E=!1,$=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function A(G){for(var ae=l(p);ae!==null;){if(ae.callback===null)o(p);else if(ae.startTime<=G)o(p),ae.sortIndex=ae.expirationTime,a(g,ae);else break;ae=l(p)}}function z(G){if(w=!1,A(G),!b)if(l(g)!==null)b=!0,U||(U=!0,Oe());else{var ae=l(p);ae!==null&&ot(z,ae.startTime-G)}}var U=!1,M=-1,X=5,Z=-1;function ie(){return E?!0:!(t.unstable_now()-Z<X)}function ve(){if(E=!1,U){var G=t.unstable_now();Z=G;var ae=!0;try{e:{b=!1,w&&(w=!1,k(M),M=-1),R=!0;var he=N;try{t:{for(A(G),v=l(g);v!==null&&!(v.expirationTime>G&&ie());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,N=v.priorityLevel;var Ae=Ee(v.expirationTime<=G);if(G=t.unstable_now(),typeof Ae=="function"){v.callback=Ae,A(G),ae=!0;break t}v===l(g)&&o(g),A(G)}else o(g);v=l(g)}if(v!==null)ae=!0;else{var O=l(p);O!==null&&ot(z,O.startTime-G),ae=!1}}break e}finally{v=null,N=he,R=!1}ae=void 0}}finally{ae?Oe():U=!1}}}var Oe;if(typeof H=="function")Oe=function(){H(ve)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ie=be.port2;be.port1.onmessage=ve,Oe=function(){Ie.postMessage(null)}}else Oe=function(){$(ve,0)};function ot(G,ae){M=$(function(){G(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(G){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var he=N;N=ae;try{return G()}finally{N=he}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(G,ae){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var he=N;N=G;try{return ae()}finally{N=he}},t.unstable_scheduleCallback=function(G,ae,he){var Ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ee+he:Ee):he=Ee,G){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=he+Ae,G={id:y++,callback:ae,priorityLevel:G,startTime:he,expirationTime:Ae,sortIndex:-1},he>Ee?(G.sortIndex=he,a(p,G),l(g)===null&&G===l(p)&&(w?(k(M),M=-1):w=!0,ot(z,he-Ee))):(G.sortIndex=Ae,a(g,G),b||R||(b=!0,U||(U=!0,Oe()))),G},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(G){var ae=N;return function(){var he=N;N=ae;try{return G.apply(this,arguments)}finally{N=he}}}})(gd)),gd}var gg;function Cx(){return gg||(gg=1,pd.exports=wx()),pd.exports}var _d={exports:{}},an={};var _g;function Ex(){if(_g)return an;_g=1;var t=Qd();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(g,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:v==null?null:""+v,children:g,containerInfo:p,implementation:y}}var f=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,an.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return h(g,p,null,y)},an.flushSync=function(g){var p=f.T,y=o.p;try{if(f.T=null,o.p=2,g)return g()}finally{f.T=p,o.p=y,o.d.f()}},an.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},an.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},an.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin),N=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:N,fetchPriority:R}):y==="script"&&o.d.X(g,{crossOrigin:v,integrity:N,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},an.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=m(y,p.crossOrigin);o.d.L(g,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},an.requestFormReset=function(g){o.d.r(g)},an.unstable_batchedUpdates=function(g,p){return g(p)},an.useFormState=function(g,p,y){return f.H.useFormState(g,p,y)},an.useFormStatus=function(){return f.H.useHostTransitionStatus()},an.version="19.2.0",an}var yg;function Rx(){if(yg)return _d.exports;yg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),_d.exports=Ex(),_d.exports}var vg;function Tx(){if(vg)return Kl;vg=1;var t=Cx(),a=Qd(),l=Rx();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(o(188))}function p(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,i=n;;){var u=r.return;if(u===null)break;var d=u.alternate;if(d===null){if(i=u.return,i!==null){r=i;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===r)return g(u),e;if(d===i)return g(u),n;d=d.sibling}throw Error(o(188))}if(r.return!==i.return)r=u,i=d;else{for(var _=!1,j=u.child;j;){if(j===r){_=!0,r=u,i=d;break}if(j===i){_=!0,i=u,r=d;break}j=j.sibling}if(!_){for(j=d.child;j;){if(j===r){_=!0,r=d,i=u;break}if(j===i){_=!0,i=d,r=u;break}j=j.sibling}if(!_)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),H=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case $:return"Profiler";case E:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case H:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case A:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:Ie(e.type)||"Memo";case X:n=e._payload,e=e._init;try{return Ie(e(n))}catch{}}return null}var ot=Array.isArray,G=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function O(e){return{current:e}}function Q(e){0>Ae||(e.current=Ee[Ae],Ee[Ae]=null,Ae--)}function oe(e,n){Ae++,Ee[Ae]=e.current,e.current=n}var ue=O(null),_e=O(null),Ce=O(null),Re=O(null);function Qe(e,n){switch(oe(Ce,n),oe(_e,e),oe(ue,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bp(n),e=kp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ue),oe(ue,e)}function $e(){Q(ue),Q(_e),Q(Ce)}function Ft(e){e.memoizedState!==null&&oe(Re,e);var n=ue.current,r=kp(n,e.type);n!==r&&(oe(_e,e),oe(ue,r))}function re(e){_e.current===e&&(Q(ue),Q(_e)),Re.current===e&&(Q(Re),Fl._currentValue=he)}var Ze,ct;function fe(e){if(Ze===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ze=n&&n[1]||"",ct=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+e+ct}var ye=!1;function wt(e,n){if(!e||ye)return"";ye=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var F=V}Reflect.construct(e,[],W)}else{try{W.call()}catch(V){F=V}e.call(W.prototype)}}else{try{throw Error()}catch(V){F=V}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&F&&typeof V.stack=="string")return[V.stack,F.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=i.DetermineComponentFrameRoot(),_=d[0],j=d[1];if(_&&j){var T=_.split(`
`),P=j.split(`
`);for(u=i=0;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;for(;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;if(i===T.length||u===P.length)for(i=T.length-1,u=P.length-1;1<=i&&0<=u&&T[i]!==P[u];)u--;for(;1<=i&&0<=u;i--,u--)if(T[i]!==P[u]){if(i!==1||u!==1)do if(i--,u--,0>u||T[i]!==P[u]){var Y=`
`+T[i].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=i&&0<=u);break}}}finally{ye=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?fe(r):""}function An(e,n){switch(e.tag){case 26:case 27:case 5:return fe(e.type);case 16:return fe("Lazy");case 13:return e.child!==n&&n!==null?fe("Suspense Fallback"):fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return wt(e.type,!1);case 11:return wt(e.type.render,!1);case 1:return wt(e.type,!0);case 31:return fe("Activity");default:return""}}function Dn(e){try{var n="",r=null;do n+=An(e,r),r=e,e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ga=Object.prototype.hasOwnProperty,Ss=t.unstable_scheduleCallback,Fa=t.unstable_cancelCallback,tl=t.unstable_shouldYield,_a=t.unstable_requestPaint,Ct=t.unstable_now,oa=t.unstable_getCurrentPriorityLevel,bn=t.unstable_ImmediatePriority,Ia=t.unstable_UserBlockingPriority,ya=t.unstable_NormalPriority,tr=t.unstable_LowPriority,Ns=t.unstable_IdlePriority,Yn=t.log,Xn=t.unstable_setDisableYieldValue,ft=null,Et=null;function zn(e){if(typeof Yn=="function"&&Xn(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(ft,e)}catch{}}var kt=Math.clz32?Math.clz32:Za,nl=Math.log,al=Math.LN2;function Za(e){return e>>>=0,e===0?32:31-(nl(e)/al|0)|0}var xt=256,Bn=262144,Jn=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function va(e,n,r){var i=e.pendingLanes;if(i===0)return 0;var u=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var j=i&134217727;return j!==0?(i=j&~d,i!==0?u=xn(i):(_&=j,_!==0?u=xn(_):r||(r=j&~e,r!==0&&(u=xn(r))))):(j=i&~d,j!==0?u=xn(j):_!==0?u=xn(_):r||(r=i&~e,r!==0&&(u=xn(r)))),u===0?0:n!==0&&n!==u&&(n&d)===0&&(d=u&-u,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:u}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var e=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),e}function ws(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ba(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ca(e,n,r,i,u,d){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var j=e.entanglements,T=e.expirationTimes,P=e.hiddenUpdates;for(r=_&~r;0<r;){var Y=31-kt(r),W=1<<Y;j[Y]=0,T[Y]=-1;var F=P[Y];if(F!==null)for(P[Y]=null,Y=0;Y<F.length;Y++){var V=F[Y];V!==null&&(V.lane&=-536870913)}r&=~W}i!==0&&x(e,i,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function x(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var i=31-kt(n);e.entangledLanes|=n,e.entanglements[i]=e.entanglements[i]|1073741824|r&261930}function D(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var i=31-kt(r),u=1<<i;u&n|e[i]&n&&(e[i]|=n),r&=~u}}function ne(e,n){var r=n&-n;return r=(r&42)!==0?1:ze(r),(r&(e.suspendedLanes|n))!==0?0:r}function ze(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function un(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ua(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:sg(e.type))}function Va(e,n){var r=ae.p;try{return ae.p=e,n()}finally{ae.p=r}}var Kt=Math.random().toString(36).slice(2),gt="__reactFiber$"+Kt,It="__reactProps$"+Kt,ar="__reactContainer$"+Kt,ac="__reactEvents$"+Kt,dv="__reactListeners$"+Kt,fv="__reactHandles$"+Kt,xf="__reactResources$"+Kt,rl="__reactMarker$"+Kt;function sc(e){delete e[gt],delete e[It],delete e[ac],delete e[dv],delete e[fv]}function sr(e){var n=e[gt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ar]||r[gt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Hp(e);e!==null;){if(r=e[gt])return r;e=Hp(e)}return n}e=r,r=e.parentNode}return null}function rr(e){if(e=e[gt]||e[ar]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ll(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function lr(e){var n=e[xf];return n||(n=e[xf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(e){e[rl]=!0}var jf=new Set,Sf={};function Cs(e,n){ir(e,n),ir(e+"Capture",n)}function ir(e,n){for(Sf[e]=n,e=0;e<n.length;e++)jf.add(n[e])}var hv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nf={},wf={};function mv(e){return Ga.call(wf,e)?!0:Ga.call(Nf,e)?!1:hv.test(e)?wf[e]=!0:(Nf[e]=!0,!1)}function fi(e,n,r){if(mv(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hi(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function xa(e,n,r,i){if(i===null)e.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+i)}}function Mn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pv(e,n,r){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(_){r=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function rc(e){if(!e._valueTracker){var n=Cf(e)?"checked":"value";e._valueTracker=pv(e,n,""+e[n])}}function Ef(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),i="";return e&&(i=Cf(e)?e.checked?"true":"false":e.value),e=i,e!==r?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gv=/[\n"\\]/g;function Ln(e){return e.replace(gv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lc(e,n,r,i,u,d,_,j){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mn(n)):e.value!==""+Mn(n)&&(e.value=""+Mn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?ic(e,_,Mn(n)):r!=null?ic(e,_,Mn(r)):i!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.name=""+Mn(j):e.removeAttribute("name")}function Rf(e,n,r,i,u,d,_,j){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){rc(e);return}r=r!=null?""+Mn(r):"",n=n!=null?""+Mn(n):r,j||n===e.value||(e.value=n),e.defaultValue=n}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=j?e.checked:!!i,e.defaultChecked=!!i,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),rc(e)}function ic(e,n,r){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function or(e,n,r,i){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Tf(e,n,r){if(n!=null&&(n=""+Mn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Mn(r):""}function Of(e,n,r,i){if(n==null){if(i!=null){if(r!=null)throw Error(o(92));if(ot(i)){if(1<i.length)throw Error(o(93));i=i[0]}r=i}r==null&&(r=""),n=r}r=Mn(n),e.defaultValue=r,i=e.textContent,i===r&&i!==""&&i!==null&&(e.value=i),rc(e)}function cr(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var _v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Af(e,n,r){var i=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":i?e.setProperty(n,r):typeof r!="number"||r===0||_v.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Df(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in n)i=n[u],n.hasOwnProperty(u)&&r[u]!==i&&Af(e,u,i)}else for(var d in n)n.hasOwnProperty(d)&&Af(e,d,n[d])}function oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(e){return vv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ja(){}var cc=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,dr=null;function zf(e){var n=rr(e);if(n&&(e=n.stateNode)){var r=e[It]||null;e:switch(e=n.stateNode,n.type){case"input":if(lc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ln(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var i=r[n];if(i!==e&&i.form===e.form){var u=i[It]||null;if(!u)throw Error(o(90));lc(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)i=r[n],i.form===e.form&&Ef(i)}break e;case"textarea":Tf(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&or(e,!!r.multiple,n,!1)}}}var dc=!1;function Bf(e,n,r){if(dc)return e(n,r);dc=!0;try{var i=e(n);return i}finally{if(dc=!1,(ur!==null||dr!==null)&&(no(),ur&&(n=ur,e=dr,dr=ur=null,zf(n),e)))for(n=0;n<e.length;n++)zf(e[n])}}function il(e,n){var r=e.stateNode;if(r===null)return null;var i=r[It]||null;if(i===null)return null;r=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var Sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(Sa)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){fc=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{fc=!1}var Qa=null,hc=null,gi=null;function kf(){if(gi)return gi;var e,n=hc,r=n.length,i,u="value"in Qa?Qa.value:Qa.textContent,d=u.length;for(e=0;e<r&&n[e]===u[e];e++);var _=r-e;for(i=1;i<=_&&n[r-i]===u[d-i];i++);return gi=u.slice(e,1<i?1-i:void 0)}function _i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Mf(){return!1}function dn(e){function n(r,i,u,d,_){this._reactName=r,this._targetInst=u,this.type=i,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(r=e[j],this[j]=r?r(d):d[j]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?yi:Mf,this.isPropagationStopped=Mf,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=dn(Es),cl=v({},Es,{view:0,detail:0}),bv=dn(cl),mc,pc,ul,bi=v({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ul&&(ul&&e.type==="mousemove"?(mc=e.screenX-ul.screenX,pc=e.screenY-ul.screenY):pc=mc=0,ul=e),mc)},movementY:function(e){return"movementY"in e?e.movementY:pc}}),Lf=dn(bi),xv=v({},bi,{dataTransfer:0}),jv=dn(xv),Sv=v({},cl,{relatedTarget:0}),gc=dn(Sv),Nv=v({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),wv=dn(Nv),Cv=v({},Es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ev=dn(Cv),Rv=v({},Es,{data:0}),Uf=dn(Rv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ov={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Av[e])?!!n[e]:!1}function _c(){return Dv}var zv=v({},cl,{key:function(e){if(e.key){var n=Tv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ov[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bv=dn(zv),kv=v({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$f=dn(kv),Mv=v({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),Lv=dn(Mv),Uv=v({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=dn(Uv),qv=v({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pv=dn(qv),Hv=v({},Es,{newState:0,oldState:0}),Gv=dn(Hv),Fv=[9,13,27,32],yc=Sa&&"CompositionEvent"in window,dl=null;Sa&&"documentMode"in document&&(dl=document.documentMode);var Iv=Sa&&"TextEvent"in window&&!dl,qf=Sa&&(!yc||dl&&8<dl&&11>=dl),Pf=" ",Hf=!1;function Gf(e,n){switch(e){case"keyup":return Fv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ff(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fr=!1;function Zv(e,n){switch(e){case"compositionend":return Ff(n);case"keypress":return n.which!==32?null:(Hf=!0,Pf);case"textInput":return e=n.data,e===Pf&&Hf?null:e;default:return null}}function Vv(e,n){if(fr)return e==="compositionend"||!yc&&Gf(e,n)?(e=kf(),gi=hc=Qa=null,fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return qf&&n.locale!=="ko"?null:n.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qv[e.type]:n==="textarea"}function Zf(e,n,r,i){ur?dr?dr.push(i):dr=[i]:ur=i,n=co(n,"onChange"),0<n.length&&(r=new vi("onChange","change",null,r,i),e.push({event:r,listeners:n}))}var fl=null,hl=null;function Kv(e){Rp(e,0)}function xi(e){var n=ll(e);if(Ef(n))return e}function Vf(e,n){if(e==="change")return n}var Qf=!1;if(Sa){var vc;if(Sa){var bc="oninput"in document;if(!bc){var Kf=document.createElement("div");Kf.setAttribute("oninput","return;"),bc=typeof Kf.oninput=="function"}vc=bc}else vc=!1;Qf=vc&&(!document.documentMode||9<document.documentMode)}function Yf(){fl&&(fl.detachEvent("onpropertychange",Xf),hl=fl=null)}function Xf(e){if(e.propertyName==="value"&&xi(hl)){var n=[];Zf(n,hl,e,uc(e)),Bf(Kv,n)}}function Yv(e,n,r){e==="focusin"?(Yf(),fl=n,hl=r,fl.attachEvent("onpropertychange",Xf)):e==="focusout"&&Yf()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xi(hl)}function Jv(e,n){if(e==="click")return xi(n)}function Wv(e,n){if(e==="input"||e==="change")return xi(n)}function eb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var jn=typeof Object.is=="function"?Object.is:eb;function ml(e,n){if(jn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),i=Object.keys(n);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var u=r[i];if(!Ga.call(n,u)||!jn(e[u],n[u]))return!1}return!0}function Jf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wf(e,n){var r=Jf(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=n&&i>=n)return{node:r,offset:n-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jf(r)}}function eh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?eh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=mi(e.document)}return n}function xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var tb=Sa&&"documentMode"in document&&11>=document.documentMode,hr=null,jc=null,pl=null,Sc=!1;function nh(e,n,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sc||hr==null||hr!==mi(i)||(i=hr,"selectionStart"in i&&xc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pl&&ml(pl,i)||(pl=i,i=co(jc,"onSelect"),0<i.length&&(n=new vi("onSelect","select",null,n,r),e.push({event:n,listeners:i}),n.target=hr)))}function Rs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var mr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},Nc={},ah={};Sa&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Ts(e){if(Nc[e])return Nc[e];if(!mr[e])return e;var n=mr[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ah)return Nc[e]=n[r];return e}var sh=Ts("animationend"),rh=Ts("animationiteration"),lh=Ts("animationstart"),nb=Ts("transitionrun"),ab=Ts("transitionstart"),sb=Ts("transitioncancel"),ih=Ts("transitionend"),oh=new Map,wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wc.push("scrollEnd");function Wn(e,n){oh.set(e,n),Cs(n,[e])}var ji=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],pr=0,Cc=0;function Si(){for(var e=pr,n=Cc=pr=0;n<e;){var r=Un[n];Un[n++]=null;var i=Un[n];Un[n++]=null;var u=Un[n];Un[n++]=null;var d=Un[n];if(Un[n++]=null,i!==null&&u!==null){var _=i.pending;_===null?u.next=u:(u.next=_.next,_.next=u),i.pending=u}d!==0&&ch(r,u,d)}}function Ni(e,n,r,i){Un[pr++]=e,Un[pr++]=n,Un[pr++]=r,Un[pr++]=i,Cc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Ec(e,n,r,i){return Ni(e,n,r,i),wi(e)}function Os(e,n){return Ni(e,null,null,n),wi(e)}function ch(e,n,r){e.lanes|=r;var i=e.alternate;i!==null&&(i.lanes|=r);for(var u=!1,d=e.return;d!==null;)d.childLanes|=r,i=d.alternate,i!==null&&(i.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&n!==null&&(u=31-kt(r),e=d.hiddenUpdates,i=e[u],i===null?e[u]=[n]:i.push(n),n.lane=r|536870912),d):null}function wi(e){if(50<Ll)throw Ll=0,Mu=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var gr={};function rb(e,n,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,i){return new rb(e,n,r,i)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Na(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function uh(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ci(e,n,r,i,u,d){var _=0;if(i=e,typeof e=="function")Rc(e)&&(_=1);else if(typeof e=="string")_=ux(e,r,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Sn(31,r,n,u),e.elementType=Z,e.lanes=d,e;case w:return As(r.children,u,d,n);case E:_=8,u|=24;break;case $:return e=Sn(12,r,n,u|2),e.elementType=$,e.lanes=d,e;case z:return e=Sn(13,r,n,u),e.elementType=z,e.lanes=d,e;case U:return e=Sn(19,r,n,u),e.elementType=U,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:_=10;break e;case k:_=9;break e;case A:_=11;break e;case M:_=14;break e;case X:_=16,i=null;break e}_=29,r=Error(o(130,e===null?"null":typeof e,"")),i=null}return n=Sn(_,r,n,u),n.elementType=e,n.type=i,n.lanes=d,n}function As(e,n,r,i){return e=Sn(7,e,i,n),e.lanes=r,e}function Tc(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function dh(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Oc(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fh=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var r=fh.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Dn(n)},fh.set(e,n),n)}return{value:e,source:n,stack:Dn(n)}}var _r=[],yr=0,Ei=null,gl=0,qn=[],Pn=0,Ka=null,da=1,fa="";function wa(e,n){_r[yr++]=gl,_r[yr++]=Ei,Ei=e,gl=n}function hh(e,n,r){qn[Pn++]=da,qn[Pn++]=fa,qn[Pn++]=Ka,Ka=e;var i=da;e=fa;var u=32-kt(i)-1;i&=~(1<<u),r+=1;var d=32-kt(n)+u;if(30<d){var _=u-u%5;d=(i&(1<<_)-1).toString(32),i>>=_,u-=_,da=1<<32-kt(n)+u|r<<u|i,fa=d+e}else da=1<<d|r<<u|i,fa=e}function Ac(e){e.return!==null&&(wa(e,1),hh(e,1,0))}function Dc(e){for(;e===Ei;)Ei=_r[--yr],_r[yr]=null,gl=_r[--yr],_r[yr]=null;for(;e===Ka;)Ka=qn[--Pn],qn[Pn]=null,fa=qn[--Pn],qn[Pn]=null,da=qn[--Pn],qn[Pn]=null}function mh(e,n){qn[Pn++]=da,qn[Pn++]=fa,qn[Pn++]=Ka,da=n.id,fa=n.overflow,Ka=e}var Yt=null,ht=null,Ve=!1,Ya=null,Hn=!1,zc=Error(o(519));function Xa(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l($n(n,e)),zc}function ph(e){var n=e.stateNode,r=e.type,i=e.memoizedProps;switch(n[gt]=e,n[It]=i,r){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(r=0;r<$l.length;r++)Pe($l[r],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),Rf(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),Of(n,i.value,i.defaultValue,i.children)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||i.suppressHydrationWarning===!0||Dp(n.textContent,r)?(i.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),i.onScroll!=null&&Pe("scroll",n),i.onScrollEnd!=null&&Pe("scrollend",n),i.onClick!=null&&(n.onclick=ja),n=!0):n=!1,n||Xa(e,!0)}function gh(e){for(Yt=e.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Yt=Yt.return}}function vr(e){if(e!==Yt)return!1;if(!Ve)return gh(e),Ve=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Xu(e.type,e.memoizedProps)),r=!r),r&&ht&&Xa(e),gh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=Pp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ht=Pp(e)}else n===27?(n=ht,ds(e.type)?(e=nd,nd=null,ht=e):ht=n):ht=Yt?Fn(e.stateNode.nextSibling):null;return!0}function Ds(){ht=Yt=null,Ve=!1}function Bc(){var e=Ya;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ya=null),e}function _l(e){Ya===null?Ya=[e]:Ya.push(e)}var kc=O(null),zs=null,Ca=null;function Ja(e,n,r){oe(kc,n._currentValue),n._currentValue=r}function Ea(e){e._currentValue=kc.current,Q(kc)}function Mc(e,n,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===r)break;e=e.return}}function Lc(e,n,r,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var _=u.child;d=d.firstContext;e:for(;d!==null;){var j=d;d=u;for(var T=0;T<n.length;T++)if(j.context===n[T]){d.lanes|=r,j=d.alternate,j!==null&&(j.lanes|=r),Mc(d.return,r,e),i||(_=null);break e}d=j.next}}else if(u.tag===18){if(_=u.return,_===null)throw Error(o(341));_.lanes|=r,d=_.alternate,d!==null&&(d.lanes|=r),Mc(_,r,e),_=null}else _=u.child;if(_!==null)_.return=u;else for(_=u;_!==null;){if(_===e){_=null;break}if(u=_.sibling,u!==null){u.return=_.return,_=u;break}_=_.return}u=_}}function br(e,n,r,i){e=null;for(var u=n,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var _=u.alternate;if(_===null)throw Error(o(387));if(_=_.memoizedProps,_!==null){var j=u.type;jn(u.pendingProps.value,_.value)||(e!==null?e.push(j):e=[j])}}else if(u===Re.current){if(_=u.alternate,_===null)throw Error(o(387));_.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}u=u.return}e!==null&&Lc(n,e,r,i),n.flags|=262144}function Ri(e){for(e=e.firstContext;e!==null;){if(!jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bs(e){zs=e,Ca=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return _h(zs,e)}function Ti(e,n){return zs===null&&Bs(e),_h(e,n)}function _h(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ca===null){if(e===null)throw Error(o(308));Ca=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ca=Ca.next=n;return r}var lb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,i){e.push(i)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},ib=t.unstable_scheduleCallback,ob=t.unstable_NormalPriority,Mt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new lb,data:new Map,refCount:0}}function yl(e){e.refCount--,e.refCount===0&&ib(ob,function(){e.controller.abort()})}var vl=null,$c=0,xr=0,jr=null;function cb(e,n){if(vl===null){var r=vl=[];$c=0,xr=Hu(),jr={status:"pending",value:void 0,then:function(i){r.push(i)}}}return $c++,n.then(yh,yh),n}function yh(){if(--$c===0&&vl!==null){jr!==null&&(jr.status="fulfilled");var e=vl;vl=null,xr=0,jr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ub(e,n){var r=[],i={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){i.status="fulfilled",i.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(i.status="rejected",i.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),i}var vh=G.S;G.S=function(e,n){np=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cb(e,n),vh!==null&&vh(e,n)};var ks=O(null);function qc(){var e=ks.current;return e!==null?e:ut.pooledCache}function Oi(e,n){n===null?oe(ks,ks.current):oe(ks,n.pool)}function bh(){var e=qc();return e===null?null:{parent:Mt._currentValue,pool:e}}var Sr=Error(o(460)),Pc=Error(o(474)),Ai=Error(o(542)),Di={then:function(){}};function xh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jh(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ja,ja),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nh(e),e;default:if(typeof n.status=="string")n.then(ja,ja);else{if(e=ut,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(i){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=i}},function(i){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Nh(e),e}throw Ls=n,Sr}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ls=r,Sr):r}}var Ls=null;function Sh(){if(Ls===null)throw Error(o(459));var e=Ls;return Ls=null,e}function Nh(e){if(e===Sr||e===Ai)throw Error(o(483))}var Nr=null,bl=0;function zi(e){var n=bl;return bl+=1,Nr===null&&(Nr=[]),jh(Nr,e,n)}function xl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bi(e,n){throw n.$$typeof===N?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wh(e){function n(L,B){if(e){var q=L.deletions;q===null?(L.deletions=[B],L.flags|=16):q.push(B)}}function r(L,B){if(!e)return null;for(;B!==null;)n(L,B),B=B.sibling;return null}function i(L){for(var B=new Map;L!==null;)L.key!==null?B.set(L.key,L):B.set(L.index,L),L=L.sibling;return B}function u(L,B){return L=Na(L,B),L.index=0,L.sibling=null,L}function d(L,B,q){return L.index=q,e?(q=L.alternate,q!==null?(q=q.index,q<B?(L.flags|=67108866,B):q):(L.flags|=67108866,B)):(L.flags|=1048576,B)}function _(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function j(L,B,q,J){return B===null||B.tag!==6?(B=Tc(q,L.mode,J),B.return=L,B):(B=u(B,q),B.return=L,B)}function T(L,B,q,J){var xe=q.type;return xe===w?Y(L,B,q.props.children,J,q.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&Ms(xe)===B.type)?(B=u(B,q.props),xl(B,q),B.return=L,B):(B=Ci(q.type,q.key,q.props,null,L.mode,J),xl(B,q),B.return=L,B)}function P(L,B,q,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=Oc(q,L.mode,J),B.return=L,B):(B=u(B,q.children||[]),B.return=L,B)}function Y(L,B,q,J,xe){return B===null||B.tag!==7?(B=As(q,L.mode,J,xe),B.return=L,B):(B=u(B,q),B.return=L,B)}function W(L,B,q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Tc(""+B,L.mode,q),B.return=L,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case R:return q=Ci(B.type,B.key,B.props,null,L.mode,q),xl(q,B),q.return=L,q;case b:return B=Oc(B,L.mode,q),B.return=L,B;case X:return B=Ms(B),W(L,B,q)}if(ot(B)||Oe(B))return B=As(B,L.mode,q,null),B.return=L,B;if(typeof B.then=="function")return W(L,zi(B),q);if(B.$$typeof===H)return W(L,Ti(L,B),q);Bi(L,B)}return null}function F(L,B,q,J){var xe=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:j(L,B,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===xe?T(L,B,q,J):null;case b:return q.key===xe?P(L,B,q,J):null;case X:return q=Ms(q),F(L,B,q,J)}if(ot(q)||Oe(q))return xe!==null?null:Y(L,B,q,J,null);if(typeof q.then=="function")return F(L,B,zi(q),J);if(q.$$typeof===H)return F(L,B,Ti(L,q),J);Bi(L,q)}return null}function V(L,B,q,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(q)||null,j(B,L,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case R:return L=L.get(J.key===null?q:J.key)||null,T(B,L,J,xe);case b:return L=L.get(J.key===null?q:J.key)||null,P(B,L,J,xe);case X:return J=Ms(J),V(L,B,q,J,xe)}if(ot(J)||Oe(J))return L=L.get(q)||null,Y(B,L,J,xe,null);if(typeof J.then=="function")return V(L,B,q,zi(J),xe);if(J.$$typeof===H)return V(L,B,q,Ti(B,J),xe);Bi(B,J)}return null}function me(L,B,q,J){for(var xe=null,Ke=null,ge=B,Le=B=0,Fe=null;ge!==null&&Le<q.length;Le++){ge.index>Le?(Fe=ge,ge=null):Fe=ge.sibling;var Ye=F(L,ge,q[Le],J);if(Ye===null){ge===null&&(ge=Fe);break}e&&ge&&Ye.alternate===null&&n(L,ge),B=d(Ye,B,Le),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye,ge=Fe}if(Le===q.length)return r(L,ge),Ve&&wa(L,Le),xe;if(ge===null){for(;Le<q.length;Le++)ge=W(L,q[Le],J),ge!==null&&(B=d(ge,B,Le),Ke===null?xe=ge:Ke.sibling=ge,Ke=ge);return Ve&&wa(L,Le),xe}for(ge=i(ge);Le<q.length;Le++)Fe=V(ge,L,Le,q[Le],J),Fe!==null&&(e&&Fe.alternate!==null&&ge.delete(Fe.key===null?Le:Fe.key),B=d(Fe,B,Le),Ke===null?xe=Fe:Ke.sibling=Fe,Ke=Fe);return e&&ge.forEach(function(gs){return n(L,gs)}),Ve&&wa(L,Le),xe}function Ne(L,B,q,J){if(q==null)throw Error(o(151));for(var xe=null,Ke=null,ge=B,Le=B=0,Fe=null,Ye=q.next();ge!==null&&!Ye.done;Le++,Ye=q.next()){ge.index>Le?(Fe=ge,ge=null):Fe=ge.sibling;var gs=F(L,ge,Ye.value,J);if(gs===null){ge===null&&(ge=Fe);break}e&&ge&&gs.alternate===null&&n(L,ge),B=d(gs,B,Le),Ke===null?xe=gs:Ke.sibling=gs,Ke=gs,ge=Fe}if(Ye.done)return r(L,ge),Ve&&wa(L,Le),xe;if(ge===null){for(;!Ye.done;Le++,Ye=q.next())Ye=W(L,Ye.value,J),Ye!==null&&(B=d(Ye,B,Le),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return Ve&&wa(L,Le),xe}for(ge=i(ge);!Ye.done;Le++,Ye=q.next())Ye=V(ge,L,Le,Ye.value,J),Ye!==null&&(e&&Ye.alternate!==null&&ge.delete(Ye.key===null?Le:Ye.key),B=d(Ye,B,Le),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return e&&ge.forEach(function(xx){return n(L,xx)}),Ve&&wa(L,Le),xe}function lt(L,B,q,J){if(typeof q=="object"&&q!==null&&q.type===w&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var xe=q.key;B!==null;){if(B.key===xe){if(xe=q.type,xe===w){if(B.tag===7){r(L,B.sibling),J=u(B,q.props.children),J.return=L,L=J;break e}}else if(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&Ms(xe)===B.type){r(L,B.sibling),J=u(B,q.props),xl(J,q),J.return=L,L=J;break e}r(L,B);break}else n(L,B);B=B.sibling}q.type===w?(J=As(q.props.children,L.mode,J,q.key),J.return=L,L=J):(J=Ci(q.type,q.key,q.props,null,L.mode,J),xl(J,q),J.return=L,L=J)}return _(L);case b:e:{for(xe=q.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){r(L,B.sibling),J=u(B,q.children||[]),J.return=L,L=J;break e}else{r(L,B);break}else n(L,B);B=B.sibling}J=Oc(q,L.mode,J),J.return=L,L=J}return _(L);case X:return q=Ms(q),lt(L,B,q,J)}if(ot(q))return me(L,B,q,J);if(Oe(q)){if(xe=Oe(q),typeof xe!="function")throw Error(o(150));return q=xe.call(q),Ne(L,B,q,J)}if(typeof q.then=="function")return lt(L,B,zi(q),J);if(q.$$typeof===H)return lt(L,B,Ti(L,q),J);Bi(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,B!==null&&B.tag===6?(r(L,B.sibling),J=u(B,q),J.return=L,L=J):(r(L,B),J=Tc(q,L.mode,J),J.return=L,L=J),_(L)):r(L,B)}return function(L,B,q,J){try{bl=0;var xe=lt(L,B,q,J);return Nr=null,xe}catch(ge){if(ge===Sr||ge===Ai)throw ge;var Ke=Sn(29,ge,null,L.mode);return Ke.lanes=J,Ke.return=L,Ke}finally{}}}var Us=wh(!0),Ch=wh(!1),Wa=!1;function Hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ts(e,n,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(We&2)!==0){var u=i.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),i.pending=n,n=wi(e),ch(e,null,r),n}return Ni(e,i,n,r),wi(e)}function jl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,D(e,r)}}function Fc(e,n){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var u=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?u=d=_:d=d.next=_,r=r.next}while(r!==null);d===null?u=d=n:d=d.next=n}else u=d=n;r={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:i.shared,callbacks:i.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Ic=!1;function Sl(){if(Ic){var e=jr;if(e!==null)throw e}}function Nl(e,n,r,i){Ic=!1;var u=e.updateQueue;Wa=!1;var d=u.firstBaseUpdate,_=u.lastBaseUpdate,j=u.shared.pending;if(j!==null){u.shared.pending=null;var T=j,P=T.next;T.next=null,_===null?d=P:_.next=P,_=T;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,j=Y.lastBaseUpdate,j!==_&&(j===null?Y.firstBaseUpdate=P:j.next=P,Y.lastBaseUpdate=T))}if(d!==null){var W=u.baseState;_=0,Y=P=T=null,j=d;do{var F=j.lane&-536870913,V=F!==j.lane;if(V?(Ge&F)===F:(i&F)===F){F!==0&&F===xr&&(Ic=!0),Y!==null&&(Y=Y.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var me=e,Ne=j;F=n;var lt=r;switch(Ne.tag){case 1:if(me=Ne.payload,typeof me=="function"){W=me.call(lt,W,F);break e}W=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ne.payload,F=typeof me=="function"?me.call(lt,W,F):me,F==null)break e;W=v({},W,F);break e;case 2:Wa=!0}}F=j.callback,F!==null&&(e.flags|=64,V&&(e.flags|=8192),V=u.callbacks,V===null?u.callbacks=[F]:V.push(F))}else V={lane:F,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Y===null?(P=Y=V,T=W):Y=Y.next=V,_|=F;if(j=j.next,j===null){if(j=u.shared.pending,j===null)break;V=j,j=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);Y===null&&(T=W),u.baseState=T,u.firstBaseUpdate=P,u.lastBaseUpdate=Y,d===null&&(u.shared.lanes=0),ls|=_,e.lanes=_,e.memoizedState=W}}function Eh(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function Rh(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Eh(r[e],n)}var wr=O(null),ki=O(0);function Th(e,n){e=Ma,oe(ki,e),oe(wr,n),Ma=e|n.baseLanes}function Zc(){oe(ki,Ma),oe(wr,wr.current)}function Vc(){Ma=ki.current,Q(wr),Q(ki)}var Nn=O(null),Gn=null;function ns(e){var n=e.alternate;oe(Rt,Rt.current&1),oe(Nn,e),Gn===null&&(n===null||wr.current!==null||n.memoizedState!==null)&&(Gn=e)}function Qc(e){oe(Rt,Rt.current),oe(Nn,e),Gn===null&&(Gn=e)}function Oh(e){e.tag===22?(oe(Rt,Rt.current),oe(Nn,e),Gn===null&&(Gn=e)):as()}function as(){oe(Rt,Rt.current),oe(Nn,Nn.current)}function wn(e){Q(Nn),Gn===e&&(Gn=null),Q(Rt)}var Rt=O(0);function Mi(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ed(r)||td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ra=0,Be=null,st=null,Lt=null,Li=!1,Cr=!1,$s=!1,Ui=0,wl=0,Er=null,db=0;function jt(){throw Error(o(321))}function Kc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!jn(e[r],n[r]))return!1;return!0}function Yc(e,n,r,i,u,d){return Ra=d,Be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?hm:du,$s=!1,d=r(i,u),$s=!1,Cr&&(d=Dh(n,r,i,u)),Ah(e),d}function Ah(e){G.H=Rl;var n=st!==null&&st.next!==null;if(Ra=0,Lt=st=Be=null,Li=!1,wl=0,Er=null,n)throw Error(o(300));e===null||Ut||(e=e.dependencies,e!==null&&Ri(e)&&(Ut=!0))}function Dh(e,n,r,i){Be=e;var u=0;do{if(Cr&&(Er=null),wl=0,Cr=!1,25<=u)throw Error(o(301));if(u+=1,Lt=st=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=mm,d=n(r,i)}while(Cr);return d}function fb(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Cl(n):n,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(Be.flags|=1024),n}function Xc(){var e=Ui!==0;return Ui=0,e}function Jc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Wc(e){if(Li){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Li=!1}Ra=0,Lt=st=Be=null,Cr=!1,wl=Ui=0,Er=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Be.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Tt(){if(st===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var n=Lt===null?Be.memoizedState:Lt.next;if(n!==null)Lt=n,st=e;else{if(e===null)throw Be.alternate===null?Error(o(467)):Error(o(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Lt===null?Be.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function $i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cl(e){var n=wl;return wl+=1,Er===null&&(Er=[]),e=jh(Er,e,n),n=Be,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?hm:du),e}function qi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Cl(e);if(e.$$typeof===H)return Xt(e)}throw Error(o(438,String(e)))}function eu(e){var n=null,r=Be.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var i=Be.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=$i(),Be.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),i=0;i<e;i++)r[i]=ie;return n.index++,r}function Ta(e,n){return typeof n=="function"?n(e):n}function Pi(e){var n=Tt();return tu(n,st,e)}function tu(e,n,r){var i=e.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=r;var u=e.baseQueue,d=i.pending;if(d!==null){if(u!==null){var _=u.next;u.next=d.next,d.next=_}n.baseQueue=u=d,i.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{n=u.next;var j=_=null,T=null,P=n,Y=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Ge&W)===W:(Ra&W)===W){var F=P.revertLane;if(F===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===xr&&(Y=!0);else if((Ra&F)===F){P=P.next,F===xr&&(Y=!0);continue}else W={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(j=T=W,_=d):T=T.next=W,Be.lanes|=F,ls|=F;W=P.action,$s&&r(d,W),d=P.hasEagerState?P.eagerState:r(d,W)}else F={lane:W,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},T===null?(j=T=F,_=d):T=T.next=F,Be.lanes|=W,ls|=W;P=P.next}while(P!==null&&P!==n);if(T===null?_=d:T.next=j,!jn(d,e.memoizedState)&&(Ut=!0,Y&&(r=jr,r!==null)))throw r;e.memoizedState=d,e.baseState=_,e.baseQueue=T,i.lastRenderedState=d}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function nu(e){var n=Tt(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var i=r.dispatch,u=r.pending,d=n.memoizedState;if(u!==null){r.pending=null;var _=u=u.next;do d=e(d,_.action),_=_.next;while(_!==u);jn(d,n.memoizedState)||(Ut=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,i]}function zh(e,n,r){var i=Be,u=Tt(),d=Ve;if(d){if(r===void 0)throw Error(o(407));r=r()}else r=n();var _=!jn((st||u).memoizedState,r);if(_&&(u.memoizedState=r,Ut=!0),u=u.queue,ru(Mh.bind(null,i,u,e),[e]),u.getSnapshot!==n||_||Lt!==null&&Lt.memoizedState.tag&1){if(i.flags|=2048,Rr(9,{destroy:void 0},kh.bind(null,i,u,r,n),null),ut===null)throw Error(o(349));d||(Ra&127)!==0||Bh(i,n,r)}return r}function Bh(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Be.updateQueue,n===null?(n=$i(),Be.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function kh(e,n,r,i){n.value=r,n.getSnapshot=i,Lh(n)&&Uh(e)}function Mh(e,n,r){return r(function(){Lh(n)&&Uh(e)})}function Lh(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!jn(e,r)}catch{return!0}}function Uh(e){var n=Os(e,2);n!==null&&gn(n,e,2)}function au(e){var n=ln();if(typeof e=="function"){var r=e;if(e=r(),$s){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},n}function $h(e,n,r,i){return e.baseState=r,tu(e,st,typeof i=="function"?i:Ta)}function hb(e,n,r,i,u){if(Fi(e))throw Error(o(485));if(e=n.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?r(!0):d.isTransition=!1,i(d),r=n.pending,r===null?(d.next=n.pending=d,qh(n,d)):(d.next=r.next,n.pending=r.next=d)}}function qh(e,n){var r=n.action,i=n.payload,u=e.state;if(n.isTransition){var d=G.T,_={};G.T=_;try{var j=r(u,i),T=G.S;T!==null&&T(_,j),Ph(e,n,j)}catch(P){su(e,n,P)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=r(u,i),Ph(e,n,d)}catch(P){su(e,n,P)}}function Ph(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){Hh(e,n,i)},function(i){return su(e,n,i)}):Hh(e,n,r)}function Hh(e,n,r){n.status="fulfilled",n.value=r,Gh(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qh(e,r)))}function su(e,n,r){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=r,Gh(n),n=n.next;while(n!==i)}e.action=null}function Gh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fh(e,n){return n}function Ih(e,n){if(Ve){var r=ut.formState;if(r!==null){e:{var i=Be;if(Ve){if(ht){t:{for(var u=ht,d=Hn;u.nodeType!==8;){if(!d){u=null;break t}if(u=Fn(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){ht=Fn(u.nextSibling),i=u.data==="F!";break e}}Xa(i)}i=!1}i&&(n=r[0])}}return r=ln(),r.memoizedState=r.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:n},r.queue=i,r=um.bind(null,Be,i),i.dispatch=r,i=au(!1),d=uu.bind(null,Be,!1,i.queue),i=ln(),u={state:n,dispatch:null,action:e,pending:null},i.queue=u,r=hb.bind(null,Be,u,d,r),u.dispatch=r,i.memoizedState=e,[n,r,!1]}function Zh(e){var n=Tt();return Vh(n,st,e)}function Vh(e,n,r){if(n=tu(e,n,Fh)[0],e=Pi(Ta)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=Cl(n)}catch(_){throw _===Sr?Ai:_}else i=n;n=Tt();var u=n.queue,d=u.dispatch;return r!==n.memoizedState&&(Be.flags|=2048,Rr(9,{destroy:void 0},mb.bind(null,u,r),null)),[i,d,e]}function mb(e,n){e.action=n}function Qh(e){var n=Tt(),r=st;if(r!==null)return Vh(n,r,e);Tt(),n=n.memoizedState,r=Tt();var i=r.queue.dispatch;return r.memoizedState=e,[n,i,!1]}function Rr(e,n,r,i){return e={tag:e,create:r,deps:i,inst:n,next:null},n=Be.updateQueue,n===null&&(n=$i(),Be.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,n.lastEffect=e),e}function Kh(){return Tt().memoizedState}function Hi(e,n,r,i){var u=ln();Be.flags|=e,u.memoizedState=Rr(1|n,{destroy:void 0},r,i===void 0?null:i)}function Gi(e,n,r,i){var u=Tt();i=i===void 0?null:i;var d=u.memoizedState.inst;st!==null&&i!==null&&Kc(i,st.memoizedState.deps)?u.memoizedState=Rr(n,d,r,i):(Be.flags|=e,u.memoizedState=Rr(1|n,d,r,i))}function Yh(e,n){Hi(8390656,8,e,n)}function ru(e,n){Gi(2048,8,e,n)}function pb(e){Be.flags|=4;var n=Be.updateQueue;if(n===null)n=$i(),Be.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Xh(e){var n=Tt().memoizedState;return pb({ref:n,nextImpl:e}),function(){if((We&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Jh(e,n){return Gi(4,2,e,n)}function Wh(e,n){return Gi(4,4,e,n)}function em(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function tm(e,n,r){r=r!=null?r.concat([e]):null,Gi(4,4,em.bind(null,n,e),r)}function lu(){}function nm(e,n){var r=Tt();n=n===void 0?null:n;var i=r.memoizedState;return n!==null&&Kc(n,i[1])?i[0]:(r.memoizedState=[e,n],e)}function am(e,n){var r=Tt();n=n===void 0?null:n;var i=r.memoizedState;if(n!==null&&Kc(n,i[1]))return i[0];if(i=e(),$s){zn(!0);try{e()}finally{zn(!1)}}return r.memoizedState=[i,n],i}function iu(e,n,r){return r===void 0||(Ra&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=sp(),Be.lanes|=e,ls|=e,r)}function sm(e,n,r,i){return jn(r,n)?r:wr.current!==null?(e=iu(e,r,i),jn(e,n)||(Ut=!0),e):(Ra&42)===0||(Ra&1073741824)!==0&&(Ge&261930)===0?(Ut=!0,e.memoizedState=r):(e=sp(),Be.lanes|=e,ls|=e,n)}function rm(e,n,r,i,u){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=G.T,j={};G.T=j,uu(e,!1,n,r);try{var T=u(),P=G.S;if(P!==null&&P(j,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var Y=ub(T,i);El(e,n,Y,Rn(e))}else El(e,n,i,Rn(e))}catch(W){El(e,n,{then:function(){},status:"rejected",reason:W},Rn())}finally{ae.p=d,_!==null&&j.types!==null&&(_.types=j.types),G.T=_}}function gb(){}function ou(e,n,r,i){if(e.tag!==5)throw Error(o(476));var u=lm(e).queue;rm(e,u,n,he,r===null?gb:function(){return im(e),r(i)})}function lm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function im(e){var n=lm(e);n.next===null&&(n=e.alternate.memoizedState),El(e,n.next.queue,{},Rn())}function cu(){return Xt(Fl)}function om(){return Tt().memoizedState}function cm(){return Tt().memoizedState}function _b(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Rn();e=es(r);var i=ts(n,e,r);i!==null&&(gn(i,n,r),jl(i,n,r)),n={cache:Uc()},e.payload=n;return}n=n.return}}function yb(e,n,r){var i=Rn();r={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fi(e)?dm(n,r):(r=Ec(e,n,r,i),r!==null&&(gn(r,e,i),fm(r,n,i)))}function um(e,n,r){var i=Rn();El(e,n,r,i)}function El(e,n,r,i){var u={lane:i,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fi(e))dm(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,j=d(_,r);if(u.hasEagerState=!0,u.eagerState=j,jn(j,_))return Ni(e,n,u,0),ut===null&&Si(),!1}catch{}finally{}if(r=Ec(e,n,u,i),r!==null)return gn(r,e,i),fm(r,n,i),!0}return!1}function uu(e,n,r,i){if(i={lane:2,revertLane:Hu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fi(e)){if(n)throw Error(o(479))}else n=Ec(e,r,i,2),n!==null&&gn(n,e,2)}function Fi(e){var n=e.alternate;return e===Be||n!==null&&n===Be}function dm(e,n){Cr=Li=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function fm(e,n,r){if((r&4194048)!==0){var i=n.lanes;i&=e.pendingLanes,r|=i,n.lanes=r,D(e,r)}}var Rl={readContext:Xt,use:qi,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt};Rl.useEffectEvent=jt;var hm={readContext:Xt,use:qi,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Xt,useEffect:Yh,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Hi(4194308,4,em.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Hi(4194308,4,e,n)},useInsertionEffect:function(e,n){Hi(4,2,e,n)},useMemo:function(e,n){var r=ln();n=n===void 0?null:n;var i=e();if($s){zn(!0);try{e()}finally{zn(!1)}}return r.memoizedState=[i,n],i},useReducer:function(e,n,r){var i=ln();if(r!==void 0){var u=r(n);if($s){zn(!0);try{r(n)}finally{zn(!1)}}}else u=n;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=yb.bind(null,Be,e),[i.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=au(e);var n=e.queue,r=um.bind(null,Be,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:lu,useDeferredValue:function(e,n){var r=ln();return iu(r,e,n)},useTransition:function(){var e=au(!1);return e=rm.bind(null,Be,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var i=Be,u=ln();if(Ve){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),ut===null)throw Error(o(349));(Ge&127)!==0||Bh(i,n,r)}u.memoizedState=r;var d={value:r,getSnapshot:n};return u.queue=d,Yh(Mh.bind(null,i,d,e),[e]),i.flags|=2048,Rr(9,{destroy:void 0},kh.bind(null,i,d,r,n),null),r},useId:function(){var e=ln(),n=ut.identifierPrefix;if(Ve){var r=fa,i=da;r=(i&~(1<<32-kt(i)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Ui++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=db++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:cu,useFormState:Ih,useActionState:Ih,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=uu.bind(null,Be,!0,r),r.dispatch=n,[e,n]},useMemoCache:eu,useCacheRefresh:function(){return ln().memoizedState=_b.bind(null,Be)},useEffectEvent:function(e){var n=ln(),r={impl:e};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},du={readContext:Xt,use:qi,useCallback:nm,useContext:Xt,useEffect:ru,useImperativeHandle:tm,useInsertionEffect:Jh,useLayoutEffect:Wh,useMemo:am,useReducer:Pi,useRef:Kh,useState:function(){return Pi(Ta)},useDebugValue:lu,useDeferredValue:function(e,n){var r=Tt();return sm(r,st.memoizedState,e,n)},useTransition:function(){var e=Pi(Ta)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:zh,useId:om,useHostTransitionStatus:cu,useFormState:Zh,useActionState:Zh,useOptimistic:function(e,n){var r=Tt();return $h(r,st,e,n)},useMemoCache:eu,useCacheRefresh:cm};du.useEffectEvent=Xh;var mm={readContext:Xt,use:qi,useCallback:nm,useContext:Xt,useEffect:ru,useImperativeHandle:tm,useInsertionEffect:Jh,useLayoutEffect:Wh,useMemo:am,useReducer:nu,useRef:Kh,useState:function(){return nu(Ta)},useDebugValue:lu,useDeferredValue:function(e,n){var r=Tt();return st===null?iu(r,e,n):sm(r,st.memoizedState,e,n)},useTransition:function(){var e=nu(Ta)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Cl(e),n]},useSyncExternalStore:zh,useId:om,useHostTransitionStatus:cu,useFormState:Qh,useActionState:Qh,useOptimistic:function(e,n){var r=Tt();return st!==null?$h(r,st,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:eu,useCacheRefresh:cm};mm.useEffectEvent=Xh;function fu(e,n,r,i){n=e.memoizedState,r=r(i,n),r=r==null?n:v({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hu={enqueueSetState:function(e,n,r){e=e._reactInternals;var i=Rn(),u=es(i);u.payload=n,r!=null&&(u.callback=r),n=ts(e,u,i),n!==null&&(gn(n,e,i),jl(n,e,i))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var i=Rn(),u=es(i);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=ts(e,u,i),n!==null&&(gn(n,e,i),jl(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Rn(),i=es(r);i.tag=2,n!=null&&(i.callback=n),n=ts(e,i,r),n!==null&&(gn(n,e,r),jl(n,e,r))}};function pm(e,n,r,i,u,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,_):n.prototype&&n.prototype.isPureReactComponent?!ml(r,i)||!ml(u,d):!0}function gm(e,n,r,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,i),n.state!==e&&hu.enqueueReplaceState(n,n.state,null)}function qs(e,n){var r=n;if("ref"in n){r={};for(var i in n)i!=="ref"&&(r[i]=n[i])}if(e=e.defaultProps){r===n&&(r=v({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}function _m(e){ji(e)}function ym(e){console.error(e)}function vm(e){ji(e)}function Ii(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function bm(e,n,r){try{var i=e.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function mu(e,n,r){return r=es(r),r.tag=3,r.payload={element:null},r.callback=function(){Ii(e,n)},r}function xm(e){return e=es(e),e.tag=3,e}function jm(e,n,r,i){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var d=i.value;e.payload=function(){return u(d)},e.callback=function(){bm(n,r,i)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){bm(n,r,i),typeof u!="function"&&(is===null?is=new Set([this]):is.add(this));var j=i.stack;this.componentDidCatch(i.value,{componentStack:j!==null?j:""})})}function vb(e,n,r,i,u){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=r.alternate,n!==null&&br(n,r,u,!0),r=Nn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?ao():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=u,i===Di?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([i]):n.add(i),$u(e,i,u)),!1;case 22:return r.flags|=65536,i===Di?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([i]):r.add(i)),$u(e,i,u)),!1}throw Error(o(435,r.tag))}return $u(e,i,u),ao(),!1}if(Ve)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,i!==zc&&(e=Error(o(422),{cause:i}),_l($n(e,r)))):(i!==zc&&(n=Error(o(423),{cause:i}),_l($n(n,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=$n(i,r),u=mu(e.stateNode,i,u),Fc(e,u),St!==4&&(St=2)),!1;var d=Error(o(520),{cause:i});if(d=$n(d,r),Ml===null?Ml=[d]:Ml.push(d),St!==4&&(St=2),n===null)return!0;i=$n(i,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=mu(r.stateNode,i,e),Fc(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))))return r.flags|=65536,u&=-u,r.lanes|=u,u=xm(u),jm(u,e,r,i),Fc(r,u),!1}r=r.return}while(r!==null);return!1}var pu=Error(o(461)),Ut=!1;function Jt(e,n,r,i){n.child=e===null?Ch(n,null,r,i):Us(n,e.child,r,i)}function Sm(e,n,r,i,u){r=r.render;var d=n.ref;if("ref"in i){var _={};for(var j in i)j!=="ref"&&(_[j]=i[j])}else _=i;return Bs(n),i=Yc(e,n,r,_,d,u),j=Xc(),e!==null&&!Ut?(Jc(e,n,u),Oa(e,n,u)):(Ve&&j&&Ac(n),n.flags|=1,Jt(e,n,i,u),n.child)}function Nm(e,n,r,i,u){if(e===null){var d=r.type;return typeof d=="function"&&!Rc(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,wm(e,n,d,i,u)):(e=Ci(r.type,null,i,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Su(e,u)){var _=d.memoizedProps;if(r=r.compare,r=r!==null?r:ml,r(_,i)&&e.ref===n.ref)return Oa(e,n,u)}return n.flags|=1,e=Na(d,i),e.ref=n.ref,e.return=n,n.child=e}function wm(e,n,r,i,u){if(e!==null){var d=e.memoizedProps;if(ml(d,i)&&e.ref===n.ref)if(Ut=!1,n.pendingProps=i=d,Su(e,u))(e.flags&131072)!==0&&(Ut=!0);else return n.lanes=e.lanes,Oa(e,n,u)}return gu(e,n,r,i,u)}function Cm(e,n,r,i){var u=i.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(i=n.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~d}else i=0,n.child=null;return Em(e,n,d,r,i)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oi(n,d!==null?d.cachePool:null),d!==null?Th(n,d):Zc(),Oh(n);else return i=n.lanes=536870912,Em(e,n,d!==null?d.baseLanes|r:r,r,i)}else d!==null?(Oi(n,d.cachePool),Th(n,d),as(),n.memoizedState=null):(e!==null&&Oi(n,null),Zc(),as());return Jt(e,n,u,r),n.child}function Tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Em(e,n,r,i,u){var d=qc();return d=d===null?null:{parent:Mt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&Oi(n,null),Zc(),Oh(n),e!==null&&br(e,n,i,!0),n.childLanes=u,null}function Zi(e,n){return n=Qi({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Rm(e,n,r){return Us(n,e.child,null,r),e=Zi(n,n.pendingProps),e.flags|=2,wn(n),n.memoizedState=null,e}function bb(e,n,r){var i=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ve){if(i.mode==="hidden")return e=Zi(n,i),n.lanes=536870912,Tl(null,e);if(Qc(n),(e=ht)?(e=qp(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},r=dh(e),r.return=n,n.child=r,Yt=n,ht=null)):e=null,e===null)throw Xa(n);return n.lanes=536870912,null}return Zi(n,i)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(Qc(n),u)if(n.flags&256)n.flags&=-257,n=Rm(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ut||br(e,n,r,!1),u=(r&e.childLanes)!==0,Ut||u){if(i=ut,i!==null&&(_=ne(i,r),_!==0&&_!==d.retryLane))throw d.retryLane=_,Os(e,_),gn(i,e,_),pu;ao(),n=Rm(e,n,r)}else e=d.treeContext,ht=Fn(_.nextSibling),Yt=n,Ve=!0,Ya=null,Hn=!1,e!==null&&mh(n,e),n=Zi(n,i),n.flags|=4096;return n}return e=Na(e.child,{mode:i.mode,children:i.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Vi(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gu(e,n,r,i,u){return Bs(n),r=Yc(e,n,r,i,void 0,u),i=Xc(),e!==null&&!Ut?(Jc(e,n,u),Oa(e,n,u)):(Ve&&i&&Ac(n),n.flags|=1,Jt(e,n,r,u),n.child)}function Tm(e,n,r,i,u,d){return Bs(n),n.updateQueue=null,r=Dh(n,i,r,u),Ah(e),i=Xc(),e!==null&&!Ut?(Jc(e,n,d),Oa(e,n,d)):(Ve&&i&&Ac(n),n.flags|=1,Jt(e,n,r,d),n.child)}function Om(e,n,r,i,u){if(Bs(n),n.stateNode===null){var d=gr,_=r.contextType;typeof _=="object"&&_!==null&&(d=Xt(_)),d=new r(i,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=i,d.state=n.memoizedState,d.refs={},Hc(n),_=r.contextType,d.context=typeof _=="object"&&_!==null?Xt(_):gr,d.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(fu(n,r,_,i),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hu.enqueueReplaceState(d,d.state,null),Nl(n,i,d,u),Sl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(e===null){d=n.stateNode;var j=n.memoizedProps,T=qs(r,j);d.props=T;var P=d.context,Y=r.contextType;_=gr,typeof Y=="object"&&Y!==null&&(_=Xt(Y));var W=r.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",j=n.pendingProps!==j,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(j||P!==_)&&gm(n,d,i,_),Wa=!1;var F=n.memoizedState;d.state=F,Nl(n,i,d,u),Sl(),P=n.memoizedState,j||F!==P||Wa?(typeof W=="function"&&(fu(n,r,W,i),P=n.memoizedState),(T=Wa||pm(n,r,T,i,F,P,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=P),d.props=i,d.state=P,d.context=_,i=T):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{d=n.stateNode,Gc(e,n),_=n.memoizedProps,Y=qs(r,_),d.props=Y,W=n.pendingProps,F=d.context,P=r.contextType,T=gr,typeof P=="object"&&P!==null&&(T=Xt(P)),j=r.getDerivedStateFromProps,(P=typeof j=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||F!==T)&&gm(n,d,i,T),Wa=!1,F=n.memoizedState,d.state=F,Nl(n,i,d,u),Sl();var V=n.memoizedState;_!==W||F!==V||Wa||e!==null&&e.dependencies!==null&&Ri(e.dependencies)?(typeof j=="function"&&(fu(n,r,j,i),V=n.memoizedState),(Y=Wa||pm(n,r,Y,i,F,V,T)||e!==null&&e.dependencies!==null&&Ri(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(i,V,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(i,V,T)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=V),d.props=i,d.state=V,d.context=T,i=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),i=!1)}return d=i,Vi(e,n),i=(n.flags&128)!==0,d||i?(d=n.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&i?(n.child=Us(n,e.child,null,u),n.child=Us(n,null,r,u)):Jt(e,n,r,u),n.memoizedState=d.state,e=n.child):e=Oa(e,n,u),e}function Am(e,n,r,i){return Ds(),n.flags|=256,Jt(e,n,r,i),n.child}var _u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yu(e){return{baseLanes:e,cachePool:bh()}}function vu(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function Dm(e,n,r){var i=n.pendingProps,u=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),_&&(u=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ve){if(u?ns(n):as(),(e=ht)?(e=qp(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ka!==null?{id:da,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},r=dh(e),r.return=n,n.child=r,Yt=n,ht=null)):e=null,e===null)throw Xa(n);return td(e)?n.lanes=32:n.lanes=536870912,null}var j=i.children;return i=i.fallback,u?(as(),u=n.mode,j=Qi({mode:"hidden",children:j},u),i=As(i,u,r,null),j.return=n,i.return=n,j.sibling=i,n.child=j,i=n.child,i.memoizedState=yu(r),i.childLanes=vu(e,_,r),n.memoizedState=_u,Tl(null,i)):(ns(n),bu(n,j))}var T=e.memoizedState;if(T!==null&&(j=T.dehydrated,j!==null)){if(d)n.flags&256?(ns(n),n.flags&=-257,n=xu(e,n,r)):n.memoizedState!==null?(as(),n.child=e.child,n.flags|=128,n=null):(as(),j=i.fallback,u=n.mode,i=Qi({mode:"visible",children:i.children},u),j=As(j,u,r,null),j.flags|=2,i.return=n,j.return=n,i.sibling=j,n.child=i,Us(n,e.child,null,r),i=n.child,i.memoizedState=yu(r),i.childLanes=vu(e,_,r),n.memoizedState=_u,n=Tl(null,i));else if(ns(n),td(j)){if(_=j.nextSibling&&j.nextSibling.dataset,_)var P=_.dgst;_=P,i=Error(o(419)),i.stack="",i.digest=_,_l({value:i,source:null,stack:null}),n=xu(e,n,r)}else if(Ut||br(e,n,r,!1),_=(r&e.childLanes)!==0,Ut||_){if(_=ut,_!==null&&(i=ne(_,r),i!==0&&i!==T.retryLane))throw T.retryLane=i,Os(e,i),gn(_,e,i),pu;ed(j)||ao(),n=xu(e,n,r)}else ed(j)?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,ht=Fn(j.nextSibling),Yt=n,Ve=!0,Ya=null,Hn=!1,e!==null&&mh(n,e),n=bu(n,i.children),n.flags|=4096);return n}return u?(as(),j=i.fallback,u=n.mode,T=e.child,P=T.sibling,i=Na(T,{mode:"hidden",children:i.children}),i.subtreeFlags=T.subtreeFlags&65011712,P!==null?j=Na(P,j):(j=As(j,u,r,null),j.flags|=2),j.return=n,i.return=n,i.sibling=j,n.child=i,Tl(null,i),i=n.child,j=e.child.memoizedState,j===null?j=yu(r):(u=j.cachePool,u!==null?(T=Mt._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=bh(),j={baseLanes:j.baseLanes|r,cachePool:u}),i.memoizedState=j,i.childLanes=vu(e,_,r),n.memoizedState=_u,Tl(e.child,i)):(ns(n),r=e.child,e=r.sibling,r=Na(r,{mode:"visible",children:i.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function bu(e,n){return n=Qi({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qi(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function xu(e,n,r){return Us(n,e.child,null,r),e=bu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zm(e,n,r){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),Mc(e.return,n,r)}function ju(e,n,r,i,u,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:u,treeForkCount:d}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=i,_.tail=r,_.tailMode=u,_.treeForkCount=d)}function Bm(e,n,r){var i=n.pendingProps,u=i.revealOrder,d=i.tail;i=i.children;var _=Rt.current,j=(_&2)!==0;if(j?(_=_&1|2,n.flags|=128):_&=1,oe(Rt,_),Jt(e,n,i,r),i=Ve?gl:0,!j&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zm(e,r,n);else if(e.tag===19)zm(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Mi(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),ju(n,!1,u,r,d,i);break;case"backwards":case"unstable_legacy-backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Mi(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}ju(n,!0,r,null,d,i);break;case"together":ju(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function Oa(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ls|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(br(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Na(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Na(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Su(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ri(e)))}function xb(e,n,r){switch(n.tag){case 3:Qe(n,n.stateNode.containerInfo),Ja(n,Mt,e.memoizedState.cache),Ds();break;case 27:case 5:Ft(n);break;case 4:Qe(n,n.stateNode.containerInfo);break;case 10:Ja(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Qc(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(ns(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Dm(e,n,r):(ns(n),e=Oa(e,n,r),e!==null?e.sibling:null);ns(n);break;case 19:var u=(e.flags&128)!==0;if(i=(r&n.childLanes)!==0,i||(br(e,n,r,!1),i=(r&n.childLanes)!==0),u){if(i)return Bm(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Rt,Rt.current),i)break;return null;case 22:return n.lanes=0,Cm(e,n,r,n.pendingProps);case 24:Ja(n,Mt,e.memoizedState.cache)}return Oa(e,n,r)}function km(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ut=!0;else{if(!Su(e,r)&&(n.flags&128)===0)return Ut=!1,xb(e,n,r);Ut=(e.flags&131072)!==0}else Ut=!1,Ve&&(n.flags&1048576)!==0&&hh(n,gl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Rc(e)?(i=qs(e,i),n.tag=1,n=Om(null,n,e,i,r)):(n.tag=0,n=gu(null,n,e,i,r));else{if(e!=null){var u=e.$$typeof;if(u===A){n.tag=11,n=Sm(null,n,e,i,r);break e}else if(u===M){n.tag=14,n=Nm(null,n,e,i,r);break e}}throw n=Ie(e)||e,Error(o(306,n,""))}}return n;case 0:return gu(e,n,n.type,n.pendingProps,r);case 1:return i=n.type,u=qs(i,n.pendingProps),Om(e,n,i,u,r);case 3:e:{if(Qe(n,n.stateNode.containerInfo),e===null)throw Error(o(387));i=n.pendingProps;var d=n.memoizedState;u=d.element,Gc(e,n),Nl(n,i,null,r);var _=n.memoizedState;if(i=_.cache,Ja(n,Mt,i),i!==d.cache&&Lc(n,[Mt],r,!0),Sl(),i=_.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Am(e,n,i,r);break e}else if(i!==u){u=$n(Error(o(424)),n),_l(u),n=Am(e,n,i,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ht=Fn(e.firstChild),Yt=n,Ve=!0,Ya=null,Hn=!0,r=Ch(n,null,i,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ds(),i===u){n=Oa(e,n,r);break e}Jt(e,n,i,r)}n=n.child}return n;case 26:return Vi(e,n),e===null?(r=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ve||(r=n.type,e=n.pendingProps,i=uo(Ce.current).createElement(r),i[gt]=n,i[It]=e,Wt(i,r,e),Zt(i),n.stateNode=i):n.memoizedState=Zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ft(n),e===null&&Ve&&(i=n.stateNode=Gp(n.type,n.pendingProps,Ce.current),Yt=n,Hn=!0,u=ht,ds(n.type)?(nd=u,ht=Fn(i.firstChild)):ht=u),Jt(e,n,n.pendingProps.children,r),Vi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ve&&((u=i=ht)&&(i=Xb(i,n.type,n.pendingProps,Hn),i!==null?(n.stateNode=i,Yt=n,ht=Fn(i.firstChild),Hn=!1,u=!0):u=!1),u||Xa(n)),Ft(n),u=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,i=d.children,Xu(u,d)?i=null:_!==null&&Xu(u,_)&&(n.flags|=32),n.memoizedState!==null&&(u=Yc(e,n,fb,null,null,r),Fl._currentValue=u),Vi(e,n),Jt(e,n,i,r),n.child;case 6:return e===null&&Ve&&((e=r=ht)&&(r=Jb(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Yt=n,ht=null,e=!0):e=!1),e||Xa(n)),null;case 13:return Dm(e,n,r);case 4:return Qe(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Us(n,null,i,r):Jt(e,n,i,r),n.child;case 11:return Sm(e,n,n.type,n.pendingProps,r);case 7:return Jt(e,n,n.pendingProps,r),n.child;case 8:return Jt(e,n,n.pendingProps.children,r),n.child;case 12:return Jt(e,n,n.pendingProps.children,r),n.child;case 10:return i=n.pendingProps,Ja(n,n.type,i.value),Jt(e,n,i.children,r),n.child;case 9:return u=n.type._context,i=n.pendingProps.children,Bs(n),u=Xt(u),i=i(u),n.flags|=1,Jt(e,n,i,r),n.child;case 14:return Nm(e,n,n.type,n.pendingProps,r);case 15:return wm(e,n,n.type,n.pendingProps,r);case 19:return Bm(e,n,r);case 31:return bb(e,n,r);case 22:return Cm(e,n,r,n.pendingProps);case 24:return Bs(n),i=Xt(Mt),e===null?(u=qc(),u===null&&(u=ut,d=Uc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=r),u=d),n.memoizedState={parent:i,cache:u},Hc(n),Ja(n,Mt,u)):((e.lanes&r)!==0&&(Gc(e,n),Nl(n,null,null,r),Sl()),u=e.memoizedState,d=n.memoizedState,u.parent!==i?(u={parent:i,cache:i},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Ja(n,Mt,i)):(i=d.cache,Ja(n,Mt,i),i!==u.cache&&Lc(n,[Mt],r,!0))),Jt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function Aa(e){e.flags|=4}function Nu(e,n,r,i,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(op())e.flags|=8192;else throw Ls=Di,Pc}else e.flags&=-16777217}function Mm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xp(n))if(op())e.flags|=8192;else throw Ls=Di,Pc}function Ki(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nr():536870912,e.lanes|=n,Dr|=n)}function Ol(e,n){if(!Ve)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function mt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=r,n}function jb(e,n,r){var i=n.pendingProps;switch(Dc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return r=n.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ea(Mt),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vr(n)?Aa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bc())),mt(n),null;case 26:var u=n.type,d=n.memoizedState;return e===null?(Aa(n),d!==null?(mt(n),Mm(n,d)):(mt(n),Nu(n,u,null,i,r))):d?d!==e.memoizedState?(Aa(n),mt(n),Mm(n,d)):(mt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==i&&Aa(n),mt(n),Nu(n,u,e,i,r)),null;case 27:if(re(n),r=Ce.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==i&&Aa(n);else{if(!i){if(n.stateNode===null)throw Error(o(166));return mt(n),null}e=ue.current,vr(n)?ph(n):(e=Gp(u,i,r),n.stateNode=e,Aa(n))}return mt(n),null;case 5:if(re(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==i&&Aa(n);else{if(!i){if(n.stateNode===null)throw Error(o(166));return mt(n),null}if(d=ue.current,vr(n))ph(n);else{var _=uo(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof i.is=="string"?_.createElement("select",{is:i.is}):_.createElement("select"),i.multiple?d.multiple=!0:i.size&&(d.size=i.size);break;default:d=typeof i.is=="string"?_.createElement(u,{is:i.is}):_.createElement(u)}}d[gt]=n,d[It]=i;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=d;e:switch(Wt(d,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Aa(n)}}return mt(n),Nu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==i&&Aa(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(o(166));if(e=Ce.current,vr(n)){if(e=n.stateNode,r=n.memoizedProps,i=null,u=Yt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[gt]=n,e=!!(e.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||Dp(e.nodeValue,r)),e||Xa(n,!0)}else e=uo(e).createTextNode(i),e[gt]=n,n.stateNode=e}return mt(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(i=vr(n),r!==null){if(e===null){if(!i)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[gt]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),e=!1}else r=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(wn(n),n):(wn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return mt(n),null;case 13:if(i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=vr(n),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[gt]=n}else Ds(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),u=!1}else u=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(wn(n),n):(wn(n),null)}return wn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=i!==null,e=e!==null&&e.memoizedState!==null,r&&(i=n.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),d=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),d!==u&&(i.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Ki(n,n.updateQueue),mt(n),null);case 4:return $e(),e===null&&Zu(n.stateNode.containerInfo),mt(n),null;case 10:return Ea(n.type),mt(n),null;case 19:if(Q(Rt),i=n.memoizedState,i===null)return mt(n),null;if(u=(n.flags&128)!==0,d=i.rendering,d===null)if(u)Ol(i,!1);else{if(St!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Mi(e),d!==null){for(n.flags|=128,Ol(i,!1),e=d.updateQueue,n.updateQueue=e,Ki(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)uh(r,e),r=r.sibling;return oe(Rt,Rt.current&1|2),Ve&&wa(n,i.treeForkCount),n.child}e=e.sibling}i.tail!==null&&Ct()>eo&&(n.flags|=128,u=!0,Ol(i,!1),n.lanes=4194304)}else{if(!u)if(e=Mi(d),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Ki(n,e),Ol(i,!0),i.tail===null&&i.tailMode==="hidden"&&!d.alternate&&!Ve)return mt(n),null}else 2*Ct()-i.renderingStartTime>eo&&r!==536870912&&(n.flags|=128,u=!0,Ol(i,!1),n.lanes=4194304);i.isBackwards?(d.sibling=n.child,n.child=d):(e=i.last,e!==null?e.sibling=d:n.child=d,i.last=d)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ct(),e.sibling=null,r=Rt.current,oe(Rt,u?r&1|2:r&1),Ve&&wa(n,i.treeForkCount),e):(mt(n),null);case 22:case 23:return wn(n),Vc(),i=n.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?(r&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),r=n.updateQueue,r!==null&&Ki(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==r&&(n.flags|=2048),e!==null&&Q(ks),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ea(Mt),mt(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function Sb(e,n){switch(Dc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ea(Mt),$e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return re(n),null;case 31:if(n.memoizedState!==null){if(wn(n),n.alternate===null)throw Error(o(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Ds()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Rt),null;case 4:return $e(),null;case 10:return Ea(n.type),null;case 22:case 23:return wn(n),Vc(),e!==null&&Q(ks),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ea(Mt),null;case 25:return null;default:return null}}function Lm(e,n){switch(Dc(n),n.tag){case 3:Ea(Mt),$e();break;case 26:case 27:case 5:re(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&wn(n);break;case 13:wn(n);break;case 19:Q(Rt);break;case 10:Ea(n.type);break;case 22:case 23:wn(n),Vc(),e!==null&&Q(ks);break;case 24:Ea(Mt)}}function Al(e,n){try{var r=n.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var u=i.next;r=u;do{if((r.tag&e)===e){i=void 0;var d=r.create,_=r.inst;i=d(),_.destroy=i}r=r.next}while(r!==u)}}catch(j){nt(n,n.return,j)}}function ss(e,n,r){try{var i=n.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var d=u.next;i=d;do{if((i.tag&e)===e){var _=i.inst,j=_.destroy;if(j!==void 0){_.destroy=void 0,u=n;var T=r,P=j;try{P()}catch(Y){nt(u,T,Y)}}}i=i.next}while(i!==d)}}catch(Y){nt(n,n.return,Y)}}function Um(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Rh(n,r)}catch(i){nt(e,e.return,i)}}}function $m(e,n,r){r.props=qs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(i){nt(e,n,i)}}function Dl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof r=="function"?e.refCleanup=r(i):r.current=i}}catch(u){nt(e,n,u)}}function ha(e,n){var r=e.ref,i=e.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(u){nt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){nt(e,n,u)}else r.current=null}function qm(e){var n=e.type,r=e.memoizedProps,i=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(u){nt(e,e.return,u)}}function wu(e,n,r){try{var i=e.stateNode;Ib(i,e.type,r,n),i[It]=n}catch(u){nt(e,e.return,u)}}function Pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ds(e.type)||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ds(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ja));else if(i!==4&&(i===27&&ds(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Eu(e,n,r),e=e.sibling;e!==null;)Eu(e,n,r),e=e.sibling}function Yi(e,n,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(i!==4&&(i===27&&ds(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Yi(e,n,r),e=e.sibling;e!==null;)Yi(e,n,r),e=e.sibling}function Hm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var i=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Wt(n,i,r),n[gt]=e,n[It]=r}catch(d){nt(e,e.return,d)}}var Da=!1,$t=!1,Ru=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Nb(e,n){if(e=e.containerInfo,Ku=yo,e=th(e),xc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var u=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var _=0,j=-1,T=-1,P=0,Y=0,W=e,F=null;t:for(;;){for(var V;W!==r||u!==0&&W.nodeType!==3||(j=_+u),W!==d||i!==0&&W.nodeType!==3||(T=_+i),W.nodeType===3&&(_+=W.nodeValue.length),(V=W.firstChild)!==null;)F=W,W=V;for(;;){if(W===e)break t;if(F===r&&++P===u&&(j=_),F===d&&++Y===i&&(T=_),(V=W.nextSibling)!==null)break;W=F,F=W.parentNode}W=V}r=j===-1||T===-1?null:{start:j,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yu={focusedElem:e,selectionRange:r},yo=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)u=e[r],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,u=d.memoizedProps,d=d.memoizedState,i=r.stateNode;try{var me=qs(r.type,u);e=i.getSnapshotBeforeUpdate(me,d),i.__reactInternalSnapshotBeforeUpdate=e}catch(Ne){nt(r,r.return,Ne)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Wu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function Fm(e,n,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:Ba(e,r),i&4&&Al(5,r);break;case 1:if(Ba(e,r),i&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){nt(r,r.return,_)}else{var u=qs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){nt(r,r.return,_)}}i&64&&Um(r),i&512&&Dl(r,r.return);break;case 3:if(Ba(e,r),i&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Rh(e,n)}catch(_){nt(r,r.return,_)}}break;case 27:n===null&&i&4&&Hm(r);case 26:case 5:Ba(e,r),n===null&&i&4&&qm(r),i&512&&Dl(r,r.return);break;case 12:Ba(e,r);break;case 31:Ba(e,r),i&4&&Vm(e,r);break;case 13:Ba(e,r),i&4&&Qm(e,r),i&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=zb.bind(null,r),Wb(e,r))));break;case 22:if(i=r.memoizedState!==null||Da,!i){n=n!==null&&n.memoizedState!==null||$t,u=Da;var d=$t;Da=i,($t=n)&&!d?ka(e,r,(r.subtreeFlags&8772)!==0):Ba(e,r),Da=u,$t=d}break;case 30:break;default:Ba(e,r)}}function Im(e){var n=e.alternate;n!==null&&(e.alternate=null,Im(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var _t=null,fn=!1;function za(e,n,r){for(r=r.child;r!==null;)Zm(e,n,r),r=r.sibling}function Zm(e,n,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(ft,r)}catch{}switch(r.tag){case 26:$t||ha(r,n),za(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$t||ha(r,n);var i=_t,u=fn;ds(r.type)&&(_t=r.stateNode,fn=!1),za(e,n,r),Pl(r.stateNode),_t=i,fn=u;break;case 5:$t||ha(r,n);case 6:if(i=_t,u=fn,_t=null,za(e,n,r),_t=i,fn=u,_t!==null)if(fn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(r.stateNode)}catch(d){nt(r,n,d)}else try{_t.removeChild(r.stateNode)}catch(d){nt(r,n,d)}break;case 18:_t!==null&&(fn?(e=_t,Up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qr(e)):Up(_t,r.stateNode));break;case 4:i=_t,u=fn,_t=r.stateNode.containerInfo,fn=!0,za(e,n,r),_t=i,fn=u;break;case 0:case 11:case 14:case 15:ss(2,r,n),$t||ss(4,r,n),za(e,n,r);break;case 1:$t||(ha(r,n),i=r.stateNode,typeof i.componentWillUnmount=="function"&&$m(r,n,i)),za(e,n,r);break;case 21:za(e,n,r);break;case 22:$t=(i=$t)||r.memoizedState!==null,za(e,n,r),$t=i;break;default:za(e,n,r)}}function Vm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qr(e)}catch(r){nt(n,n.return,r)}}}function Qm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qr(e)}catch(r){nt(n,n.return,r)}}function wb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gm),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gm),n;default:throw Error(o(435,e.tag))}}function Xi(e,n){var r=wb(e);n.forEach(function(i){if(!r.has(i)){r.add(i);var u=Bb.bind(null,e,i);i.then(u,u)}})}function hn(e,n){var r=n.deletions;if(r!==null)for(var i=0;i<r.length;i++){var u=r[i],d=e,_=n,j=_;e:for(;j!==null;){switch(j.tag){case 27:if(ds(j.type)){_t=j.stateNode,fn=!1;break e}break;case 5:_t=j.stateNode,fn=!1;break e;case 3:case 4:_t=j.stateNode.containerInfo,fn=!0;break e}j=j.return}if(_t===null)throw Error(o(160));Zm(d,_,u),_t=null,fn=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Km(n,e),n=n.sibling}var ea=null;function Km(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),mn(e),i&4&&(ss(3,e,e.return),Al(3,e),ss(5,e,e.return));break;case 1:hn(n,e),mn(e),i&512&&($t||r===null||ha(r,r.return)),i&64&&Da&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var u=ea;if(hn(n,e),mn(e),i&512&&($t||r===null||ha(r,r.return)),i&4){var d=r!==null?r.memoizedState:null;if(i=e.memoizedState,r===null)if(i===null)if(e.stateNode===null){e:{i=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":d=u.getElementsByTagName("title")[0],(!d||d[rl]||d[gt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(i),u.head.insertBefore(d,u.querySelector("head > title"))),Wt(d,i,r),d[gt]=e,Zt(d),i=d;break e;case"link":var _=Kp("link","href",u).get(i+(r.href||""));if(_){for(var j=0;j<_.length;j++)if(d=_[j],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(j,1);break t}}d=u.createElement(i),Wt(d,i,r),u.head.appendChild(d);break;case"meta":if(_=Kp("meta","content",u).get(i+(r.content||""))){for(j=0;j<_.length;j++)if(d=_[j],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(j,1);break t}}d=u.createElement(i),Wt(d,i,r),u.head.appendChild(d);break;default:throw Error(o(468,i))}d[gt]=e,Zt(d),i=d}e.stateNode=i}else Yp(u,e.type,e.stateNode);else e.stateNode=Qp(u,i,e.memoizedProps);else d!==i?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,i===null?Yp(u,e.type,e.stateNode):Qp(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&wu(e,e.memoizedProps,r.memoizedProps)}break;case 27:hn(n,e),mn(e),i&512&&($t||r===null||ha(r,r.return)),r!==null&&i&4&&wu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(hn(n,e),mn(e),i&512&&($t||r===null||ha(r,r.return)),e.flags&32){u=e.stateNode;try{cr(u,"")}catch(me){nt(e,e.return,me)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,wu(e,u,r!==null?r.memoizedProps:u)),i&1024&&(Ru=!0);break;case 6:if(hn(n,e),mn(e),i&4){if(e.stateNode===null)throw Error(o(162));i=e.memoizedProps,r=e.stateNode;try{r.nodeValue=i}catch(me){nt(e,e.return,me)}}break;case 3:if(mo=null,u=ea,ea=fo(n.containerInfo),hn(n,e),ea=u,mn(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{qr(n.containerInfo)}catch(me){nt(e,e.return,me)}Ru&&(Ru=!1,Ym(e));break;case 4:i=ea,ea=fo(e.stateNode.containerInfo),hn(n,e),mn(e),ea=i;break;case 12:hn(n,e),mn(e);break;case 31:hn(n,e),mn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xi(e,i)));break;case 13:hn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wi=Ct()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xi(e,i)));break;case 22:u=e.memoizedState!==null;var T=r!==null&&r.memoizedState!==null,P=Da,Y=$t;if(Da=P||u,$t=Y||T,hn(n,e),$t=Y,Da=P,mn(e),i&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||T||Da||$t||Ps(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){T=r=n;try{if(d=T.stateNode,u)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{j=T.stateNode;var W=T.memoizedProps.style,F=W!=null&&W.hasOwnProperty("display")?W.display:null;j.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(me){nt(T,T.return,me)}}}else if(n.tag===6){if(r===null){T=n;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(me){nt(T,T.return,me)}}}else if(n.tag===18){if(r===null){T=n;try{var V=T.stateNode;u?$p(V,!0):$p(T.stateNode,!1)}catch(me){nt(T,T.return,me)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=e.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,Xi(e,r))));break;case 19:hn(n,e),mn(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Xi(e,i)));break;case 30:break;case 21:break;default:hn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var r,i=e.return;i!==null;){if(Pm(i)){r=i;break}i=i.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var u=r.stateNode,d=Cu(e);Yi(e,d,u);break;case 5:var _=r.stateNode;r.flags&32&&(cr(_,""),r.flags&=-33);var j=Cu(e);Yi(e,j,_);break;case 3:case 4:var T=r.stateNode.containerInfo,P=Cu(e);Eu(e,P,T);break;default:throw Error(o(161))}}catch(Y){nt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ym(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ba(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Fm(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ss(4,n,n.return),Ps(n);break;case 1:ha(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&$m(n,n.return,r),Ps(n);break;case 27:Pl(n.stateNode);case 26:case 5:ha(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function ka(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,u=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:ka(u,d,r),Al(4,d);break;case 1:if(ka(u,d,r),i=d,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(P){nt(i,i.return,P)}if(i=d,u=i.updateQueue,u!==null){var j=i.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)Eh(T[u],j)}catch(P){nt(i,i.return,P)}}r&&_&64&&Um(d),Dl(d,d.return);break;case 27:Hm(d);case 26:case 5:ka(u,d,r),r&&i===null&&_&4&&qm(d),Dl(d,d.return);break;case 12:ka(u,d,r);break;case 31:ka(u,d,r),r&&_&4&&Vm(u,d);break;case 13:ka(u,d,r),r&&_&4&&Qm(u,d);break;case 22:d.memoizedState===null&&ka(u,d,r),Dl(d,d.return);break;case 30:break;default:ka(u,d,r)}n=n.sibling}}function Tu(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&yl(r))}function Ou(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e))}function ta(e,n,r,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Xm(e,n,r,i),n=n.sibling}function Xm(e,n,r,i){var u=n.flags;switch(n.tag){case 0:case 11:case 15:ta(e,n,r,i),u&2048&&Al(9,n);break;case 1:ta(e,n,r,i);break;case 3:ta(e,n,r,i),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&yl(e)));break;case 12:if(u&2048){ta(e,n,r,i),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,j=d.onPostCommit;typeof j=="function"&&j(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){nt(n,n.return,T)}}else ta(e,n,r,i);break;case 31:ta(e,n,r,i);break;case 13:ta(e,n,r,i);break;case 23:break;case 22:d=n.stateNode,_=n.alternate,n.memoizedState!==null?d._visibility&2?ta(e,n,r,i):zl(e,n):d._visibility&2?ta(e,n,r,i):(d._visibility|=2,Tr(e,n,r,i,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Tu(_,n);break;case 24:ta(e,n,r,i),u&2048&&Ou(n.alternate,n);break;default:ta(e,n,r,i)}}function Tr(e,n,r,i,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,_=n,j=r,T=i,P=_.flags;switch(_.tag){case 0:case 11:case 15:Tr(d,_,j,T,u),Al(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Tr(d,_,j,T,u):zl(d,_):(Y._visibility|=2,Tr(d,_,j,T,u)),u&&P&2048&&Tu(_.alternate,_);break;case 24:Tr(d,_,j,T,u),u&&P&2048&&Ou(_.alternate,_);break;default:Tr(d,_,j,T,u)}n=n.sibling}}function zl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,i=n,u=i.flags;switch(i.tag){case 22:zl(r,i),u&2048&&Tu(i.alternate,i);break;case 24:zl(r,i),u&2048&&Ou(i.alternate,i);break;default:zl(r,i)}n=n.sibling}}var Bl=8192;function Or(e,n,r){if(e.subtreeFlags&Bl)for(e=e.child;e!==null;)Jm(e,n,r),e=e.sibling}function Jm(e,n,r){switch(e.tag){case 26:Or(e,n,r),e.flags&Bl&&e.memoizedState!==null&&dx(r,ea,e.memoizedState,e.memoizedProps);break;case 5:Or(e,n,r);break;case 3:case 4:var i=ea;ea=fo(e.stateNode.containerInfo),Or(e,n,r),ea=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Bl,Bl=16777216,Or(e,n,r),Bl=i):Or(e,n,r));break;default:Or(e,n,r)}}function Wm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];Vt=i,tp(i,e)}Wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ep(e),e=e.sibling}function ep(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&ss(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ji(e)):kl(e);break;default:kl(e)}}function Ji(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];Vt=i,tp(i,e)}Wm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ss(8,n,n.return),Ji(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ji(n));break;default:Ji(n)}e=e.sibling}}function tp(e,n){for(;Vt!==null;){var r=Vt;switch(r.tag){case 0:case 11:case 15:ss(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:yl(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,Vt=i;else e:for(r=e;Vt!==null;){i=Vt;var u=i.sibling,d=i.return;if(Im(i),i===r){Vt=null;break e}if(u!==null){u.return=d,Vt=u;break e}Vt=d}}}var Cb={getCacheForType:function(e){var n=Xt(Mt),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Xt(Mt).controller.signal}},Eb=typeof WeakMap=="function"?WeakMap:Map,We=0,ut=null,qe=null,Ge=0,tt=0,Cn=null,rs=!1,Ar=!1,Au=!1,Ma=0,St=0,ls=0,Hs=0,Du=0,En=0,Dr=0,Ml=null,pn=null,zu=!1,Wi=0,np=0,eo=1/0,to=null,is=null,Ht=0,os=null,zr=null,La=0,Bu=0,ku=null,ap=null,Ll=0,Mu=null;function Rn(){return(We&2)!==0&&Ge!==0?Ge&-Ge:G.T!==null?Hu():ua()}function sp(){if(En===0)if((Ge&536870912)===0||Ve){var e=Bn;Bn<<=1,(Bn&3932160)===0&&(Bn=262144),En=e}else En=536870912;return e=Nn.current,e!==null&&(e.flags|=32),En}function gn(e,n,r){(e===ut&&(tt===2||tt===9)||e.cancelPendingCommit!==null)&&(Br(e,0),cs(e,Ge,En,!1)),ba(e,r),((We&2)===0||e!==ut)&&(e===ut&&((We&2)===0&&(Hs|=r),St===4&&cs(e,Ge,En,!1)),ma(e))}function rp(e,n,r){if((We&6)!==0)throw Error(o(327));var i=!r&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),u=i?Ob(e,n):Uu(e,n,!0),d=i;do{if(u===0){Ar&&!i&&cs(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!Rb(r)){u=Uu(e,n,!1),d=!1;continue}if(u===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var j=e;u=Ml;var T=j.current.memoizedState.isDehydrated;if(T&&(Br(j,_).flags|=256),_=Uu(j,_,!1),_!==2){if(Au&&!T){j.errorRecoveryDisabledLanes|=d,Hs|=d,u=4;break e}d=pn,pn=u,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}u=_}if(d=!1,u!==2)continue}}if(u===1){Br(e,0),cs(e,n,0,!0);break}e:{switch(i=e,d=u,d){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:cs(i,n,En,!rs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(u=Wi+300-Ct(),10<u)){if(cs(i,n,En,!rs),va(i,0,!0)!==0)break e;La=n,i.timeoutHandle=Mp(lp.bind(null,i,r,pn,to,zu,n,En,Hs,Dr,rs,d,"Throttled",-0,0),u);break e}lp(i,r,pn,to,zu,n,En,Hs,Dr,rs,d,null,-0,0)}}break}while(!0);ma(e)}function lp(e,n,r,i,u,d,_,j,T,P,Y,W,F,V){if(e.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},Jm(n,d,W);var me=(d&62914560)===d?Wi-Ct():(d&4194048)===d?np-Ct():0;if(me=fx(W,me),me!==null){La=d,e.cancelPendingCommit=me(mp.bind(null,e,n,d,r,i,u,_,j,T,Y,W,null,F,V)),cs(e,d,_,!P);return}}mp(e,n,d,r,i,u,_,j,T)}function Rb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var u=r[i],d=u.getSnapshot;u=u.value;try{if(!jn(d(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cs(e,n,r,i){n&=~Du,n&=~Hs,e.suspendedLanes|=n,e.pingedLanes&=~n,i&&(e.warmLanes|=n),i=e.expirationTimes;for(var u=n;0<u;){var d=31-kt(u),_=1<<d;i[d]=-1,u&=~_}r!==0&&x(e,r,n)}function no(){return(We&6)===0?(Ul(0),!1):!0}function Lu(){if(qe!==null){if(tt===0)var e=qe.return;else e=qe,Ca=zs=null,Wc(e),Nr=null,bl=0,e=qe;for(;e!==null;)Lm(e.alternate,e),e=e.return;qe=null}}function Br(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Qb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),La=0,Lu(),ut=e,qe=r=Na(e.current,null),Ge=n,tt=0,Cn=null,rs=!1,Ar=kn(e,n),Au=!1,Dr=En=Du=Hs=ls=St=0,pn=Ml=null,zu=!1,(n&8)!==0&&(n|=n&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=n;0<i;){var u=31-kt(i),d=1<<u;n|=e[u],i&=~d}return Ma=n,Si(),r}function ip(e,n){Be=null,G.H=Rl,n===Sr||n===Ai?(n=Sh(),tt=3):n===Pc?(n=Sh(),tt=4):tt=n===pu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,qe===null&&(St=1,Ii(e,$n(n,e.current)))}function op(){var e=Nn.current;return e===null?!0:(Ge&4194048)===Ge?Gn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Gn:!1}function cp(){var e=G.H;return G.H=Rl,e===null?Rl:e}function up(){var e=G.A;return G.A=Cb,e}function ao(){St=4,rs||(Ge&4194048)!==Ge&&Nn.current!==null||(Ar=!0),(ls&134217727)===0&&(Hs&134217727)===0||ut===null||cs(ut,Ge,En,!1)}function Uu(e,n,r){var i=We;We|=2;var u=cp(),d=up();(ut!==e||Ge!==n)&&(to=null,Br(e,n)),n=!1;var _=St;e:do try{if(tt!==0&&qe!==null){var j=qe,T=Cn;switch(tt){case 8:Lu(),_=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var P=tt;if(tt=0,Cn=null,kr(e,j,T,P),r&&Ar){_=0;break e}break;default:P=tt,tt=0,Cn=null,kr(e,j,T,P)}}Tb(),_=St;break}catch(Y){ip(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Ca=zs=null,We=i,G.H=u,G.A=d,qe===null&&(ut=null,Ge=0,Si()),_}function Tb(){for(;qe!==null;)dp(qe)}function Ob(e,n){var r=We;We|=2;var i=cp(),u=up();ut!==e||Ge!==n?(to=null,eo=Ct()+500,Br(e,n)):Ar=kn(e,n);e:do try{if(tt!==0&&qe!==null){n=qe;var d=Cn;t:switch(tt){case 1:tt=0,Cn=null,kr(e,n,d,1);break;case 2:case 9:if(xh(d)){tt=0,Cn=null,fp(n);break}n=function(){tt!==2&&tt!==9||ut!==e||(tt=7),ma(e)},d.then(n,n);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:xh(d)?(tt=0,Cn=null,fp(n)):(tt=0,Cn=null,kr(e,n,d,7));break;case 5:var _=null;switch(qe.tag){case 26:_=qe.memoizedState;case 5:case 27:var j=qe;if(_?Xp(_):j.stateNode.complete){tt=0,Cn=null;var T=j.sibling;if(T!==null)qe=T;else{var P=j.return;P!==null?(qe=P,so(P)):qe=null}break t}}tt=0,Cn=null,kr(e,n,d,5);break;case 6:tt=0,Cn=null,kr(e,n,d,6);break;case 8:Lu(),St=6;break e;default:throw Error(o(462))}}Ab();break}catch(Y){ip(e,Y)}while(!0);return Ca=zs=null,G.H=i,G.A=u,We=r,qe!==null?0:(ut=null,Ge=0,Si(),St)}function Ab(){for(;qe!==null&&!tl();)dp(qe)}function dp(e){var n=km(e.alternate,e,Ma);e.memoizedProps=e.pendingProps,n===null?so(e):qe=n}function fp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Tm(r,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Tm(r,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:Wc(n);default:Lm(r,n),n=qe=uh(n,Ma),n=km(r,n,Ma)}e.memoizedProps=e.pendingProps,n===null?so(e):qe=n}function kr(e,n,r,i){Ca=zs=null,Wc(n),Nr=null,bl=0;var u=n.return;try{if(vb(e,u,n,r,Ge)){St=1,Ii(e,$n(r,e.current)),qe=null;return}}catch(d){if(u!==null)throw qe=u,d;St=1,Ii(e,$n(r,e.current)),qe=null;return}n.flags&32768?(Ve||i===1?e=!0:Ar||(Ge&536870912)!==0?e=!1:(rs=e=!0,(i===2||i===9||i===3||i===6)&&(i=Nn.current,i!==null&&i.tag===13&&(i.flags|=16384))),hp(n,e)):so(n)}function so(e){var n=e;do{if((n.flags&32768)!==0){hp(n,rs);return}e=n.return;var r=jb(n.alternate,n,Ma);if(r!==null){qe=r;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=e}while(n!==null);St===0&&(St=5)}function hp(e,n){do{var r=Sb(e.alternate,e);if(r!==null){r.flags&=32767,qe=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){qe=e;return}qe=e=r}while(e!==null);St=6,qe=null}function mp(e,n,r,i,u,d,_,j,T){e.cancelPendingCommit=null;do ro();while(Ht!==0);if((We&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(d=n.lanes|n.childLanes,d|=Cc,ca(e,r,d,_,j,T),e===ut&&(qe=ut=null,Ge=0),zr=n,os=e,La=r,Bu=d,ku=u,ap=i,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(ya,function(){return vp(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||i){i=G.T,G.T=null,u=ae.p,ae.p=2,_=We,We|=4;try{Nb(e,n,r)}finally{We=_,ae.p=u,G.T=i}}Ht=1,pp(),gp(),_p()}}function pp(){if(Ht===1){Ht=0;var e=os,n=zr,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var i=ae.p;ae.p=2;var u=We;We|=4;try{Km(n,e);var d=Yu,_=th(e.containerInfo),j=d.focusedElem,T=d.selectionRange;if(_!==j&&j&&j.ownerDocument&&eh(j.ownerDocument.documentElement,j)){if(T!==null&&xc(j)){var P=T.start,Y=T.end;if(Y===void 0&&(Y=P),"selectionStart"in j)j.selectionStart=P,j.selectionEnd=Math.min(Y,j.value.length);else{var W=j.ownerDocument||document,F=W&&W.defaultView||window;if(F.getSelection){var V=F.getSelection(),me=j.textContent.length,Ne=Math.min(T.start,me),lt=T.end===void 0?Ne:Math.min(T.end,me);!V.extend&&Ne>lt&&(_=lt,lt=Ne,Ne=_);var L=Wf(j,Ne),B=Wf(j,lt);if(L&&B&&(V.rangeCount!==1||V.anchorNode!==L.node||V.anchorOffset!==L.offset||V.focusNode!==B.node||V.focusOffset!==B.offset)){var q=W.createRange();q.setStart(L.node,L.offset),V.removeAllRanges(),Ne>lt?(V.addRange(q),V.extend(B.node,B.offset)):(q.setEnd(B.node,B.offset),V.addRange(q))}}}}for(W=[],V=j;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<W.length;j++){var J=W[j];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yo=!!Ku,Yu=Ku=null}finally{We=u,ae.p=i,G.T=r}}e.current=n,Ht=2}}function gp(){if(Ht===2){Ht=0;var e=os,n=zr,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var i=ae.p;ae.p=2;var u=We;We|=4;try{Fm(e,n.alternate,n)}finally{We=u,ae.p=i,G.T=r}}Ht=3}}function _p(){if(Ht===4||Ht===3){Ht=0,_a();var e=os,n=zr,r=La,i=ap;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,zr=os=null,yp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(is=null),un(r),n=n.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(ft,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=G.T,u=ae.p,ae.p=2,G.T=null;try{for(var d=e.onRecoverableError,_=0;_<i.length;_++){var j=i[_];d(j.value,{componentStack:j.stack})}}finally{G.T=n,ae.p=u}}(La&3)!==0&&ro(),ma(e),u=e.pendingLanes,(r&261930)!==0&&(u&42)!==0?e===Mu?Ll++:(Ll=0,Mu=e):Ll=0,Ul(0)}}function yp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,yl(n)))}function ro(){return pp(),gp(),_p(),vp()}function vp(){if(Ht!==5)return!1;var e=os,n=Bu;Bu=0;var r=un(La),i=G.T,u=ae.p;try{ae.p=32>r?32:r,G.T=null,r=ku,ku=null;var d=os,_=La;if(Ht=0,zr=os=null,La=0,(We&6)!==0)throw Error(o(331));var j=We;if(We|=4,ep(d.current),Xm(d,d.current,_,r),We=j,Ul(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ae.p=u,G.T=i,yp(e,n)}}function bp(e,n,r){n=$n(r,n),n=mu(e.stateNode,n,2),e=ts(e,n,2),e!==null&&(ba(e,2),ma(e))}function nt(e,n,r){if(e.tag===3)bp(e,e,r);else for(;n!==null;){if(n.tag===3){bp(n,e,r);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(is===null||!is.has(i))){e=$n(r,e),r=xm(2),i=ts(n,r,2),i!==null&&(jm(r,i,n,e),ba(i,2),ma(i));break}}n=n.return}}function $u(e,n,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Eb;var u=new Set;i.set(n,u)}else u=i.get(n),u===void 0&&(u=new Set,i.set(n,u));u.has(r)||(Au=!0,u.add(r),e=Db.bind(null,e,n,r),n.then(e,e))}function Db(e,n,r){var i=e.pingCache;i!==null&&i.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ut===e&&(Ge&r)===r&&(St===4||St===3&&(Ge&62914560)===Ge&&300>Ct()-Wi?(We&2)===0&&Br(e,0):Du|=r,Dr===Ge&&(Dr=0)),ma(e)}function xp(e,n){n===0&&(n=nr()),e=Os(e,n),e!==null&&(ba(e,n),ma(e))}function zb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),xp(e,r)}function Bb(e,n){var r=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(n),xp(e,r)}function kb(e,n){return Ss(e,n)}var lo=null,Mr=null,qu=!1,io=!1,Pu=!1,us=0;function ma(e){e!==Mr&&e.next===null&&(Mr===null?lo=Mr=e:Mr=Mr.next=e),io=!0,qu||(qu=!0,Lb())}function Ul(e,n){if(!Pu&&io){Pu=!0;do for(var r=!1,i=lo;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var d=0;else{var _=i.suspendedLanes,j=i.pingedLanes;d=(1<<31-kt(42|e)+1)-1,d&=u&~(_&~j),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,wp(i,d))}else d=Ge,d=va(i,i===ut?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(d&3)===0||kn(i,d)||(r=!0,wp(i,d));i=i.next}while(r);Pu=!1}}function Mb(){jp()}function jp(){io=qu=!1;var e=0;us!==0&&Vb()&&(e=us);for(var n=Ct(),r=null,i=lo;i!==null;){var u=i.next,d=Sp(i,n);d===0?(i.next=null,r===null?lo=u:r.next=u,u===null&&(Mr=r)):(r=i,(e!==0||(d&3)!==0)&&(io=!0)),i=u}Ht!==0&&Ht!==5||Ul(e),us!==0&&(us=0)}function Sp(e,n){for(var r=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-kt(d),j=1<<_,T=u[_];T===-1?((j&r)===0||(j&i)!==0)&&(u[_]=sl(j,n)):T<=n&&(e.expiredLanes|=j),d&=~j}if(n=ut,r=Ge,r=va(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,r===0||e===n&&(tt===2||tt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Fa(i),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(i!==null&&Fa(i),un(r)){case 2:case 8:r=Ia;break;case 32:r=ya;break;case 268435456:r=Ns;break;default:r=ya}return i=Np.bind(null,e),r=Ss(r,i),e.callbackPriority=n,e.callbackNode=r,n}return i!==null&&i!==null&&Fa(i),e.callbackPriority=2,e.callbackNode=null,2}function Np(e,n){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ro()&&e.callbackNode!==r)return null;var i=Ge;return i=va(e,e===ut?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(rp(e,i,n),Sp(e,Ct()),e.callbackNode!=null&&e.callbackNode===r?Np.bind(null,e):null)}function wp(e,n){if(ro())return null;rp(e,n,!0)}function Lb(){Kb(function(){(We&6)!==0?Ss(bn,Mb):jp()})}function Hu(){if(us===0){var e=xr;e===0&&(e=xt,xt<<=1,(xt&261888)===0&&(xt=256)),us=e}return us}function Cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pi(""+e)}function Ep(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Ub(e,n,r,i,u){if(n==="submit"&&r&&r.stateNode===u){var d=Cp((u[It]||null).action),_=i.submitter;_&&(n=(n=_[It]||null)?Cp(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var j=new vi("action","action",null,i,u);e.push({event:j,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(us!==0){var T=_?Ep(u,_):new FormData(u);ou(r,{pending:!0,data:T,method:u.method,action:d},null,T)}}else typeof d=="function"&&(j.preventDefault(),T=_?Ep(u,_):new FormData(u),ou(r,{pending:!0,data:T,method:u.method,action:d},d,T))},currentTarget:u}]})}}for(var Gu=0;Gu<wc.length;Gu++){var Fu=wc[Gu],$b=Fu.toLowerCase(),qb=Fu[0].toUpperCase()+Fu.slice(1);Wn($b,"on"+qb)}Wn(sh,"onAnimationEnd"),Wn(rh,"onAnimationIteration"),Wn(lh,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(nb,"onTransitionRun"),Wn(ab,"onTransitionStart"),Wn(sb,"onTransitionCancel"),Wn(ih,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function Rp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],u=i.event;i=i.listeners;e:{var d=void 0;if(n)for(var _=i.length-1;0<=_;_--){var j=i[_],T=j.instance,P=j.currentTarget;if(j=j.listener,T!==d&&u.isPropagationStopped())break e;d=j,u.currentTarget=P;try{d(u)}catch(Y){ji(Y)}u.currentTarget=null,d=T}else for(_=0;_<i.length;_++){if(j=i[_],T=j.instance,P=j.currentTarget,j=j.listener,T!==d&&u.isPropagationStopped())break e;d=j,u.currentTarget=P;try{d(u)}catch(Y){ji(Y)}u.currentTarget=null,d=T}}}}function Pe(e,n){var r=n[ac];r===void 0&&(r=n[ac]=new Set);var i=e+"__bubble";r.has(i)||(Tp(n,e,2,!1),r.add(i))}function Iu(e,n,r){var i=0;n&&(i|=4),Tp(r,e,i,n)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[oo]){e[oo]=!0,jf.forEach(function(r){r!=="selectionchange"&&(Pb.has(r)||Iu(r,!1,e),Iu(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oo]||(n[oo]=!0,Iu("selectionchange",!1,n))}}function Tp(e,n,r,i){switch(sg(n)){case 2:var u=px;break;case 8:u=gx;break;default:u=id}r=u.bind(null,n,r,e),u=void 0,!fc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function Vu(e,n,r,i,u){var d=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var _=i.tag;if(_===3||_===4){var j=i.stateNode.containerInfo;if(j===u)break;if(_===4)for(_=i.return;_!==null;){var T=_.tag;if((T===3||T===4)&&_.stateNode.containerInfo===u)return;_=_.return}for(;j!==null;){if(_=sr(j),_===null)return;if(T=_.tag,T===5||T===6||T===26||T===27){i=d=_;continue e}j=j.parentNode}}i=i.return}Bf(function(){var P=d,Y=uc(r),W=[];e:{var F=oh.get(e);if(F!==void 0){var V=vi,me=e;switch(e){case"keypress":if(_i(r)===0)break e;case"keydown":case"keyup":V=Bv;break;case"focusin":me="focus",V=gc;break;case"focusout":me="blur",V=gc;break;case"beforeblur":case"afterblur":V=gc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Lv;break;case sh:case rh:case lh:V=wv;break;case ih:V=$v;break;case"scroll":case"scrollend":V=bv;break;case"wheel":V=Pv;break;case"copy":case"cut":case"paste":V=Ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=$f;break;case"toggle":case"beforetoggle":V=Gv}var Ne=(n&4)!==0,lt=!Ne&&(e==="scroll"||e==="scrollend"),L=Ne?F!==null?F+"Capture":null:F;Ne=[];for(var B=P,q;B!==null;){var J=B;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||L===null||(J=il(B,L),J!=null&&Ne.push(ql(B,J,q))),lt)break;B=B.return}0<Ne.length&&(F=new V(F,me,null,r,Y),W.push({event:F,listeners:Ne}))}}if((n&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",F&&r!==cc&&(me=r.relatedTarget||r.fromElement)&&(sr(me)||me[ar]))break e;if((V||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,V?(me=r.relatedTarget||r.toElement,V=P,me=me?sr(me):null,me!==null&&(lt=h(me),Ne=me.tag,me!==lt||Ne!==5&&Ne!==27&&Ne!==6)&&(me=null)):(V=null,me=P),V!==me)){if(Ne=Lf,J="onMouseLeave",L="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(Ne=$f,J="onPointerLeave",L="onPointerEnter",B="pointer"),lt=V==null?F:ll(V),q=me==null?F:ll(me),F=new Ne(J,B+"leave",V,r,Y),F.target=lt,F.relatedTarget=q,J=null,sr(Y)===P&&(Ne=new Ne(L,B+"enter",me,r,Y),Ne.target=q,Ne.relatedTarget=lt,J=Ne),lt=J,V&&me)t:{for(Ne=Hb,L=V,B=me,q=0,J=L;J;J=Ne(J))q++;J=0;for(var xe=B;xe;xe=Ne(xe))J++;for(;0<q-J;)L=Ne(L),q--;for(;0<J-q;)B=Ne(B),J--;for(;q--;){if(L===B||B!==null&&L===B.alternate){Ne=L;break t}L=Ne(L),B=Ne(B)}Ne=null}else Ne=null;V!==null&&Op(W,F,V,Ne,!1),me!==null&&lt!==null&&Op(W,lt,me,Ne,!0)}}e:{if(F=P?ll(P):window,V=F.nodeName&&F.nodeName.toLowerCase(),V==="select"||V==="input"&&F.type==="file")var Ke=Vf;else if(If(F))if(Qf)Ke=Wv;else{Ke=Xv;var ge=Yv}else V=F.nodeName,!V||V.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&oc(P.elementType)&&(Ke=Vf):Ke=Jv;if(Ke&&(Ke=Ke(e,P))){Zf(W,Ke,r,Y);break e}ge&&ge(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&ic(F,"number",F.value)}switch(ge=P?ll(P):window,e){case"focusin":(If(ge)||ge.contentEditable==="true")&&(hr=ge,jc=P,pl=null);break;case"focusout":pl=jc=hr=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,nh(W,r,Y);break;case"selectionchange":if(tb)break;case"keydown":case"keyup":nh(W,r,Y)}var Le;if(yc)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else fr?Gf(e,r)&&(Fe="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Fe="onCompositionStart");Fe&&(qf&&r.locale!=="ko"&&(fr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&fr&&(Le=kf()):(Qa=Y,hc="value"in Qa?Qa.value:Qa.textContent,fr=!0)),ge=co(P,Fe),0<ge.length&&(Fe=new Uf(Fe,e,null,r,Y),W.push({event:Fe,listeners:ge}),Le?Fe.data=Le:(Le=Ff(r),Le!==null&&(Fe.data=Le)))),(Le=Iv?Zv(e,r):Vv(e,r))&&(Fe=co(P,"onBeforeInput"),0<Fe.length&&(ge=new Uf("onBeforeInput","beforeinput",null,r,Y),W.push({event:ge,listeners:Fe}),ge.data=Le)),Ub(W,e,P,r,Y)}Rp(W,n)})}function ql(e,n,r){return{instance:e,listener:n,currentTarget:r}}function co(e,n){for(var r=n+"Capture",i=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=il(e,r),u!=null&&i.unshift(ql(e,u,d)),u=il(e,n),u!=null&&i.push(ql(e,u,d))),e.tag===3)return i;e=e.return}return[]}function Hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Op(e,n,r,i,u){for(var d=n._reactName,_=[];r!==null&&r!==i;){var j=r,T=j.alternate,P=j.stateNode;if(j=j.tag,T!==null&&T===i)break;j!==5&&j!==26&&j!==27||P===null||(T=P,u?(P=il(r,d),P!=null&&_.unshift(ql(r,P,T))):u||(P=il(r,d),P!=null&&_.push(ql(r,P,T)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var Gb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function Ap(e){return(typeof e=="string"?e:""+e).replace(Gb,`
`).replace(Fb,"")}function Dp(e,n){return n=Ap(n),Ap(e)===n}function rt(e,n,r,i,u,d){switch(r){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||cr(e,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&cr(e,""+i);break;case"className":hi(e,"class",i);break;case"tabIndex":hi(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(e,r,i);break;case"style":Df(e,i,d);break;case"data":if(n!=="object"){hi(e,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=pi(""+i),e.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&rt(e,n,"name",u.name,u,null),rt(e,n,"formEncType",u.formEncType,u,null),rt(e,n,"formMethod",u.formMethod,u,null),rt(e,n,"formTarget",u.formTarget,u,null)):(rt(e,n,"encType",u.encType,u,null),rt(e,n,"method",u.method,u,null),rt(e,n,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(r);break}i=pi(""+i),e.setAttribute(r,i);break;case"onClick":i!=null&&(e.onclick=ja);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}r=pi(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""+i):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":i===!0?e.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(r,i):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(r,i):e.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(r):e.setAttribute(r,i);break;case"popover":Pe("beforetoggle",e),Pe("toggle",e),fi(e,"popover",i);break;case"xlinkActuate":xa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":fi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yv.get(r)||r,fi(e,r,i))}}function Qu(e,n,r,i,u,d){switch(r){case"style":Df(e,i,d);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(r=i.__html,r!=null){if(u.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof i=="string"?cr(e,i):(typeof i=="number"||typeof i=="bigint")&&cr(e,""+i);break;case"onScroll":i!=null&&Pe("scroll",e);break;case"onScrollEnd":i!=null&&Pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sf.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),d=e[It]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,u),typeof i=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,i,u);break e}r in e?e[r]=i:i===!0?e.setAttribute(r,""):fi(e,r,i)}}}function Wt(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",e),Pe("load",e);var i=!1,u=!1,d;for(d in r)if(r.hasOwnProperty(d)){var _=r[d];if(_!=null)switch(d){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:rt(e,n,d,_,r,null)}}u&&rt(e,n,"srcSet",r.srcSet,r,null),i&&rt(e,n,"src",r.src,r,null);return;case"input":Pe("invalid",e);var j=d=_=u=null,T=null,P=null;for(i in r)if(r.hasOwnProperty(i)){var Y=r[i];if(Y!=null)switch(i){case"name":u=Y;break;case"type":_=Y;break;case"checked":T=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":j=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,n));break;default:rt(e,n,i,Y,r,null)}}Rf(e,d,j,T,P,_,u,!1);return;case"select":Pe("invalid",e),i=_=d=null;for(u in r)if(r.hasOwnProperty(u)&&(j=r[u],j!=null))switch(u){case"value":d=j;break;case"defaultValue":_=j;break;case"multiple":i=j;default:rt(e,n,u,j,r,null)}n=d,r=_,e.multiple=!!i,n!=null?or(e,!!i,n,!1):r!=null&&or(e,!!i,r,!0);return;case"textarea":Pe("invalid",e),d=u=i=null;for(_ in r)if(r.hasOwnProperty(_)&&(j=r[_],j!=null))switch(_){case"value":i=j;break;case"defaultValue":u=j;break;case"children":d=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(o(91));break;default:rt(e,n,_,j,r,null)}Of(e,i,u,d);return;case"option":for(T in r)if(r.hasOwnProperty(T)&&(i=r[T],i!=null))switch(T){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:rt(e,n,T,i,r,null)}return;case"dialog":Pe("beforetoggle",e),Pe("toggle",e),Pe("cancel",e),Pe("close",e);break;case"iframe":case"object":Pe("load",e);break;case"video":case"audio":for(i=0;i<$l.length;i++)Pe($l[i],e);break;case"image":Pe("error",e),Pe("load",e);break;case"details":Pe("toggle",e);break;case"embed":case"source":case"link":Pe("error",e),Pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(i=r[P],i!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:rt(e,n,P,i,r,null)}return;default:if(oc(n)){for(Y in r)r.hasOwnProperty(Y)&&(i=r[Y],i!==void 0&&Qu(e,n,Y,i,r,void 0));return}}for(j in r)r.hasOwnProperty(j)&&(i=r[j],i!=null&&rt(e,n,j,i,r,null))}function Ib(e,n,r,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,_=null,j=null,T=null,P=null,Y=null;for(V in r){var W=r[V];if(r.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":T=W;default:i.hasOwnProperty(V)||rt(e,n,V,null,i,W)}}for(var F in i){var V=i[F];if(W=r[F],i.hasOwnProperty(F)&&(V!=null||W!=null))switch(F){case"type":d=V;break;case"name":u=V;break;case"checked":P=V;break;case"defaultChecked":Y=V;break;case"value":_=V;break;case"defaultValue":j=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,n));break;default:V!==W&&rt(e,n,F,V,i,W)}}lc(e,_,j,T,P,Y,d,u);return;case"select":V=_=j=F=null;for(d in r)if(T=r[d],r.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":V=T;default:i.hasOwnProperty(d)||rt(e,n,d,null,i,T)}for(u in i)if(d=i[u],T=r[u],i.hasOwnProperty(u)&&(d!=null||T!=null))switch(u){case"value":F=d;break;case"defaultValue":j=d;break;case"multiple":_=d;default:d!==T&&rt(e,n,u,d,i,T)}n=j,r=_,i=V,F!=null?or(e,!!r,F,!1):!!i!=!!r&&(n!=null?or(e,!!r,n,!0):or(e,!!r,r?[]:"",!1));return;case"textarea":V=F=null;for(j in r)if(u=r[j],r.hasOwnProperty(j)&&u!=null&&!i.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:rt(e,n,j,null,i,u)}for(_ in i)if(u=i[_],d=r[_],i.hasOwnProperty(_)&&(u!=null||d!=null))switch(_){case"value":F=u;break;case"defaultValue":V=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:u!==d&&rt(e,n,_,u,i,d)}Tf(e,F,V);return;case"option":for(var me in r)if(F=r[me],r.hasOwnProperty(me)&&F!=null&&!i.hasOwnProperty(me))switch(me){case"selected":e.selected=!1;break;default:rt(e,n,me,null,i,F)}for(T in i)if(F=i[T],V=r[T],i.hasOwnProperty(T)&&F!==V&&(F!=null||V!=null))switch(T){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:rt(e,n,T,F,i,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in r)F=r[Ne],r.hasOwnProperty(Ne)&&F!=null&&!i.hasOwnProperty(Ne)&&rt(e,n,Ne,null,i,F);for(P in i)if(F=i[P],V=r[P],i.hasOwnProperty(P)&&F!==V&&(F!=null||V!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,n));break;default:rt(e,n,P,F,i,V)}return;default:if(oc(n)){for(var lt in r)F=r[lt],r.hasOwnProperty(lt)&&F!==void 0&&!i.hasOwnProperty(lt)&&Qu(e,n,lt,void 0,i,F);for(Y in i)F=i[Y],V=r[Y],!i.hasOwnProperty(Y)||F===V||F===void 0&&V===void 0||Qu(e,n,Y,F,i,V);return}}for(var L in r)F=r[L],r.hasOwnProperty(L)&&F!=null&&!i.hasOwnProperty(L)&&rt(e,n,L,null,i,F);for(W in i)F=i[W],V=r[W],!i.hasOwnProperty(W)||F===V||F==null&&V==null||rt(e,n,W,F,i,V)}function zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),i=0;i<r.length;i++){var u=r[i],d=u.transferSize,_=u.initiatorType,j=u.duration;if(d&&j&&zp(_)){for(_=0,j=u.responseEnd,i+=1;i<r.length;i++){var T=r[i],P=T.startTime;if(P>j)break;var Y=T.transferSize,W=T.initiatorType;Y&&zp(W)&&(T=T.responseEnd,_+=Y*(T<j?1:(j-P)/(T-P)))}if(--i,n+=8*(d+_)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ku=null,Yu=null;function uo(e){return e.nodeType===9?e:e.ownerDocument}function Bp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ju=null;function Vb(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var Mp=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,Lp=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof Lp<"u"?function(e){return Lp.resolve(null).then(e).catch(Yb)}:Mp;function Yb(e){setTimeout(function(){throw e})}function ds(e){return e==="head"}function Up(e,n){var r=n,i=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"||r==="/&"){if(i===0){e.removeChild(u),qr(n);return}i--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")i++;else if(r==="html")Pl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Pl(r);for(var d=r.firstChild;d;){var _=d.nextSibling,j=d.nodeName;d[rl]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=_}}else r==="body"&&Pl(e.ownerDocument.body);r=u}while(r);qr(n)}function $p(e,n){var r=e;e=0;do{var i=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=i}while(r)}function Wu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wu(r),sc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Xb(e,n,r,i){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[rl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Jb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Fn(e.nextSibling),e===null))return null;return e}function qp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function ed(e){return e.data==="$?"||e.data==="$~"}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var i=function(){n(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nd=null;function Pp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Fn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Hp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Gp(e,n,r){switch(n=uo(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sc(e)}var In=new Map,Fp=new Set;function fo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=ae.d;ae.d={f:ex,r:tx,D:nx,C:ax,L:sx,m:rx,X:ix,S:lx,M:ox};function ex(){var e=Ua.f(),n=no();return e||n}function tx(e){var n=rr(e);n!==null&&n.tag===5&&n.type==="form"?im(n):Ua.r(e)}var Lr=typeof document>"u"?null:document;function Ip(e,n,r){var i=Lr;if(i&&typeof n=="string"&&n){var u=Ln(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Fp.has(u)||(Fp.add(u),e={rel:e,crossOrigin:r,href:n},i.querySelector(u)===null&&(n=i.createElement("link"),Wt(n,"link",e),Zt(n),i.head.appendChild(n)))}}function nx(e){Ua.D(e),Ip("dns-prefetch",e,null)}function ax(e,n){Ua.C(e,n),Ip("preconnect",e,n)}function sx(e,n,r){Ua.L(e,n,r);var i=Lr;if(i&&e&&n){var u='link[rel="preload"][as="'+Ln(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+Ln(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+Ln(r.imageSizes)+'"]')):u+='[href="'+Ln(e)+'"]';var d=u;switch(n){case"style":d=Ur(e);break;case"script":d=$r(e)}In.has(d)||(e=v({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),In.set(d,e),i.querySelector(u)!==null||n==="style"&&i.querySelector(Hl(d))||n==="script"&&i.querySelector(Gl(d))||(n=i.createElement("link"),Wt(n,"link",e),Zt(n),i.head.appendChild(n)))}}function rx(e,n){Ua.m(e,n);var r=Lr;if(r&&e){var i=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Ln(i)+'"][href="'+Ln(e)+'"]',d=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$r(e)}if(!In.has(d)&&(e=v({rel:"modulepreload",href:e},n),In.set(d,e),r.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Gl(d)))return}i=r.createElement("link"),Wt(i,"link",e),Zt(i),r.head.appendChild(i)}}}function lx(e,n,r){Ua.S(e,n,r);var i=Lr;if(i&&e){var u=lr(i).hoistableStyles,d=Ur(e);n=n||"default";var _=u.get(d);if(!_){var j={loading:0,preload:null};if(_=i.querySelector(Hl(d)))j.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},r),(r=In.get(d))&&ad(e,r);var T=_=i.createElement("link");Zt(T),Wt(T,"link",e),T._p=new Promise(function(P,Y){T.onload=P,T.onerror=Y}),T.addEventListener("load",function(){j.loading|=1}),T.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ho(_,n,i)}_={type:"stylesheet",instance:_,count:1,state:j},u.set(d,_)}}}function ix(e,n){Ua.X(e,n);var r=Lr;if(r&&e){var i=lr(r).hoistableScripts,u=$r(e),d=i.get(u);d||(d=r.querySelector(Gl(u)),d||(e=v({src:e,async:!0},n),(n=In.get(u))&&sd(e,n),d=r.createElement("script"),Zt(d),Wt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(u,d))}}function ox(e,n){Ua.M(e,n);var r=Lr;if(r&&e){var i=lr(r).hoistableScripts,u=$r(e),d=i.get(u);d||(d=r.querySelector(Gl(u)),d||(e=v({src:e,async:!0,type:"module"},n),(n=In.get(u))&&sd(e,n),d=r.createElement("script"),Zt(d),Wt(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},i.set(u,d))}}function Zp(e,n,r,i){var u=(u=Ce.current)?fo(u):null;if(!u)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ur(r.href),r=lr(u).hoistableStyles,i=r.get(n),i||(i={type:"style",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ur(r.href);var d=lr(u).hoistableStyles,_=d.get(e);if(_||(u=u.ownerDocument||u,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=u.querySelector(Hl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),In.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},In.set(e,r),d||cx(u,e,r,_.state))),n&&i===null)throw Error(o(528,""));return _}if(n&&i!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$r(r),r=lr(u).hoistableScripts,i=r.get(n),i||(i={type:"script",instance:null,count:0,state:null},r.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ur(e){return'href="'+Ln(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function Vp(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function cx(e,n,r,i){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=e.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Wt(n,"link",r),Zt(n),e.head.appendChild(n))}function $r(e){return'[src="'+Ln(e)+'"]'}function Gl(e){return"script[async]"+e}function Qp(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var i=e.querySelector('style[data-href~="'+Ln(r.href)+'"]');if(i)return n.instance=i,Zt(i),i;var u=v({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Zt(i),Wt(i,"style",u),ho(i,r.precedence,e),n.instance=i;case"stylesheet":u=Ur(r.href);var d=e.querySelector(Hl(u));if(d)return n.state.loading|=4,n.instance=d,Zt(d),d;i=Vp(r),(u=In.get(u))&&ad(i,u),d=(e.ownerDocument||e).createElement("link"),Zt(d);var _=d;return _._p=new Promise(function(j,T){_.onload=j,_.onerror=T}),Wt(d,"link",i),n.state.loading|=4,ho(d,r.precedence,e),n.instance=d;case"script":return d=$r(r.src),(u=e.querySelector(Gl(d)))?(n.instance=u,Zt(u),u):(i=r,(u=In.get(d))&&(i=v({},r),sd(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),Zt(u),Wt(u,"link",i),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(i=n.instance,n.state.loading|=4,ho(i,r.precedence,e));return n.instance}function ho(e,n,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,d=u,_=0;_<i.length;_++){var j=i[_];if(j.dataset.precedence===n)d=j;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mo=null;function Kp(e,n,r){if(mo===null){var i=new Map,u=mo=new Map;u.set(r,i)}else u=mo,i=u.get(r),i||(i=new Map,u.set(r,i));if(i.has(e))return i;for(i.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var d=r[u];if(!(d[rl]||d[gt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var j=i.get(_);j?j.push(d):i.set(_,[d])}}return i}function Yp(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function ux(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dx(e,n,r,i){if(r.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var u=Ur(i.href),d=n.querySelector(Hl(u));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=po.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Zt(d);return}d=n.ownerDocument||n,i=Vp(i),(u=In.get(u))&&ad(i,u),d=d.createElement("link"),Zt(d);var _=d;_._p=new Promise(function(j,T){_.onload=j,_.onerror=T}),Wt(d,"link",i),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=po.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var rd=0;function fx(e,n){return e.stylesheets&&e.count===0&&_o(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var i=setTimeout(function(){if(e.stylesheets&&_o(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&rd===0&&(rd=62500*Zb());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_o(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>rd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function po(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_o(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var go=null;function _o(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,go=new Map,n.forEach(hx,e),go=null,po.call(e))}function hx(e,n){if(!(n.state.loading&4)){var r=go.get(e);if(r)var i=r.get(null);else{r=new Map,go.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var _=u[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),i=_)}i&&r.set(null,i)}u=n.instance,_=u.getAttribute("data-precedence"),d=r.get(_)||i,d===i&&r.set(null,u),r.set(_,u),this.count++,i=po.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Fl={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function mx(e,n,r,i,u,d,_,j,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Jp(e,n,r,i,u,d,_,j,T,P,Y,W){return e=new mx(e,n,r,_,T,P,Y,W,j),n=1,d===!0&&(n|=24),d=Sn(3,null,null,n),e.current=d,d.stateNode=e,n=Uc(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:i,isDehydrated:r,cache:n},Hc(d),e}function Wp(e){return e?(e=gr,e):gr}function eg(e,n,r,i,u,d){u=Wp(u),i.context===null?i.context=u:i.pendingContext=u,i=es(n),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=ts(e,i,n),r!==null&&(gn(r,e,n),jl(r,e,n))}function tg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ld(e,n){tg(e,n),(e=e.alternate)&&tg(e,n)}function ng(e){if(e.tag===13||e.tag===31){var n=Os(e,67108864);n!==null&&gn(n,e,67108864),ld(e,67108864)}}function ag(e){if(e.tag===13||e.tag===31){var n=Rn();n=ze(n);var r=Os(e,n);r!==null&&gn(r,e,n),ld(e,n)}}var yo=!0;function px(e,n,r,i){var u=G.T;G.T=null;var d=ae.p;try{ae.p=2,id(e,n,r,i)}finally{ae.p=d,G.T=u}}function gx(e,n,r,i){var u=G.T;G.T=null;var d=ae.p;try{ae.p=8,id(e,n,r,i)}finally{ae.p=d,G.T=u}}function id(e,n,r,i){if(yo){var u=od(i);if(u===null)Vu(e,n,i,vo,r),rg(e,i);else if(yx(u,e,n,r,i))i.stopPropagation();else if(rg(e,i),n&4&&-1<_x.indexOf(e)){for(;u!==null;){var d=rr(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=xn(d.pendingLanes);if(_!==0){var j=d;for(j.pendingLanes|=2,j.entangledLanes|=2;_;){var T=1<<31-kt(_);j.entanglements[1]|=T,_&=~T}ma(d),(We&6)===0&&(eo=Ct()+500,Ul(0))}}break;case 31:case 13:j=Os(d,2),j!==null&&gn(j,d,2),no(),ld(d,2)}if(d=od(i),d===null&&Vu(e,n,i,vo,r),d===u)break;u=d}u!==null&&i.stopPropagation()}else Vu(e,n,i,null,r)}}function od(e){return e=uc(e),cd(e)}var vo=null;function cd(e){if(vo=null,e=sr(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=f(n),e!==null)return e;e=null}else if(r===31){if(e=m(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vo=e,null}function sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case bn:return 2;case Ia:return 8;case ya:case tr:return 32;case Ns:return 268435456;default:return 32}default:return 32}}var ud=!1,fs=null,hs=null,ms=null,Il=new Map,Zl=new Map,ps=[],_x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(e,n){switch(e){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function Vl(e,n,r,i,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:i,nativeEvent:d,targetContainers:[u]},n!==null&&(n=rr(n),n!==null&&ng(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function yx(e,n,r,i,u){switch(n){case"focusin":return fs=Vl(fs,e,n,r,i,u),!0;case"dragenter":return hs=Vl(hs,e,n,r,i,u),!0;case"mouseover":return ms=Vl(ms,e,n,r,i,u),!0;case"pointerover":var d=u.pointerId;return Il.set(d,Vl(Il.get(d)||null,e,n,r,i,u)),!0;case"gotpointercapture":return d=u.pointerId,Zl.set(d,Vl(Zl.get(d)||null,e,n,r,i,u)),!0}return!1}function lg(e){var n=sr(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){e.blockedOn=n,Va(e.priority,function(){ag(r)});return}}else if(n===31){if(n=m(r),n!==null){e.blockedOn=n,Va(e.priority,function(){ag(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=od(e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);cc=i,r.target.dispatchEvent(i),cc=null}else return n=rr(r),n!==null&&ng(n),e.blockedOn=r,!1;n.shift()}return!0}function ig(e,n,r){bo(e)&&r.delete(n)}function vx(){ud=!1,fs!==null&&bo(fs)&&(fs=null),hs!==null&&bo(hs)&&(hs=null),ms!==null&&bo(ms)&&(ms=null),Il.forEach(ig),Zl.forEach(ig)}function xo(e,n){e.blockedOn===n&&(e.blockedOn=null,ud||(ud=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vx)))}var jo=null;function og(e){jo!==e&&(jo=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jo===e&&(jo=null);for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1],u=e[n+2];if(typeof i!="function"){if(cd(i||r)===null)continue;break}var d=rr(r);d!==null&&(e.splice(n,3),n-=3,ou(d,{pending:!0,data:u,method:r.method,action:i},i,u))}}))}function qr(e){function n(T){return xo(T,e)}fs!==null&&xo(fs,e),hs!==null&&xo(hs,e),ms!==null&&xo(ms,e),Il.forEach(n),Zl.forEach(n);for(var r=0;r<ps.length;r++){var i=ps[r];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ps.length&&(r=ps[0],r.blockedOn===null);)lg(r),r.blockedOn===null&&ps.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var u=r[i],d=r[i+1],_=u[It]||null;if(typeof d=="function")_||og(r);else if(_){var j=null;if(d&&d.hasAttribute("formAction")){if(u=d,_=d[It]||null)j=_.formAction;else if(cd(u)!==null)continue}else j=_.action;typeof j=="function"?r[i+1]=j:(r.splice(i,3),i-=3),og(r)}}}function cg(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return u=_})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),i||setTimeout(r,20)}function r(){if(!i&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function dd(e){this._internalRoot=e}So.prototype.render=dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,i=Rn();eg(r,i,e,n,null,null)},So.prototype.unmount=dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;eg(e.current,2,null,e,null,null),no(),n[ar]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var n=ua();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ps.length&&n!==0&&n<ps[r].priority;r++);ps.splice(r,0,e),r===0&&lg(e)}};var ug=a.version;if(ug!=="19.2.0")throw Error(o(527,ug,"19.2.0"));ae.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var bx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{ft=No.inject(bx),Et=No}catch{}}return Kl.createRoot=function(e,n){if(!c(e))throw Error(o(299));var r=!1,i="",u=_m,d=ym,_=vm;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=Jp(e,1,!1,null,null,r,i,null,u,d,_,cg),e[ar]=n.current,Zu(e),new dd(n)},Kl.hydrateRoot=function(e,n,r){if(!c(e))throw Error(o(299));var i=!1,u="",d=_m,_=ym,j=vm,T=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(j=r.onRecoverableError),r.formState!==void 0&&(T=r.formState)),n=Jp(e,1,!0,n,r??null,i,u,T,d,_,j,cg),n.context=Wp(null),r=n.current,i=Rn(),i=ze(i),u=es(i),u.callback=null,ts(r,u,i),r=i,n.current.lanes=r,ba(n,r),ma(n),e[ar]=n.current,Zu(e),new So(n)},Kl.version="19.2.0",Kl}var bg;function Ox(){if(bg)return md.exports;bg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(a){console.error(a)}}return t(),md.exports=Tx(),md.exports}var Ax=Ox();var xg="popstate";function Dx(t={}){function a(o,c){let{pathname:h,search:f,hash:m}=o.location;return Od("",{pathname:h,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(o,c){return typeof c=="string"?c:ei(c)}return Bx(a,l,null,t)}function yt(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Vn(t,a){if(!t){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function zx(){return Math.random().toString(36).substring(2,10)}function jg(t,a){return{usr:t.state,key:t.key,idx:a}}function Od(t,a,l=null,o){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof a=="string"?Qr(a):a,state:l,key:a&&a.key||o||zx()}}function ei({pathname:t="/",search:a="",hash:l=""}){return a&&a!=="?"&&(t+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(t+=l.charAt(0)==="#"?l:"#"+l),t}function Qr(t){let a={};if(t){let l=t.indexOf("#");l>=0&&(a.hash=t.substring(l),t=t.substring(0,l));let o=t.indexOf("?");o>=0&&(a.search=t.substring(o),t=t.substring(0,o)),t&&(a.pathname=t)}return a}function Bx(t,a,l,o={}){let{window:c=document.defaultView,v5Compat:h=!1}=o,f=c.history,m="POP",g=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function v(){m="POP";let E=y(),$=E==null?null:E-p;p=E,g&&g({action:m,location:w.location,delta:$})}function N(E,$){m="PUSH";let k=Od(w.location,E,$);p=y()+1;let H=jg(k,p),A=w.createHref(k);try{f.pushState(H,"",A)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;c.location.assign(A)}h&&g&&g({action:m,location:w.location,delta:1})}function R(E,$){m="REPLACE";let k=Od(w.location,E,$);p=y();let H=jg(k,p),A=w.createHref(k);f.replaceState(H,"",A),h&&g&&g({action:m,location:w.location,delta:0})}function b(E){return kx(E)}let w={get action(){return m},get location(){return t(c,f)},listen(E){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(xg,v),g=E,()=>{c.removeEventListener(xg,v),g=null}},createHref(E){return a(c,E)},createURL:b,encodeLocation(E){let $=b(E);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:N,replace:R,go(E){return f.go(E)}};return w}function kx(t,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),yt(l,"No window.location.(origin|href) available to create URL");let o=typeof t=="string"?t:ei(t);return o=o.replace(/ $/,"%20"),!a&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function N_(t,a,l="/"){return Mx(t,a,l,!1)}function Mx(t,a,l,o){let c=typeof a=="string"?Qr(a):a,h=Ha(c.pathname||"/",l);if(h==null)return null;let f=w_(t);Lx(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Qx(h);m=Zx(f[g],p,o)}return m}function w_(t,a=[],l=[],o="",c=!1){let h=(f,m,g=c,p)=>{let y={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&g)return;yt(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let v=Pa([o,y.relativePath]),N=l.concat(y);f.children&&f.children.length>0&&(yt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),w_(f.children,a,N,v,g)),!(f.path==null&&!f.index)&&a.push({path:v,score:Fx(v,f.index),routesMeta:N})};return t.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))h(f,m);else for(let g of C_(f.path))h(f,m,!0,g)}),a}function C_(t){let a=t.split("/");if(a.length===0)return[];let[l,...o]=a,c=l.endsWith("?"),h=l.replace(/\?$/,"");if(o.length===0)return c?[h,""]:[h];let f=C_(o.join("/")),m=[];return m.push(...f.map(g=>g===""?h:[h,g].join("/"))),c&&m.push(...f),m.map(g=>t.startsWith("/")&&g===""?"/":g)}function Lx(t){t.sort((a,l)=>a.score!==l.score?l.score-a.score:Ix(a.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var Ux=/^:[\w-]+$/,$x=3,qx=2,Px=1,Hx=10,Gx=-2,Sg=t=>t==="*";function Fx(t,a){let l=t.split("/"),o=l.length;return l.some(Sg)&&(o+=Gx),a&&(o+=qx),l.filter(c=>!Sg(c)).reduce((c,h)=>c+(Ux.test(h)?$x:h===""?Px:Hx),o)}function Ix(t,a){return t.length===a.length&&t.slice(0,-1).every((o,c)=>o===a[c])?t[t.length-1]-a[a.length-1]:0}function Zx(t,a,l=!1){let{routesMeta:o}=t,c={},h="/",f=[];for(let m=0;m<o.length;++m){let g=o[m],p=m===o.length-1,y=h==="/"?a:a.slice(h.length)||"/",v=Lo({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},y),N=g.route;if(!v&&p&&l&&!o[o.length-1].route.index&&(v=Lo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},y)),!v)return null;Object.assign(c,v.params),f.push({params:c,pathname:Pa([h,v.pathname]),pathnameBase:Jx(Pa([h,v.pathnameBase])),route:N}),v.pathnameBase!=="/"&&(h=Pa([h,v.pathnameBase]))}return f}function Lo(t,a){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[l,o]=Vx(t.path,t.caseSensitive,t.end),c=a.match(l);if(!c)return null;let h=c[0],f=h.replace(/(.)\/+$/,"$1"),m=c.slice(1);return{params:o.reduce((p,{paramName:y,isOptional:v},N)=>{if(y==="*"){let b=m[N]||"";f=h.slice(0,h.length-b.length).replace(/(.)\/+$/,"$1")}const R=m[N];return v&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:f,pattern:t}}function Vx(t,a=!1,l=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let o=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(o.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(o.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),o]}function Qx(t){try{return t.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),t}}function Ha(t,a){if(a==="/")return t;if(!t.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,o=t.charAt(l);return o&&o!=="/"?null:t.slice(l)||"/"}var Kx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Yx(t,a="/"){let{pathname:l,search:o="",hash:c=""}=typeof t=="string"?Qr(t):t,h;return l?(l=l.replace(/\/\/+/g,"/"),l.startsWith("/")?h=Ng(l.substring(1),"/"):h=Ng(l,a)):h=a,{pathname:h,search:Wx(o),hash:ej(c)}}function Ng(t,a){let l=a.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function yd(t,a,l,o){return`Cannot include a '${t}' character in a manually specified \`to.${a}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xx(t){return t.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function Kd(t){let a=Xx(t);return a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase)}function Yd(t,a,l,o=!1){let c;typeof t=="string"?c=Qr(t):(c={...t},yt(!c.pathname||!c.pathname.includes("?"),yd("?","pathname","search",c)),yt(!c.pathname||!c.pathname.includes("#"),yd("#","pathname","hash",c)),yt(!c.search||!c.search.includes("#"),yd("#","search","hash",c)));let h=t===""||c.pathname==="",f=h?"/":c.pathname,m;if(f==null)m=l;else{let v=a.length-1;if(!o&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),v-=1;c.pathname=N.join("/")}m=v>=0?a[v]:"/"}let g=Yx(c,m),p=f&&f!=="/"&&f.endsWith("/"),y=(h||f===".")&&l.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}var Pa=t=>t.join("/").replace(/\/\/+/g,"/"),Jx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ej=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,tj=class{constructor(t,a,l,o=!1){this.status=t,this.statusText=a||"",this.internal=o,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function nj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function aj(t){return t.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var E_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function R_(t,a){let l=t;if(typeof l!="string"||!Kx.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let o=l,c=!1;if(E_)try{let h=new URL(window.location.href),f=l.startsWith("//")?new URL(h.protocol+l):new URL(l),m=Ha(f.pathname,a);f.origin===h.origin&&m!=null?l=m+f.search+f.hash:c=!0}catch{Vn(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:c,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var sj=["GET",...T_];new Set(sj);var Kr=S.createContext(null);Kr.displayName="DataRouter";var Zo=S.createContext(null);Zo.displayName="DataRouterState";var rj=S.createContext(!1),O_=S.createContext({isTransitioning:!1});O_.displayName="ViewTransition";var lj=S.createContext(new Map);lj.displayName="Fetchers";var ij=S.createContext(null);ij.displayName="Await";var Tn=S.createContext(null);Tn.displayName="Navigation";var ri=S.createContext(null);ri.displayName="Location";var Qn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Xd=S.createContext(null);Xd.displayName="RouteError";var A_="REACT_ROUTER_ERROR",oj="REDIRECT",cj="ROUTE_ERROR_RESPONSE";function uj(t){if(t.startsWith(`${A_}:${oj}:{`))try{let a=JSON.parse(t.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function dj(t){if(t.startsWith(`${A_}:${cj}:{`))try{let a=JSON.parse(t.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new tj(a.status,a.statusText,a.data)}catch{}}function fj(t,{relative:a}={}){yt(Yr(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=S.useContext(Tn),{hash:c,pathname:h,search:f}=li(t,{relative:a}),m=h;return l!=="/"&&(m=h==="/"?l:Pa([l,h])),o.createHref({pathname:m,search:f,hash:c})}function Yr(){return S.useContext(ri)!=null}function ra(){return yt(Yr(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(ri).location}var D_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(t){S.useContext(Tn).static||S.useLayoutEffect(t)}function Ws(){let{isDataRoute:t}=S.useContext(Qn);return t?Rj():hj()}function hj(){yt(Yr(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Kr),{basename:a,navigator:l}=S.useContext(Tn),{matches:o}=S.useContext(Qn),{pathname:c}=ra(),h=JSON.stringify(Kd(o)),f=S.useRef(!1);return z_(()=>{f.current=!0}),S.useCallback((g,p={})=>{if(Vn(f.current,D_),!f.current)return;if(typeof g=="number"){l.go(g);return}let y=Yd(g,JSON.parse(h),c,p.relative==="path");t==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Pa([a,y.pathname])),(p.replace?l.replace:l.push)(y,p.state,p)},[a,l,h,c,t])}var mj=S.createContext(null);function pj(t){let a=S.useContext(Qn).outlet;return S.useMemo(()=>a&&S.createElement(mj.Provider,{value:t},a),[a,t])}function gj(){let{matches:t}=S.useContext(Qn),a=t[t.length-1];return a?a.params:{}}function li(t,{relative:a}={}){let{matches:l}=S.useContext(Qn),{pathname:o}=ra(),c=JSON.stringify(Kd(l));return S.useMemo(()=>Yd(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function _j(t,a){return B_(t,a)}function B_(t,a,l,o,c){yt(Yr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=S.useContext(Tn),{matches:f}=S.useContext(Qn),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",y=m?m.pathnameBase:"/",v=m&&m.route;{let k=v&&v.path||"";M_(p,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let N=ra(),R;if(a){let k=typeof a=="string"?Qr(a):a;yt(y==="/"||k.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${k.pathname}" was given in the \`location\` prop.`),R=k}else R=N;let b=R.pathname||"/",w=b;if(y!=="/"){let k=y.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=N_(t,{pathname:w});Vn(v||E!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Vn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=jj(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Pa([y,h.encodeLocation?h.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?y:Pa([y,h.encodeLocation?h.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),f,l,o,c);return a&&$?S.createElement(ri.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function yj(){let t=Ej(),a=nj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),l=t instanceof Error?t.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",t),f=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:h},"ErrorBoundary")," or"," ",S.createElement("code",{style:h},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},a),l?S.createElement("pre",{style:c},l):null,f)}var vj=S.createElement(yj,null),k_=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,a){return a.location!==t.location||a.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:a.error,location:a.location,revalidation:t.revalidation||a.revalidation}}componentDidCatch(t,a){this.props.onError?this.props.onError(t,a):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const l=dj(t.digest);l&&(t=l)}let a=t!==void 0?S.createElement(Qn.Provider,{value:this.props.routeContext},S.createElement(Xd.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(bj,{error:t},a):a}};k_.contextType=rj;var vd=new WeakMap;function bj({children:t,error:a}){let{basename:l}=S.useContext(Tn);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let o=uj(a.digest);if(o){let c=vd.get(a);if(c)throw c;let h=R_(o.location,l);if(E_&&!vd.get(a))if(h.isExternal||o.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:o.replace}));throw vd.set(a,f),f}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return t}function xj({routeContext:t,match:a,children:l}){let o=S.useContext(Kr);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(Qn.Provider,{value:t},l)}function jj(t,a=[],l=null,o=null,c=null){if(t==null){if(!l)return null;if(l.errors)t=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)t=l.matches;else return null}let h=t,f=l?.errors;if(f!=null){let y=h.findIndex(v=>v.route.id&&f?.[v.route.id]!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,g=-1;if(l)for(let y=0;y<h.length;y++){let v=h[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:N,errors:R}=l,b=v.route.loader&&!N.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||b){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}let p=l&&o?(y,v)=>{o(y,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:aj(l.matches),errorInfo:v})}:void 0;return h.reduceRight((y,v,N)=>{let R,b=!1,w=null,E=null;l&&(R=f&&v.route.id?f[v.route.id]:void 0,w=v.route.errorElement||vj,m&&(g<0&&N===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):g===N&&(b=!0,E=v.route.hydrateFallbackElement||null)));let $=a.concat(h.slice(0,N+1)),k=()=>{let H;return R?H=w:b?H=E:v.route.Component?H=S.createElement(v.route.Component,null):v.route.element?H=v.route.element:H=y,S.createElement(xj,{match:v,routeContext:{outlet:y,matches:$,isDataRoute:l!=null},children:H})};return l&&(v.route.ErrorBoundary||v.route.errorElement||N===0)?S.createElement(k_,{location:l.location,revalidation:l.revalidation,component:w,error:R,children:k(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:p}):k()},null)}function Jd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sj(t){let a=S.useContext(Kr);return yt(a,Jd(t)),a}function Nj(t){let a=S.useContext(Zo);return yt(a,Jd(t)),a}function wj(t){let a=S.useContext(Qn);return yt(a,Jd(t)),a}function Wd(t){let a=wj(t),l=a.matches[a.matches.length-1];return yt(l.route.id,`${t} can only be used on routes that contain a unique "id"`),l.route.id}function Cj(){return Wd("useRouteId")}function Ej(){let t=S.useContext(Xd),a=Nj("useRouteError"),l=Wd("useRouteError");return t!==void 0?t:a.errors?.[l]}function Rj(){let{router:t}=Sj("useNavigate"),a=Wd("useNavigate"),l=S.useRef(!1);return z_(()=>{l.current=!0}),S.useCallback(async(c,h={})=>{Vn(l.current,D_),l.current&&(typeof c=="number"?await t.navigate(c):await t.navigate(c,{fromRouteId:a,...h}))},[t,a])}var wg={};function M_(t,a,l){!a&&!wg[t]&&(wg[t]=!0,Vn(!1,l))}S.memo(Tj);function Tj({routes:t,future:a,state:l,onError:o}){return B_(t,void 0,l,o,a)}function Fs({to:t,replace:a,state:l,relative:o}){yt(Yr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(Tn);Vn(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=S.useContext(Qn),{pathname:f}=ra(),m=Ws(),g=Yd(t,Kd(h),f,o==="path"),p=JSON.stringify(g);return S.useEffect(()=>{m(JSON.parse(p),{replace:a,state:l,relative:o})},[m,p,o,a,l]),null}function Oj(t){return pj(t.context)}function et(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Aj({basename:t="/",children:a=null,location:l,navigationType:o="POP",navigator:c,static:h=!1,unstable_useTransitions:f}){yt(!Yr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),g=S.useMemo(()=>({basename:m,navigator:c,static:h,unstable_useTransitions:f,future:{}}),[m,c,h,f]);typeof l=="string"&&(l=Qr(l));let{pathname:p="/",search:y="",hash:v="",state:N=null,key:R="default"}=l,b=S.useMemo(()=>{let w=Ha(p,m);return w==null?null:{location:{pathname:w,search:y,hash:v,state:N,key:R},navigationType:o}},[m,p,y,v,N,R,o]);return Vn(b!=null,`<Router basename="${m}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:S.createElement(Tn.Provider,{value:g},S.createElement(ri.Provider,{children:a,value:b}))}function Dj({children:t,location:a}){return _j(Ad(t),a)}function Ad(t,a=[]){let l=[];return S.Children.forEach(t,(o,c)=>{if(!S.isValidElement(o))return;let h=[...a,c];if(o.type===S.Fragment){l.push.apply(l,Ad(o.props.children,h));return}yt(o.type===et,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=Ad(o.props.children,h)),l.push(f)}),l}var Do="get",zo="application/x-www-form-urlencoded";function Vo(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function zj(t){return Vo(t)&&t.tagName.toLowerCase()==="button"}function Bj(t){return Vo(t)&&t.tagName.toLowerCase()==="form"}function kj(t){return Vo(t)&&t.tagName.toLowerCase()==="input"}function Mj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lj(t,a){return t.button===0&&(!a||a==="_self")&&!Mj(t)}function Dd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((a,l)=>{let o=t[l];return a.concat(Array.isArray(o)?o.map(c=>[l,c]):[[l,o]])},[]))}function Uj(t,a){let l=Dd(t);return a&&a.forEach((o,c)=>{l.has(c)||a.getAll(c).forEach(h=>{l.append(c,h)})}),l}var wo=null;function $j(){if(wo===null)try{new FormData(document.createElement("form"),0),wo=!1}catch{wo=!0}return wo}var qj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(t){return t!=null&&!qj.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zo}"`),null):t}function Pj(t,a){let l,o,c,h,f;if(Bj(t)){let m=t.getAttribute("action");o=m?Ha(m,a):null,l=t.getAttribute("method")||Do,c=bd(t.getAttribute("enctype"))||zo,h=new FormData(t)}else if(zj(t)||kj(t)&&(t.type==="submit"||t.type==="image")){let m=t.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||m.getAttribute("action");if(o=g?Ha(g,a):null,l=t.getAttribute("formmethod")||m.getAttribute("method")||Do,c=bd(t.getAttribute("formenctype"))||bd(m.getAttribute("enctype"))||zo,h=new FormData(m,t),!$j()){let{name:p,type:y,value:v}=t;if(y==="image"){let N=p?`${p}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else p&&h.append(p,v)}}else{if(Vo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=Do,o=null,c=zo,f=t}return h&&c==="text/plain"&&(f=h,h=void 0),{action:o,method:l.toLowerCase(),encType:c,formData:h,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ef(t,a){if(t===!1||t===null||typeof t>"u")throw new Error(a)}function Hj(t,a,l,o){let c=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l?c.pathname.endsWith("/")?c.pathname=`${c.pathname}_.${o}`:c.pathname=`${c.pathname}.${o}`:c.pathname==="/"?c.pathname=`_root.${o}`:a&&Ha(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function Gj(t,a){if(t.id in a)return a[t.id];try{let l=await import(t.module);return a[t.id]=l,l}catch(l){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ij(t,a,l){let o=await Promise.all(t.map(async c=>{let h=a.routes[c.route.id];if(h){let f=await Gj(h,l);return f.links?f.links():[]}return[]}));return Kj(o.flat(1).filter(Fj).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Cg(t,a,l,o,c,h){let f=(g,p)=>l[p]?g.route.id!==l[p].route.id:!0,m=(g,p)=>l[p].pathname!==g.pathname||l[p].route.path?.endsWith("*")&&l[p].params["*"]!==g.params["*"];return h==="assets"?a.filter((g,p)=>f(g,p)||m(g,p)):h==="data"?a.filter((g,p)=>{let y=o.routes[g.route.id];if(!y||!y.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let v=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Zj(t,a,{includeHydrateFallback:l}={}){return Vj(t.map(o=>{let c=a.routes[o.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function Vj(t){return[...new Set(t)]}function Qj(t){let a={},l=Object.keys(t).sort();for(let o of l)a[o]=t[o];return a}function Kj(t,a){let l=new Set;return new Set(a),t.reduce((o,c)=>{let h=JSON.stringify(Qj(c));return l.has(h)||(l.add(h),o.push({key:h,link:c})),o},[])}function L_(){let t=S.useContext(Kr);return ef(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Yj(){let t=S.useContext(Zo);return ef(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tf=S.createContext(void 0);tf.displayName="FrameworkContext";function U_(){let t=S.useContext(tf);return ef(t,"You must render this element inside a <HydratedRouter> element"),t}function Xj(t,a){let l=S.useContext(tf),[o,c]=S.useState(!1),[h,f]=S.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=a,N=S.useRef(null);S.useEffect(()=>{if(t==="render"&&f(!0),t==="viewport"){let w=$=>{$.forEach(k=>{f(k.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return N.current&&E.observe(N.current),()=>{E.disconnect()}}},[t]),S.useEffect(()=>{if(o){let w=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(w)}}},[o]);let R=()=>{c(!0)},b=()=>{c(!1),f(!1)};return l?t!=="intent"?[h,N,{}]:[h,N,{onFocus:Yl(m,R),onBlur:Yl(g,b),onMouseEnter:Yl(p,R),onMouseLeave:Yl(y,b),onTouchStart:Yl(v,R)}]:[!1,N,{}]}function Yl(t,a){return l=>{t&&t(l),l.defaultPrevented||a(l)}}function Jj({page:t,...a}){let{router:l}=L_(),o=S.useMemo(()=>N_(l.routes,t,l.basename),[l.routes,t,l.basename]);return o?S.createElement(e0,{page:t,matches:o,...a}):null}function Wj(t){let{manifest:a,routeModules:l}=U_(),[o,c]=S.useState([]);return S.useEffect(()=>{let h=!1;return Ij(t,a,l).then(f=>{h||c(f)}),()=>{h=!0}},[t,a,l]),o}function e0({page:t,matches:a,...l}){let o=ra(),{future:c,manifest:h,routeModules:f}=U_(),{basename:m}=L_(),{loaderData:g,matches:p}=Yj(),y=S.useMemo(()=>Cg(t,a,p,h,o,"data"),[t,a,p,h,o]),v=S.useMemo(()=>Cg(t,a,p,h,o,"assets"),[t,a,p,h,o]),N=S.useMemo(()=>{if(t===o.pathname+o.search+o.hash)return[];let w=new Set,E=!1;if(a.forEach(k=>{let H=h.routes[k.route.id];!H||!H.hasLoader||(!y.some(A=>A.route.id===k.route.id)&&k.route.id in g&&f[k.route.id]?.shouldRevalidate||H.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let $=Hj(t,m,c.unstable_trailingSlashAwareDataRequests,"data");return E&&w.size>0&&$.searchParams.set("_routes",a.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[$.pathname+$.search]},[m,c.unstable_trailingSlashAwareDataRequests,g,o,h,y,a,t,f]),R=S.useMemo(()=>Zj(v,h),[v,h]),b=Wj(v);return S.createElement(S.Fragment,null,N.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...l})),R.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...l})),b.map(({key:w,link:E})=>S.createElement("link",{key:w,nonce:l.nonce,...E,crossOrigin:E.crossOrigin??l.crossOrigin})))}function t0(...t){return a=>{t.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var n0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n0&&(window.__reactRouterVersion="7.13.0")}catch{}function a0({basename:t,children:a,unstable_useTransitions:l,window:o}){let c=S.useRef();c.current==null&&(c.current=Dx({window:o,v5Compat:!0}));let h=c.current,[f,m]=S.useState({action:h.action,location:h.location}),g=S.useCallback(p=>{l===!1?m(p):S.startTransition(()=>m(p))},[l]);return S.useLayoutEffect(()=>h.listen(g),[h,g]),S.createElement(Aj,{basename:t,children:a,location:f.location,navigationType:f.action,navigator:h,unstable_useTransitions:l})}var $_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nf=S.forwardRef(function({onClick:a,discover:l="render",prefetch:o="none",relative:c,reloadDocument:h,replace:f,state:m,target:g,to:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:N,...R},b){let{basename:w,unstable_useTransitions:E}=S.useContext(Tn),$=typeof p=="string"&&$_.test(p),k=R_(p,w);p=k.to;let H=fj(p,{relative:c}),[A,z,U]=Xj(o,R),M=l0(p,{replace:f,state:m,target:g,preventScrollReset:y,relative:c,viewTransition:v,unstable_defaultShouldRevalidate:N,unstable_useTransitions:E});function X(ie){a&&a(ie),ie.defaultPrevented||M(ie)}let Z=S.createElement("a",{...R,...U,href:k.absoluteURL||H,onClick:k.isExternal||h?a:X,ref:t0(b,z),target:g,"data-discover":!$&&l==="render"?"true":void 0});return A&&!$?S.createElement(S.Fragment,null,Z,S.createElement(Jj,{page:H})):Z});nf.displayName="Link";var zd=S.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:o="",end:c=!1,style:h,to:f,viewTransition:m,children:g,...p},y){let v=li(f,{relative:p.relative}),N=ra(),R=S.useContext(Zo),{navigator:b,basename:w}=S.useContext(Tn),E=R!=null&&d0(v)&&m===!0,$=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,k=N.pathname,H=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;l||(k=k.toLowerCase(),H=H?H.toLowerCase():null,$=$.toLowerCase()),H&&w&&(H=Ha(H,w)||H);const A=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let z=k===$||!c&&k.startsWith($)&&k.charAt(A)==="/",U=H!=null&&(H===$||!c&&H.startsWith($)&&H.charAt($.length)==="/"),M={isActive:z,isPending:U,isTransitioning:E},X=z?a:void 0,Z;typeof o=="function"?Z=o(M):Z=[o,z?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let ie=typeof h=="function"?h(M):h;return S.createElement(nf,{...p,"aria-current":X,className:Z,ref:y,style:ie,to:f,viewTransition:m},typeof g=="function"?g(M):g)});zd.displayName="NavLink";var s0=S.forwardRef(({discover:t="render",fetcherKey:a,navigate:l,reloadDocument:o,replace:c,state:h,method:f=Do,action:m,onSubmit:g,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:N,...R},b)=>{let{unstable_useTransitions:w}=S.useContext(Tn),E=c0(),$=u0(m,{relative:p}),k=f.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&$_.test(m),A=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let U=z.nativeEvent.submitter,M=U?.getAttribute("formmethod")||f,X=()=>E(U||z.currentTarget,{fetcherKey:a,method:M,navigate:l,replace:c,state:h,relative:p,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:N});w&&l!==!1?S.startTransition(()=>X()):X()};return S.createElement("form",{ref:b,method:k,action:$,onSubmit:o?g:A,...R,"data-discover":!H&&t==="render"?"true":void 0})});s0.displayName="Form";function r0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q_(t){let a=S.useContext(Kr);return yt(a,r0(t)),a}function l0(t,{target:a,replace:l,state:o,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let p=Ws(),y=ra(),v=li(t,{relative:h});return S.useCallback(N=>{if(Lj(N,a)){N.preventDefault();let R=l!==void 0?l:ei(y)===ei(v),b=()=>p(t,{replace:R,state:o,preventScrollReset:c,relative:h,viewTransition:f,unstable_defaultShouldRevalidate:m});g?S.startTransition(()=>b()):b()}},[y,p,v,l,o,a,t,c,h,f,m,g])}function vs(t){Vn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let a=S.useRef(Dd(t)),l=S.useRef(!1),o=ra(),c=S.useMemo(()=>Uj(o.search,l.current?null:a.current),[o.search]),h=Ws(),f=S.useCallback((m,g)=>{const p=Dd(typeof m=="function"?m(new URLSearchParams(c)):m);l.current=!0,h("?"+p,g)},[h,c]);return[c,f]}var i0=0,o0=()=>`__${String(++i0)}__`;function c0(){let{router:t}=q_("useSubmit"),{basename:a}=S.useContext(Tn),l=Cj(),o=t.fetch,c=t.navigate;return S.useCallback(async(h,f={})=>{let{action:m,method:g,encType:p,formData:y,body:v}=Pj(h,a);if(f.navigate===!1){let N=f.fetcherKey||o0();await o(N,l,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:v,formMethod:f.method||g,formEncType:f.encType||p,flushSync:f.flushSync})}else await c(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:v,formMethod:f.method||g,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:l,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,c,a,l])}function u0(t,{relative:a}={}){let{basename:l}=S.useContext(Tn),o=S.useContext(Qn);yt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),h={...li(t||".",{relative:a})},f=ra();if(t==null){h.search=f.search;let m=new URLSearchParams(h.search),g=m.getAll("index");if(g.some(y=>y==="")){m.delete("index"),g.filter(v=>v).forEach(v=>m.append("index",v));let y=m.toString();h.search=y?`?${y}`:""}}return(!t||t===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(h.pathname=h.pathname==="/"?l:Pa([l,h.pathname])),ei(h)}function d0(t,{relative:a}={}){let l=S.useContext(O_);yt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=q_("useViewTransitionState"),c=li(t,{relative:a});if(!l.isTransitioning)return!1;let h=Ha(l.currentLocation.pathname,o)||l.currentLocation.pathname,f=Ha(l.nextLocation.pathname,o)||l.nextLocation.pathname;return Lo(c.pathname,f)!=null||Lo(c.pathname,h)!=null}var Xr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f0={setTimeout:(t,a)=>setTimeout(t,a),clearTimeout:t=>clearTimeout(t),setInterval:(t,a)=>setInterval(t,a),clearInterval:t=>clearInterval(t)},h0=class{#e=f0;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,a){return this.#e.setTimeout(t,a)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,a){return this.#e.setInterval(t,a)}clearInterval(t){this.#e.clearInterval(t)}},Is=new h0;function m0(t){setTimeout(t,0)}var Qs=typeof window>"u"||"Deno"in globalThis;function cn(){}function p0(t,a){return typeof t=="function"?t(a):t}function Bd(t){return typeof t=="number"&&t>=0&&t!==1/0}function P_(t,a){return Math.max(t+(a||0)-Date.now(),0)}function ys(t,a){return typeof t=="function"?t(a):t}function Zn(t,a){return typeof t=="function"?t(a):t}function Eg(t,a){const{type:l="all",exact:o,fetchStatus:c,predicate:h,queryKey:f,stale:m}=t;if(f){if(o){if(a.queryHash!==af(f,a.options))return!1}else if(!ti(a.queryKey,f))return!1}if(l!=="all"){const g=a.isActive();if(l==="active"&&!g||l==="inactive"&&g)return!1}return!(typeof m=="boolean"&&a.isStale()!==m||c&&c!==a.state.fetchStatus||h&&!h(a))}function Rg(t,a){const{exact:l,status:o,predicate:c,mutationKey:h}=t;if(h){if(!a.options.mutationKey)return!1;if(l){if(Ks(a.options.mutationKey)!==Ks(h))return!1}else if(!ti(a.options.mutationKey,h))return!1}return!(o&&a.state.status!==o||c&&!c(a))}function af(t,a){return(a?.queryKeyHashFn||Ks)(t)}function Ks(t){return JSON.stringify(t,(a,l)=>kd(l)?Object.keys(l).sort().reduce((o,c)=>(o[c]=l[c],o),{}):l)}function ti(t,a){return t===a?!0:typeof t!=typeof a?!1:t&&a&&typeof t=="object"&&typeof a=="object"?Object.keys(a).every(l=>ti(t[l],a[l])):!1}var g0=Object.prototype.hasOwnProperty;function H_(t,a){if(t===a)return t;const l=Tg(t)&&Tg(a);if(!l&&!(kd(t)&&kd(a)))return a;const c=(l?t:Object.keys(t)).length,h=l?a:Object.keys(a),f=h.length,m=l?new Array(f):{};let g=0;for(let p=0;p<f;p++){const y=l?p:h[p],v=t[y],N=a[y];if(v===N){m[y]=v,(l?p<c:g0.call(t,y))&&g++;continue}if(v===null||N===null||typeof v!="object"||typeof N!="object"){m[y]=N;continue}const R=H_(v,N);m[y]=R,R===v&&g++}return c===f&&g===c?t:m}function Uo(t,a){if(!a||Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}function Tg(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kd(t){if(!Og(t))return!1;const a=t.constructor;if(a===void 0)return!0;const l=a.prototype;return!(!Og(l)||!l.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Og(t){return Object.prototype.toString.call(t)==="[object Object]"}function _0(t){return new Promise(a=>{Is.setTimeout(a,t)})}function Md(t,a,l){return typeof l.structuralSharing=="function"?l.structuralSharing(t,a):l.structuralSharing!==!1?H_(t,a):a}function y0(t,a,l=0){const o=[...t,a];return l&&o.length>l?o.slice(1):o}function v0(t,a,l=0){const o=[a,...t];return l&&o.length>l?o.slice(0,-1):o}var sf=Symbol();function G_(t,a){return!t.queryFn&&a?.initialPromise?()=>a.initialPromise:!t.queryFn||t.queryFn===sf?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function F_(t,a){return typeof t=="function"?t(...a):!!t}var b0=class extends Xr{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Qs&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},rf=new b0;function Ld(){let t,a;const l=new Promise((c,h)=>{t=c,a=h});l.status="pending",l.catch(()=>{});function o(c){Object.assign(l,c),delete l.resolve,delete l.reject}return l.resolve=c=>{o({status:"fulfilled",value:c}),t(c)},l.reject=c=>{o({status:"rejected",reason:c}),a(c)},l}var x0=m0;function j0(){let t=[],a=0,l=m=>{m()},o=m=>{m()},c=x0;const h=m=>{a?t.push(m):c(()=>{l(m)})},f=()=>{const m=t;t=[],m.length&&c(()=>{o(()=>{m.forEach(g=>{l(g)})})})};return{batch:m=>{let g;a++;try{g=m()}finally{a--,a||f()}return g},batchCalls:m=>(...g)=>{h(()=>{m(...g)})},schedule:h,setNotifyFunction:m=>{l=m},setBatchNotifyFunction:m=>{o=m},setScheduler:m=>{c=m}}}var Gt=j0(),S0=class extends Xr{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Qs&&window.addEventListener){const a=()=>t(!0),l=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(l=>{l(t)}))}isOnline(){return this.#e}},$o=new S0;function N0(t){return Math.min(1e3*2**t,3e4)}function I_(t){return(t??"online")==="online"?$o.isOnline():!0}var Ud=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Z_(t){let a=!1,l=0,o;const c=Ld(),h=()=>c.status!=="pending",f=w=>{if(!h()){const E=new Ud(w);N(E),t.onCancel?.(E)}},m=()=>{a=!0},g=()=>{a=!1},p=()=>rf.isFocused()&&(t.networkMode==="always"||$o.isOnline())&&t.canRun(),y=()=>I_(t.networkMode)&&t.canRun(),v=w=>{h()||(o?.(),c.resolve(w))},N=w=>{h()||(o?.(),c.reject(w))},R=()=>new Promise(w=>{o=E=>{(h()||p())&&w(E)},t.onPause?.()}).then(()=>{o=void 0,h()||t.onContinue?.()}),b=()=>{if(h())return;let w;const E=l===0?t.initialPromise:void 0;try{w=E??t.fn()}catch($){w=Promise.reject($)}Promise.resolve(w).then(v).catch($=>{if(h())return;const k=t.retry??(Qs?0:3),H=t.retryDelay??N0,A=typeof H=="function"?H(l,$):H,z=k===!0||typeof k=="number"&&l<k||typeof k=="function"&&k(l,$);if(a||!z){N($);return}l++,t.onFail?.(l,$),_0(A).then(()=>p()?void 0:R()).then(()=>{a?N($):b()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(o?.(),c),cancelRetry:m,continueRetry:g,canStart:y,start:()=>(y()?b():R().then(b),c)}}var V_=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Bd(this.gcTime)&&(this.#e=Is.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Qs?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Is.clearTimeout(this.#e),this.#e=void 0)}},w0=class extends V_{#e;#t;#n;#s;#a;#l;#i;constructor(t){super(),this.#i=!1,this.#l=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Dg(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(t){if(this.options={...this.#l,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Dg(this.options);a.data!==void 0&&(this.setState(Ag(a.data,a.dataUpdatedAt)),this.#e=a)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,a){const l=Md(this.state.data,t,this.options);return this.#r({data:l,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),l}setState(t,a){this.#r({type:"setState",state:t,setStateOptions:a})}cancel(t){const a=this.#a?.promise;return this.#a?.cancel(t),a?a.then(cn).catch(cn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Zn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ys(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!P_(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(a=>a.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(a=>a.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(t,a){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&a?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const l=new AbortController,o=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#i=!0,l.signal)})},c=()=>{const m=G_(this.options,a),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(y),y})();return this.#i=!1,this.options.persister?this.options.persister(m,p,this):m(p)},f=(()=>{const m={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return o(m),m})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#r({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Z_({initialPromise:a?.initialPromise,fn:f.fetchFn,onCancel:m=>{m instanceof Ud&&m.revert&&this.setState({...this.#t,fetchStatus:"idle"}),l.abort()},onFail:(m,g)=>{this.#r({type:"failed",failureCount:m,error:g})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const m=await this.#a.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof Ud){if(m.silent)return this.#a.promise;if(m.revert){if(this.state.data===void 0)throw m;return this.state.data}}throw this.#r({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#r(t){const a=l=>{switch(t.type){case"failed":return{...l,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Q_(l.data,this.options),fetchMeta:t.meta??null};case"success":const o={...l,...Ag(t.data,t.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?o:void 0,o;case"error":const c=t.error;return{...l,error:c,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...t.state}}};this.state=a(this.state),Gt.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function Q_(t,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:I_(a.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Ag(t,a){return{data:t,dataUpdatedAt:a??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Dg(t){const a=typeof t.initialData=="function"?t.initialData():t.initialData,l=a!==void 0,o=l?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:l?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:l?"success":"pending",fetchStatus:"idle"}}var C0=class extends Xr{constructor(t,a){super(),this.options=a,this.#e=t,this.#r=null,this.#i=Ld(),this.bindMethods(),this.setOptions(a)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#i;#r;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),zg(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $d(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $d(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const a=this.options,l=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#t.setOptions(this.options),a._defaulted&&!Uo(this.options,a)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Bg(this.#t,l,this.options,a)&&this.#d(),this.updateResult(),o&&(this.#t!==l||Zn(this.options.enabled,this.#t)!==Zn(a.enabled,this.#t)||ys(this.options.staleTime,this.#t)!==ys(a.staleTime,this.#t))&&this.#g();const c=this.#_();o&&(this.#t!==l||Zn(this.options.enabled,this.#t)!==Zn(a.enabled,this.#t)||c!==this.#o)&&this.#y(c)}getOptimisticResult(t){const a=this.#e.getQueryCache().build(this.#e,t),l=this.createResult(a,t);return R0(this,l)&&(this.#s=l,this.#l=this.options,this.#a=this.#t.state),l}getCurrentResult(){return this.#s}trackResult(t,a){return new Proxy(t,{get:(l,o)=>(this.trackProp(o),a?.(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=this.#e.defaultQueryOptions(t),l=this.#e.getQueryCache().build(this.#e,a);return l.fetch().then(()=>this.createResult(l,a))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#d(t){this.#j();let a=this.#t.fetch(this.options,t);return t?.throwOnError||(a=a.catch(cn)),a}#g(){this.#b();const t=ys(this.options.staleTime,this.#t);if(Qs||this.#s.isStale||!Bd(t))return;const l=P_(this.#s.dataUpdatedAt,t)+1;this.#c=Is.setTimeout(()=>{this.#s.isStale||this.updateResult()},l)}#_(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#x(),this.#o=t,!(Qs||Zn(this.options.enabled,this.#t)===!1||!Bd(this.#o)||this.#o===0)&&(this.#u=Is.setInterval(()=>{(this.options.refetchIntervalInBackground||rf.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#_())}#b(){this.#c&&(Is.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(Is.clearInterval(this.#u),this.#u=void 0)}createResult(t,a){const l=this.#t,o=this.options,c=this.#s,h=this.#a,f=this.#l,g=t!==l?t.state:this.#n,{state:p}=t;let y={...p},v=!1,N;if(a._optimisticResults){const X=this.hasListeners(),Z=!X&&zg(t,a),ie=X&&Bg(t,l,a,o);(Z||ie)&&(y={...y,...Q_(p.data,t.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:R,errorUpdatedAt:b,status:w}=y;N=y.data;let E=!1;if(a.placeholderData!==void 0&&N===void 0&&w==="pending"){let X;c?.isPlaceholderData&&a.placeholderData===f?.placeholderData?(X=c.data,E=!0):X=typeof a.placeholderData=="function"?a.placeholderData(this.#h?.state.data,this.#h):a.placeholderData,X!==void 0&&(w="success",N=Md(c?.data,X,a),v=!0)}if(a.select&&N!==void 0&&!E)if(c&&N===h?.data&&a.select===this.#p)N=this.#f;else try{this.#p=a.select,N=a.select(N),N=Md(c?.data,N,a),this.#f=N,this.#r=null}catch(X){this.#r=X}this.#r&&(R=this.#r,N=this.#f,b=Date.now(),w="error");const $=y.fetchStatus==="fetching",k=w==="pending",H=w==="error",A=k&&$,z=N!==void 0,M={status:w,fetchStatus:y.fetchStatus,isPending:k,isSuccess:w==="success",isError:H,isInitialLoading:A,isLoading:A,data:N,dataUpdatedAt:y.dataUpdatedAt,error:R,errorUpdatedAt:b,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>g.dataUpdateCount||y.errorUpdateCount>g.errorUpdateCount,isFetching:$,isRefetching:$&&!k,isLoadingError:H&&!z,isPaused:y.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:H&&z,isStale:lf(t,a),refetch:this.refetch,promise:this.#i,isEnabled:Zn(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const X=ve=>{M.status==="error"?ve.reject(M.error):M.data!==void 0&&ve.resolve(M.data)},Z=()=>{const ve=this.#i=M.promise=Ld();X(ve)},ie=this.#i;switch(ie.status){case"pending":t.queryHash===l.queryHash&&X(ie);break;case"fulfilled":(M.status==="error"||M.data!==ie.value)&&Z();break;case"rejected":(M.status!=="error"||M.error!==ie.reason)&&Z();break}}return M}updateResult(){const t=this.#s,a=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#h=this.#t),Uo(a,t))return;this.#s=a;const l=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.#m.size)return!0;const h=new Set(c??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#s).some(f=>{const m=f;return this.#s[m]!==t[m]&&h.has(m)})};this.#S({listeners:l()})}#j(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const a=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(a?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#S(t){Gt.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function E0(t,a){return Zn(a.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&a.retryOnMount===!1)}function zg(t,a){return E0(t,a)||t.state.data!==void 0&&$d(t,a,a.refetchOnMount)}function $d(t,a,l){if(Zn(a.enabled,t)!==!1&&ys(a.staleTime,t)!=="static"){const o=typeof l=="function"?l(t):l;return o==="always"||o!==!1&&lf(t,a)}return!1}function Bg(t,a,l,o){return(t!==a||Zn(o.enabled,t)===!1)&&(!l.suspense||t.state.status!=="error")&&lf(t,l)}function lf(t,a){return Zn(a.enabled,t)!==!1&&t.isStaleByTime(ys(a.staleTime,t))}function R0(t,a){return!Uo(t.getCurrentResult(),a)}function kg(t){return{onFetch:(a,l)=>{const o=a.options,c=a.fetchOptions?.meta?.fetchMore?.direction,h=a.state.data?.pages||[],f=a.state.data?.pageParams||[];let m={pages:[],pageParams:[]},g=0;const p=async()=>{let y=!1;const v=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(a.signal.aborted?y=!0:a.signal.addEventListener("abort",()=>{y=!0}),a.signal)})},N=G_(a.options,a.fetchOptions),R=async(b,w,E)=>{if(y)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const U={client:a.client,queryKey:a.queryKey,pageParam:w,direction:E?"backward":"forward",meta:a.options.meta};return v(U),U})(),H=await N(k),{maxPages:A}=a.options,z=E?v0:y0;return{pages:z(b.pages,H,A),pageParams:z(b.pageParams,w,A)}};if(c&&h.length){const b=c==="backward",w=b?T0:Mg,E={pages:h,pageParams:f},$=w(o,E);m=await R(E,$,b)}else{const b=t??h.length;do{const w=g===0?f[0]??o.initialPageParam:Mg(o,m);if(g>0&&w==null)break;m=await R(m,w),g++}while(g<b)}return m};a.options.persister?a.fetchFn=()=>a.options.persister?.(p,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},l):a.fetchFn=p}}}function Mg(t,{pages:a,pageParams:l}){const o=a.length-1;return a.length>0?t.getNextPageParam(a[o],a,l[o],l):void 0}function T0(t,{pages:a,pageParams:l}){return a.length>0?t.getPreviousPageParam?.(a[0],a,l[0],l):void 0}var O0=class extends V_{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||K_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(a=>a!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const a=()=>{this.#a({type:"continue"})},l={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Z_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,l):Promise.reject(new Error("No mutationFn found")),onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",c=!this.#s.canStart();try{if(o)a();else{this.#a({type:"pending",variables:t,isPaused:c}),await this.#n.config.onMutate?.(t,this,l);const f=await this.options.onMutate?.(t,l);f!==this.state.context&&this.#a({type:"pending",context:f,variables:t,isPaused:c})}const h=await this.#s.start();return await this.#n.config.onSuccess?.(h,t,this.state.context,this,l),await this.options.onSuccess?.(h,t,this.state.context,l),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(h,null,t,this.state.context,l),this.#a({type:"success",data:h}),h}catch(h){try{throw await this.#n.config.onError?.(h,t,this.state.context,this,l),await this.options.onError?.(h,t,this.state.context,l),await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,l),await this.options.onSettled?.(void 0,h,t,this.state.context,l),h}finally{this.#a({type:"error",error:h})}}finally{this.#n.runNext(this)}}#a(t){const a=l=>{switch(t.type){case"failed":return{...l,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...l,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:t.error,failureCount:l.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Gt.batch(()=>{this.#t.forEach(l=>{l.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function K_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var A0=class extends Xr{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,a,l){const o=new O0({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(a),state:l});return this.add(o),o}add(t){this.#e.add(t);const a=Co(t);if(typeof a=="string"){const l=this.#t.get(a);l?l.push(t):this.#t.set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const a=Co(t);if(typeof a=="string"){const l=this.#t.get(a);if(l)if(l.length>1){const o=l.indexOf(t);o!==-1&&l.splice(o,1)}else l[0]===t&&this.#t.delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Co(t);if(typeof a=="string"){const o=this.#t.get(a)?.find(c=>c.state.status==="pending");return!o||o===t}else return!0}runNext(t){const a=Co(t);return typeof a=="string"?this.#t.get(a)?.find(o=>o!==t&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gt.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const a={exact:!0,...t};return this.getAll().find(l=>Rg(a,l))}findAll(t={}){return this.getAll().filter(a=>Rg(t,a))}notify(t){Gt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return Gt.batch(()=>Promise.all(t.map(a=>a.continue().catch(cn))))}};function Co(t){return t.options.scope?.id}var D0=class extends Xr{#e;#t=void 0;#n;#s;constructor(a,l){super(),this.#e=a,this.setOptions(l),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){const l=this.options;this.options=this.#e.defaultMutationOptions(a),Uo(this.options,l)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),l?.mutationKey&&this.options.mutationKey&&Ks(l.mutationKey)!==Ks(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(a){this.#a(),this.#l(a)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#l()}mutate(a,l){return this.#s=l,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(a)}#a(){const a=this.#n?.state??K_();this.#t={...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset}}#l(a){Gt.batch(()=>{if(this.#s&&this.hasListeners()){const l=this.#t.variables,o=this.#t.context,c={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};a?.type==="success"?(this.#s.onSuccess?.(a.data,l,o,c),this.#s.onSettled?.(a.data,null,l,o,c)):a?.type==="error"&&(this.#s.onError?.(a.error,l,o,c),this.#s.onSettled?.(void 0,a.error,l,o,c))}this.listeners.forEach(l=>{l(this.#t)})})}},z0=class extends Xr{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,a,l){const o=a.queryKey,c=a.queryHash??af(o,a);let h=this.get(c);return h||(h=new w0({client:t,queryKey:o,queryHash:c,options:t.defaultQueryOptions(a),state:l,defaultOptions:t.getQueryDefaults(o)}),this.add(h)),h}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=this.#e.get(t.queryHash);a&&(t.destroy(),a===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const a={exact:!0,...t};return this.getAll().find(l=>Eg(a,l))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(l=>Eg(t,l)):a}notify(t){Gt.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},B0=class{#e;#t;#n;#s;#a;#l;#i;#r;constructor(t={}){this.#e=t.queryCache||new z0,this.#t=t.mutationCache||new A0,this.#n=t.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=rf.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=$o.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#r?.(),this.#r=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state.data}ensureQueryData(t){const a=this.defaultQueryOptions(t),l=this.#e.build(this,a),o=l.state.data;return o===void 0?this.fetchQuery(t):(t.revalidateIfStale&&l.isStaleByTime(ys(a.staleTime,l))&&this.prefetchQuery(a),Promise.resolve(o))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:a,state:l})=>{const o=l.data;return[a,o]})}setQueryData(t,a,l){const o=this.defaultQueryOptions({queryKey:t}),h=this.#e.get(o.queryHash)?.state.data,f=p0(a,h);if(f!==void 0)return this.#e.build(this,o).setData(f,{...l,manual:!0})}setQueriesData(t,a,l){return Gt.batch(()=>this.#e.findAll(t).map(({queryKey:o})=>[o,this.setQueryData(o,a,l)]))}getQueryState(t){const a=this.defaultQueryOptions({queryKey:t});return this.#e.get(a.queryHash)?.state}removeQueries(t){const a=this.#e;Gt.batch(()=>{a.findAll(t).forEach(l=>{a.remove(l)})})}resetQueries(t,a){const l=this.#e;return Gt.batch(()=>(l.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...t},a)))}cancelQueries(t,a={}){const l={revert:!0,...a},o=Gt.batch(()=>this.#e.findAll(t).map(c=>c.cancel(l)));return Promise.all(o).then(cn).catch(cn)}invalidateQueries(t,a={}){return Gt.batch(()=>(this.#e.findAll(t).forEach(l=>{l.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},a)))}refetchQueries(t,a={}){const l={...a,cancelRefetch:a.cancelRefetch??!0},o=Gt.batch(()=>this.#e.findAll(t).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let h=c.fetch(void 0,l);return l.throwOnError||(h=h.catch(cn)),c.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(o).then(cn)}fetchQuery(t){const a=this.defaultQueryOptions(t);a.retry===void 0&&(a.retry=!1);const l=this.#e.build(this,a);return l.isStaleByTime(ys(a.staleTime,l))?l.fetch(a):Promise.resolve(l.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(cn).catch(cn)}fetchInfiniteQuery(t){return t.behavior=kg(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(cn).catch(cn)}ensureInfiniteQueryData(t){return t.behavior=kg(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $o.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,a){this.#s.set(Ks(t),{queryKey:t,defaultOptions:a})}getQueryDefaults(t){const a=[...this.#s.values()],l={};return a.forEach(o=>{ti(t,o.queryKey)&&Object.assign(l,o.defaultOptions)}),l}setMutationDefaults(t,a){this.#a.set(Ks(t),{mutationKey:t,defaultOptions:a})}getMutationDefaults(t){const a=[...this.#a.values()],l={};return a.forEach(o=>{ti(t,o.mutationKey)&&Object.assign(l,o.defaultOptions)}),l}defaultQueryOptions(t){if(t._defaulted)return t;const a={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return a.queryHash||(a.queryHash=af(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===sf&&(a.enabled=!1),a}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Y_=S.createContext(void 0),On=t=>{const a=S.useContext(Y_);if(!a)throw new Error("No QueryClient set, use QueryClientProvider to set one");return a},k0=({client:t,children:a})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Y_.Provider,{value:t,children:a})),X_=S.createContext(!1),M0=()=>S.useContext(X_);X_.Provider;function L0(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var U0=S.createContext(L0()),$0=()=>S.useContext(U0),q0=(t,a)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(a.isReset()||(t.retryOnMount=!1))},P0=t=>{S.useEffect(()=>{t.clearReset()},[t])},H0=({result:t,errorResetBoundary:a,throwOnError:l,query:o,suspense:c})=>t.isError&&!a.isReset()&&!t.isFetching&&o&&(c&&t.data===void 0||F_(l,[t.error,o])),G0=t=>{if(t.suspense){const l=c=>c==="static"?c:Math.max(c??1e3,1e3),o=t.staleTime;t.staleTime=typeof o=="function"?(...c)=>l(o(...c)):l(o),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},F0=(t,a)=>t.isLoading&&t.isFetching&&!a,I0=(t,a)=>t?.suspense&&a.isPending,Lg=(t,a,l)=>a.fetchOptimistic(t).catch(()=>{l.clearReset()});function Z0(t,a,l){const o=M0(),c=$0(),h=On(),f=h.defaultQueryOptions(t);h.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=o?"isRestoring":"optimistic",G0(f),q0(f,c),P0(c);const m=!h.getQueryCache().get(f.queryHash),[g]=S.useState(()=>new a(h,f)),p=g.getOptimisticResult(f),y=!o&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(v=>{const N=y?g.subscribe(Gt.batchCalls(v)):cn;return g.updateResult(),N},[g,y]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),S.useEffect(()=>{g.setOptions(f)},[f,g]),I0(f,p))throw Lg(f,g,c);if(H0({result:p,errorResetBoundary:c,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw p.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(f,p),f.experimental_prefetchInRender&&!Qs&&F0(p,o)&&(m?Lg(f,g,c):h.getQueryCache().get(f.queryHash)?.promise)?.catch(cn).finally(()=>{g.updateResult()}),f.notifyOnChangeProps?p:g.trackResult(p)}function Ue(t,a){return Z0(t,C0)}function He(t,a){const l=On(),[o]=S.useState(()=>new D0(l,t));S.useEffect(()=>{o.setOptions(t)},[o,t]);const c=S.useSyncExternalStore(S.useCallback(f=>o.subscribe(Gt.batchCalls(f)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h=S.useCallback((f,m)=>{o.mutate(f,m).catch(cn)},[o]);if(c.error&&F_(o.options.throwOnError,[c.error]))throw c.error;return{...c,mutate:h,mutateAsync:c.mutate}}function J_(t,a){return function(){return t.apply(a,arguments)}}const{toString:V0}=Object.prototype,{getPrototypeOf:of}=Object,{iterator:Qo,toStringTag:W_}=Symbol,Ko=(t=>a=>{const l=V0.call(a);return t[l]||(t[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),la=t=>(t=t.toLowerCase(),a=>Ko(a)===t),Yo=t=>a=>typeof a===t,{isArray:Jr}=Array,Ir=Yo("undefined");function ii(t){return t!==null&&!Ir(t)&&t.constructor!==null&&!Ir(t.constructor)&&_n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ey=la("ArrayBuffer");function Q0(t){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(t):a=t&&t.buffer&&ey(t.buffer),a}const K0=Yo("string"),_n=Yo("function"),ty=Yo("number"),oi=t=>t!==null&&typeof t=="object",Y0=t=>t===!0||t===!1,Bo=t=>{if(Ko(t)!=="object")return!1;const a=of(t);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(W_ in t)&&!(Qo in t)},X0=t=>{if(!oi(t)||ii(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},J0=la("Date"),W0=la("File"),e1=la("Blob"),t1=la("FileList"),n1=t=>oi(t)&&_n(t.pipe),a1=t=>{let a;return t&&(typeof FormData=="function"&&t instanceof FormData||_n(t.append)&&((a=Ko(t))==="formdata"||a==="object"&&_n(t.toString)&&t.toString()==="[object FormData]"))},s1=la("URLSearchParams"),[r1,l1,i1,o1]=["ReadableStream","Request","Response","Headers"].map(la),c1=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ci(t,a,{allOwnKeys:l=!1}={}){if(t===null||typeof t>"u")return;let o,c;if(typeof t!="object"&&(t=[t]),Jr(t))for(o=0,c=t.length;o<c;o++)a.call(null,t[o],o,t);else{if(ii(t))return;const h=l?Object.getOwnPropertyNames(t):Object.keys(t),f=h.length;let m;for(o=0;o<f;o++)m=h[o],a.call(null,t[m],m,t)}}function ny(t,a){if(ii(t))return null;a=a.toLowerCase();const l=Object.keys(t);let o=l.length,c;for(;o-- >0;)if(c=l[o],a===c.toLowerCase())return c;return null}const Zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ay=t=>!Ir(t)&&t!==Zs;function qd(){const{caseless:t,skipUndefined:a}=ay(this)&&this||{},l={},o=(c,h)=>{const f=t&&ny(l,h)||h;Bo(l[f])&&Bo(c)?l[f]=qd(l[f],c):Bo(c)?l[f]=qd({},c):Jr(c)?l[f]=c.slice():(!a||!Ir(c))&&(l[f]=c)};for(let c=0,h=arguments.length;c<h;c++)arguments[c]&&ci(arguments[c],o);return l}const u1=(t,a,l,{allOwnKeys:o}={})=>(ci(a,(c,h)=>{l&&_n(c)?t[h]=J_(c,l):t[h]=c},{allOwnKeys:o}),t),d1=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),f1=(t,a,l,o)=>{t.prototype=Object.create(a.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:a.prototype}),l&&Object.assign(t.prototype,l)},h1=(t,a,l,o)=>{let c,h,f;const m={};if(a=a||{},t==null)return a;do{for(c=Object.getOwnPropertyNames(t),h=c.length;h-- >0;)f=c[h],(!o||o(f,t,a))&&!m[f]&&(a[f]=t[f],m[f]=!0);t=l!==!1&&of(t)}while(t&&(!l||l(t,a))&&t!==Object.prototype);return a},m1=(t,a,l)=>{t=String(t),(l===void 0||l>t.length)&&(l=t.length),l-=a.length;const o=t.indexOf(a,l);return o!==-1&&o===l},p1=t=>{if(!t)return null;if(Jr(t))return t;let a=t.length;if(!ty(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=t[a];return l},g1=(t=>a=>t&&a instanceof t)(typeof Uint8Array<"u"&&of(Uint8Array)),_1=(t,a)=>{const o=(t&&t[Qo]).call(t);let c;for(;(c=o.next())&&!c.done;){const h=c.value;a.call(t,h[0],h[1])}},y1=(t,a)=>{let l;const o=[];for(;(l=t.exec(a))!==null;)o.push(l);return o},v1=la("HTMLFormElement"),b1=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,o,c){return o.toUpperCase()+c}),Ug=(({hasOwnProperty:t})=>(a,l)=>t.call(a,l))(Object.prototype),x1=la("RegExp"),sy=(t,a)=>{const l=Object.getOwnPropertyDescriptors(t),o={};ci(l,(c,h)=>{let f;(f=a(c,h,t))!==!1&&(o[h]=f||c)}),Object.defineProperties(t,o)},j1=t=>{sy(t,(a,l)=>{if(_n(t)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const o=t[l];if(_n(o)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},S1=(t,a)=>{const l={},o=c=>{c.forEach(h=>{l[h]=!0})};return Jr(t)?o(t):o(String(t).split(a)),l},N1=()=>{},w1=(t,a)=>t!=null&&Number.isFinite(t=+t)?t:a;function C1(t){return!!(t&&_n(t.append)&&t[W_]==="FormData"&&t[Qo])}const E1=t=>{const a=new Array(10),l=(o,c)=>{if(oi(o)){if(a.indexOf(o)>=0)return;if(ii(o))return o;if(!("toJSON"in o)){a[c]=o;const h=Jr(o)?[]:{};return ci(o,(f,m)=>{const g=l(f,c+1);!Ir(g)&&(h[m]=g)}),a[c]=void 0,h}}return o};return l(t,0)},R1=la("AsyncFunction"),T1=t=>t&&(oi(t)||_n(t))&&_n(t.then)&&_n(t.catch),ry=((t,a)=>t?setImmediate:a?((l,o)=>(Zs.addEventListener("message",({source:c,data:h})=>{c===Zs&&h===l&&o.length&&o.shift()()},!1),c=>{o.push(c),Zs.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",_n(Zs.postMessage)),O1=typeof queueMicrotask<"u"?queueMicrotask.bind(Zs):typeof process<"u"&&process.nextTick||ry,A1=t=>t!=null&&_n(t[Qo]),I={isArray:Jr,isArrayBuffer:ey,isBuffer:ii,isFormData:a1,isArrayBufferView:Q0,isString:K0,isNumber:ty,isBoolean:Y0,isObject:oi,isPlainObject:Bo,isEmptyObject:X0,isReadableStream:r1,isRequest:l1,isResponse:i1,isHeaders:o1,isUndefined:Ir,isDate:J0,isFile:W0,isBlob:e1,isRegExp:x1,isFunction:_n,isStream:n1,isURLSearchParams:s1,isTypedArray:g1,isFileList:t1,forEach:ci,merge:qd,extend:u1,trim:c1,stripBOM:d1,inherits:f1,toFlatObject:h1,kindOf:Ko,kindOfTest:la,endsWith:m1,toArray:p1,forEachEntry:_1,matchAll:y1,isHTMLForm:v1,hasOwnProperty:Ug,hasOwnProp:Ug,reduceDescriptors:sy,freezeMethods:j1,toObjectSet:S1,toCamelCase:b1,noop:N1,toFiniteNumber:w1,findKey:ny,global:Zs,isContextDefined:ay,isSpecCompliantForm:C1,toJSONObject:E1,isAsyncFn:R1,isThenable:T1,setImmediate:ry,asap:O1,isIterable:A1};function Me(t,a,l,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}I.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const ly=Me.prototype,iy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iy[t]={value:t}});Object.defineProperties(Me,iy);Object.defineProperty(ly,"isAxiosError",{value:!0});Me.from=(t,a,l,o,c,h)=>{const f=Object.create(ly);I.toFlatObject(t,f,function(y){return y!==Error.prototype},p=>p!=="isAxiosError");const m=t&&t.message?t.message:"Error",g=a==null&&t?t.code:a;return Me.call(f,m,g,l,o,c),t&&f.cause==null&&Object.defineProperty(f,"cause",{value:t,configurable:!0}),f.name=t&&t.name||"Error",h&&Object.assign(f,h),f};const D1=null;function Pd(t){return I.isPlainObject(t)||I.isArray(t)}function oy(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function $g(t,a,l){return t?t.concat(a).map(function(c,h){return c=oy(c),!l&&h?"["+c+"]":c}).join(l?".":""):a}function z1(t){return I.isArray(t)&&!t.some(Pd)}const B1=I.toFlatObject(I,{},null,function(a){return/^is[A-Z]/.test(a)});function Xo(t,a,l){if(!I.isObject(t))throw new TypeError("target must be an object");a=a||new FormData,l=I.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,E){return!I.isUndefined(E[w])});const o=l.metaTokens,c=l.visitor||y,h=l.dots,f=l.indexes,g=(l.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(a);if(!I.isFunction(c))throw new TypeError("visitor must be a function");function p(b){if(b===null)return"";if(I.isDate(b))return b.toISOString();if(I.isBoolean(b))return b.toString();if(!g&&I.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(b)||I.isTypedArray(b)?g&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function y(b,w,E){let $=b;if(b&&!E&&typeof b=="object"){if(I.endsWith(w,"{}"))w=o?w:w.slice(0,-2),b=JSON.stringify(b);else if(I.isArray(b)&&z1(b)||(I.isFileList(b)||I.endsWith(w,"[]"))&&($=I.toArray(b)))return w=oy(w),$.forEach(function(H,A){!(I.isUndefined(H)||H===null)&&a.append(f===!0?$g([w],A,h):f===null?w:w+"[]",p(H))}),!1}return Pd(b)?!0:(a.append($g(E,w,h),p(b)),!1)}const v=[],N=Object.assign(B1,{defaultVisitor:y,convertValue:p,isVisitable:Pd});function R(b,w){if(!I.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));v.push(b),I.forEach(b,function($,k){(!(I.isUndefined($)||$===null)&&c.call(a,$,I.isString(k)?k.trim():k,w,N))===!0&&R($,w?w.concat(k):[k])}),v.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return R(t),a}function qg(t){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return a[o]})}function cf(t,a){this._pairs=[],t&&Xo(t,this,a)}const cy=cf.prototype;cy.append=function(a,l){this._pairs.push([a,l])};cy.toString=function(a){const l=a?function(o){return a.call(this,o,qg)}:qg;return this._pairs.map(function(c){return l(c[0])+"="+l(c[1])},"").join("&")};function k1(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uy(t,a,l){if(!a)return t;const o=l&&l.encode||k1;I.isFunction(l)&&(l={serialize:l});const c=l&&l.serialize;let h;if(c?h=c(a,l):h=I.isURLSearchParams(a)?a.toString():new cf(a,l).toString(o),h){const f=t.indexOf("#");f!==-1&&(t=t.slice(0,f)),t+=(t.indexOf("?")===-1?"?":"&")+h}return t}class Pg{constructor(){this.handlers=[]}use(a,l,o){return this.handlers.push({fulfilled:a,rejected:l,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){I.forEach(this.handlers,function(o){o!==null&&a(o)})}}const dy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M1=typeof URLSearchParams<"u"?URLSearchParams:cf,L1=typeof FormData<"u"?FormData:null,U1=typeof Blob<"u"?Blob:null,$1={isBrowser:!0,classes:{URLSearchParams:M1,FormData:L1,Blob:U1},protocols:["http","https","file","blob","url","data"]},uf=typeof window<"u"&&typeof document<"u",Hd=typeof navigator=="object"&&navigator||void 0,q1=uf&&(!Hd||["ReactNative","NativeScript","NS"].indexOf(Hd.product)<0),P1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",H1=uf&&window.location.href||"http://localhost",G1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uf,hasStandardBrowserEnv:q1,hasStandardBrowserWebWorkerEnv:P1,navigator:Hd,origin:H1},Symbol.toStringTag,{value:"Module"})),rn={...G1,...$1};function F1(t,a){return Xo(t,new rn.classes.URLSearchParams,{visitor:function(l,o,c,h){return rn.isNode&&I.isBuffer(l)?(this.append(o,l.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...a})}function I1(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(a=>a[0]==="[]"?"":a[1]||a[0])}function Z1(t){const a={},l=Object.keys(t);let o;const c=l.length;let h;for(o=0;o<c;o++)h=l[o],a[h]=t[h];return a}function fy(t){function a(l,o,c,h){let f=l[h++];if(f==="__proto__")return!0;const m=Number.isFinite(+f),g=h>=l.length;return f=!f&&I.isArray(c)?c.length:f,g?(I.hasOwnProp(c,f)?c[f]=[c[f],o]:c[f]=o,!m):((!c[f]||!I.isObject(c[f]))&&(c[f]=[]),a(l,o,c[f],h)&&I.isArray(c[f])&&(c[f]=Z1(c[f])),!m)}if(I.isFormData(t)&&I.isFunction(t.entries)){const l={};return I.forEachEntry(t,(o,c)=>{a(I1(o),c,l,0)}),l}return null}function V1(t,a,l){if(I.isString(t))try{return(a||JSON.parse)(t),I.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(l||JSON.stringify)(t)}const ui={transitional:dy,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const o=l.getContentType()||"",c=o.indexOf("application/json")>-1,h=I.isObject(a);if(h&&I.isHTMLForm(a)&&(a=new FormData(a)),I.isFormData(a))return c?JSON.stringify(fy(a)):a;if(I.isArrayBuffer(a)||I.isBuffer(a)||I.isStream(a)||I.isFile(a)||I.isBlob(a)||I.isReadableStream(a))return a;if(I.isArrayBufferView(a))return a.buffer;if(I.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let m;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return F1(a,this.formSerializer).toString();if((m=I.isFileList(a))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Xo(m?{"files[]":a}:a,g&&new g,this.formSerializer)}}return h||c?(l.setContentType("application/json",!1),V1(a)):a}],transformResponse:[function(a){const l=this.transitional||ui.transitional,o=l&&l.forcedJSONParsing,c=this.responseType==="json";if(I.isResponse(a)||I.isReadableStream(a))return a;if(a&&I.isString(a)&&(o&&!this.responseType||c)){const f=!(l&&l.silentJSONParsing)&&c;try{return JSON.parse(a,this.parseReviver)}catch(m){if(f)throw m.name==="SyntaxError"?Me.from(m,Me.ERR_BAD_RESPONSE,this,null,this.response):m}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rn.classes.FormData,Blob:rn.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{ui.headers[t]={}});const Q1=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K1=t=>{const a={};let l,o,c;return t&&t.split(`
`).forEach(function(f){c=f.indexOf(":"),l=f.substring(0,c).trim().toLowerCase(),o=f.substring(c+1).trim(),!(!l||a[l]&&Q1[l])&&(l==="set-cookie"?a[l]?a[l].push(o):a[l]=[o]:a[l]=a[l]?a[l]+", "+o:o)}),a},Hg=Symbol("internals");function Xl(t){return t&&String(t).trim().toLowerCase()}function ko(t){return t===!1||t==null?t:I.isArray(t)?t.map(ko):String(t)}function Y1(t){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=l.exec(t);)a[o[1]]=o[2];return a}const X1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xd(t,a,l,o,c){if(I.isFunction(o))return o.call(this,a,l);if(c&&(a=l),!!I.isString(a)){if(I.isString(o))return a.indexOf(o)!==-1;if(I.isRegExp(o))return o.test(a)}}function J1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,o)=>l.toUpperCase()+o)}function W1(t,a){const l=I.toCamelCase(" "+a);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+l,{value:function(c,h,f){return this[o].call(this,a,c,h,f)},configurable:!0})})}let yn=class{constructor(a){a&&this.set(a)}set(a,l,o){const c=this;function h(m,g,p){const y=Xl(g);if(!y)throw new Error("header name must be a non-empty string");const v=I.findKey(c,y);(!v||c[v]===void 0||p===!0||p===void 0&&c[v]!==!1)&&(c[v||g]=ko(m))}const f=(m,g)=>I.forEach(m,(p,y)=>h(p,y,g));if(I.isPlainObject(a)||a instanceof this.constructor)f(a,l);else if(I.isString(a)&&(a=a.trim())&&!X1(a))f(K1(a),l);else if(I.isObject(a)&&I.isIterable(a)){let m={},g,p;for(const y of a){if(!I.isArray(y))throw TypeError("Object iterator must return a key-value pair");m[p=y[0]]=(g=m[p])?I.isArray(g)?[...g,y[1]]:[g,y[1]]:y[1]}f(m,l)}else a!=null&&h(l,a,o);return this}get(a,l){if(a=Xl(a),a){const o=I.findKey(this,a);if(o){const c=this[o];if(!l)return c;if(l===!0)return Y1(c);if(I.isFunction(l))return l.call(this,c,o);if(I.isRegExp(l))return l.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Xl(a),a){const o=I.findKey(this,a);return!!(o&&this[o]!==void 0&&(!l||xd(this,this[o],o,l)))}return!1}delete(a,l){const o=this;let c=!1;function h(f){if(f=Xl(f),f){const m=I.findKey(o,f);m&&(!l||xd(o,o[m],m,l))&&(delete o[m],c=!0)}}return I.isArray(a)?a.forEach(h):h(a),c}clear(a){const l=Object.keys(this);let o=l.length,c=!1;for(;o--;){const h=l[o];(!a||xd(this,this[h],h,a,!0))&&(delete this[h],c=!0)}return c}normalize(a){const l=this,o={};return I.forEach(this,(c,h)=>{const f=I.findKey(o,h);if(f){l[f]=ko(c),delete l[h];return}const m=a?J1(h):String(h).trim();m!==h&&delete l[h],l[m]=ko(c),o[m]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return I.forEach(this,(o,c)=>{o!=null&&o!==!1&&(l[c]=a&&I.isArray(o)?o.join(", "):o)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const o=new this(a);return l.forEach(c=>o.set(c)),o}static accessor(a){const o=(this[Hg]=this[Hg]={accessors:{}}).accessors,c=this.prototype;function h(f){const m=Xl(f);o[m]||(W1(c,f),o[m]=!0)}return I.isArray(a)?a.forEach(h):h(a),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(yn.prototype,({value:t},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>t,set(o){this[l]=o}}});I.freezeMethods(yn);function jd(t,a){const l=this||ui,o=a||l,c=yn.from(o.headers);let h=o.data;return I.forEach(t,function(m){h=m.call(l,h,c.normalize(),a?a.status:void 0)}),c.normalize(),h}function hy(t){return!!(t&&t.__CANCEL__)}function Wr(t,a,l){Me.call(this,t??"canceled",Me.ERR_CANCELED,a,l),this.name="CanceledError"}I.inherits(Wr,Me,{__CANCEL__:!0});function my(t,a,l){const o=l.config.validateStatus;!l.status||!o||o(l.status)?t(l):a(new Me("Request failed with status code "+l.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function eS(t){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return a&&a[1]||""}function tS(t,a){t=t||10;const l=new Array(t),o=new Array(t);let c=0,h=0,f;return a=a!==void 0?a:1e3,function(g){const p=Date.now(),y=o[h];f||(f=p),l[c]=g,o[c]=p;let v=h,N=0;for(;v!==c;)N+=l[v++],v=v%t;if(c=(c+1)%t,c===h&&(h=(h+1)%t),p-f<a)return;const R=y&&p-y;return R?Math.round(N*1e3/R):void 0}}function nS(t,a){let l=0,o=1e3/a,c,h;const f=(p,y=Date.now())=>{l=y,c=null,h&&(clearTimeout(h),h=null),t(...p)};return[(...p)=>{const y=Date.now(),v=y-l;v>=o?f(p,y):(c=p,h||(h=setTimeout(()=>{h=null,f(c)},o-v)))},()=>c&&f(c)]}const qo=(t,a,l=3)=>{let o=0;const c=tS(50,250);return nS(h=>{const f=h.loaded,m=h.lengthComputable?h.total:void 0,g=f-o,p=c(g),y=f<=m;o=f;const v={loaded:f,total:m,progress:m?f/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&y?(m-f)/p:void 0,event:h,lengthComputable:m!=null,[a?"download":"upload"]:!0};t(v)},l)},Gg=(t,a)=>{const l=t!=null;return[o=>a[0]({lengthComputable:l,total:t,loaded:o}),a[1]]},Fg=t=>(...a)=>I.asap(()=>t(...a)),aS=rn.hasStandardBrowserEnv?((t,a)=>l=>(l=new URL(l,rn.origin),t.protocol===l.protocol&&t.host===l.host&&(a||t.port===l.port)))(new URL(rn.origin),rn.navigator&&/(msie|trident)/i.test(rn.navigator.userAgent)):()=>!0,sS=rn.hasStandardBrowserEnv?{write(t,a,l,o,c,h,f){if(typeof document>"u")return;const m=[`${t}=${encodeURIComponent(a)}`];I.isNumber(l)&&m.push(`expires=${new Date(l).toUTCString()}`),I.isString(o)&&m.push(`path=${o}`),I.isString(c)&&m.push(`domain=${c}`),h===!0&&m.push("secure"),I.isString(f)&&m.push(`SameSite=${f}`),document.cookie=m.join("; ")},read(t){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function lS(t,a){return a?t.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):t}function py(t,a,l){let o=!rS(a);return t&&(o||l==!1)?lS(t,a):a}const Ig=t=>t instanceof yn?{...t}:t;function Ys(t,a){a=a||{};const l={};function o(p,y,v,N){return I.isPlainObject(p)&&I.isPlainObject(y)?I.merge.call({caseless:N},p,y):I.isPlainObject(y)?I.merge({},y):I.isArray(y)?y.slice():y}function c(p,y,v,N){if(I.isUndefined(y)){if(!I.isUndefined(p))return o(void 0,p,v,N)}else return o(p,y,v,N)}function h(p,y){if(!I.isUndefined(y))return o(void 0,y)}function f(p,y){if(I.isUndefined(y)){if(!I.isUndefined(p))return o(void 0,p)}else return o(void 0,y)}function m(p,y,v){if(v in a)return o(p,y);if(v in t)return o(void 0,p)}const g={url:h,method:h,data:h,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m,headers:(p,y,v)=>c(Ig(p),Ig(y),v,!0)};return I.forEach(Object.keys({...t,...a}),function(y){const v=g[y]||c,N=v(t[y],a[y],y);I.isUndefined(N)&&v!==m||(l[y]=N)}),l}const gy=t=>{const a=Ys({},t);let{data:l,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:h,headers:f,auth:m}=a;if(a.headers=f=yn.from(f),a.url=uy(py(a.baseURL,a.url,a.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&f.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),I.isFormData(l)){if(rn.hasStandardBrowserEnv||rn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(I.isFunction(l.getHeaders)){const g=l.getHeaders(),p=["content-type","content-length"];Object.entries(g).forEach(([y,v])=>{p.includes(y.toLowerCase())&&f.set(y,v)})}}if(rn.hasStandardBrowserEnv&&(o&&I.isFunction(o)&&(o=o(a)),o||o!==!1&&aS(a.url))){const g=c&&h&&sS.read(h);g&&f.set(c,g)}return a},iS=typeof XMLHttpRequest<"u",oS=iS&&function(t){return new Promise(function(l,o){const c=gy(t);let h=c.data;const f=yn.from(c.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=c,y,v,N,R,b;function w(){R&&R(),b&&b(),c.cancelToken&&c.cancelToken.unsubscribe(y),c.signal&&c.signal.removeEventListener("abort",y)}let E=new XMLHttpRequest;E.open(c.method.toUpperCase(),c.url,!0),E.timeout=c.timeout;function $(){if(!E)return;const H=yn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),z={data:!m||m==="text"||m==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:H,config:t,request:E};my(function(M){l(M),w()},function(M){o(M),w()},z),E=null}"onloadend"in E?E.onloadend=$:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout($)},E.onabort=function(){E&&(o(new Me("Request aborted",Me.ECONNABORTED,t,E)),E=null)},E.onerror=function(A){const z=A&&A.message?A.message:"Network Error",U=new Me(z,Me.ERR_NETWORK,t,E);U.event=A||null,o(U),E=null},E.ontimeout=function(){let A=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const z=c.transitional||dy;c.timeoutErrorMessage&&(A=c.timeoutErrorMessage),o(new Me(A,z.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,t,E)),E=null},h===void 0&&f.setContentType(null),"setRequestHeader"in E&&I.forEach(f.toJSON(),function(A,z){E.setRequestHeader(z,A)}),I.isUndefined(c.withCredentials)||(E.withCredentials=!!c.withCredentials),m&&m!=="json"&&(E.responseType=c.responseType),p&&([N,b]=qo(p,!0),E.addEventListener("progress",N)),g&&E.upload&&([v,R]=qo(g),E.upload.addEventListener("progress",v),E.upload.addEventListener("loadend",R)),(c.cancelToken||c.signal)&&(y=H=>{E&&(o(!H||H.type?new Wr(null,t,E):H),E.abort(),E=null)},c.cancelToken&&c.cancelToken.subscribe(y),c.signal&&(c.signal.aborted?y():c.signal.addEventListener("abort",y)));const k=eS(c.url);if(k&&rn.protocols.indexOf(k)===-1){o(new Me("Unsupported protocol "+k+":",Me.ERR_BAD_REQUEST,t));return}E.send(h||null)})},cS=(t,a)=>{const{length:l}=t=t?t.filter(Boolean):[];if(a||l){let o=new AbortController,c;const h=function(p){if(!c){c=!0,m();const y=p instanceof Error?p:this.reason;o.abort(y instanceof Me?y:new Wr(y instanceof Error?y.message:y))}};let f=a&&setTimeout(()=>{f=null,h(new Me(`timeout ${a} of ms exceeded`,Me.ETIMEDOUT))},a);const m=()=>{t&&(f&&clearTimeout(f),f=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(h):p.removeEventListener("abort",h)}),t=null)};t.forEach(p=>p.addEventListener("abort",h));const{signal:g}=o;return g.unsubscribe=()=>I.asap(m),g}},uS=function*(t,a){let l=t.byteLength;if(l<a){yield t;return}let o=0,c;for(;o<l;)c=o+a,yield t.slice(o,c),o=c},dS=async function*(t,a){for await(const l of fS(t))yield*uS(l,a)},fS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const a=t.getReader();try{for(;;){const{done:l,value:o}=await a.read();if(l)break;yield o}}finally{await a.cancel()}},Zg=(t,a,l,o)=>{const c=dS(t,a);let h=0,f,m=g=>{f||(f=!0,o&&o(g))};return new ReadableStream({async pull(g){try{const{done:p,value:y}=await c.next();if(p){m(),g.close();return}let v=y.byteLength;if(l){let N=h+=v;l(N)}g.enqueue(new Uint8Array(y))}catch(p){throw m(p),p}},cancel(g){return m(g),c.return()}},{highWaterMark:2})},Vg=64*1024,{isFunction:Eo}=I,hS=(({Request:t,Response:a})=>({Request:t,Response:a}))(I.global),{ReadableStream:Qg,TextEncoder:Kg}=I.global,Yg=(t,...a)=>{try{return!!t(...a)}catch{return!1}},mS=t=>{t=I.merge.call({skipUndefined:!0},hS,t);const{fetch:a,Request:l,Response:o}=t,c=a?Eo(a):typeof fetch=="function",h=Eo(l),f=Eo(o);if(!c)return!1;const m=c&&Eo(Qg),g=c&&(typeof Kg=="function"?(b=>w=>b.encode(w))(new Kg):async b=>new Uint8Array(await new l(b).arrayBuffer())),p=h&&m&&Yg(()=>{let b=!1;const w=new l(rn.origin,{body:new Qg,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),y=f&&m&&Yg(()=>I.isReadableStream(new o("").body)),v={stream:y&&(b=>b.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!v[b]&&(v[b]=(w,E)=>{let $=w&&w[b];if($)return $.call(w);throw new Me(`Response type '${b}' is not supported`,Me.ERR_NOT_SUPPORT,E)})});const N=async b=>{if(b==null)return 0;if(I.isBlob(b))return b.size;if(I.isSpecCompliantForm(b))return(await new l(rn.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(I.isArrayBufferView(b)||I.isArrayBuffer(b))return b.byteLength;if(I.isURLSearchParams(b)&&(b=b+""),I.isString(b))return(await g(b)).byteLength},R=async(b,w)=>{const E=I.toFiniteNumber(b.getContentLength());return E??N(w)};return async b=>{let{url:w,method:E,data:$,signal:k,cancelToken:H,timeout:A,onDownloadProgress:z,onUploadProgress:U,responseType:M,headers:X,withCredentials:Z="same-origin",fetchOptions:ie}=gy(b),ve=a||fetch;M=M?(M+"").toLowerCase():"text";let Oe=cS([k,H&&H.toAbortSignal()],A),be=null;const Ie=Oe&&Oe.unsubscribe&&(()=>{Oe.unsubscribe()});let ot;try{if(U&&p&&E!=="get"&&E!=="head"&&(ot=await R(X,$))!==0){let O=new l(w,{method:"POST",body:$,duplex:"half"}),Q;if(I.isFormData($)&&(Q=O.headers.get("content-type"))&&X.setContentType(Q),O.body){const[oe,ue]=Gg(ot,qo(Fg(U)));$=Zg(O.body,Vg,oe,ue)}}I.isString(Z)||(Z=Z?"include":"omit");const G=h&&"credentials"in l.prototype,ae={...ie,signal:Oe,method:E.toUpperCase(),headers:X.normalize().toJSON(),body:$,duplex:"half",credentials:G?Z:void 0};be=h&&new l(w,ae);let he=await(h?ve(be,ie):ve(w,ae));const Ee=y&&(M==="stream"||M==="response");if(y&&(z||Ee&&Ie)){const O={};["status","statusText","headers"].forEach(_e=>{O[_e]=he[_e]});const Q=I.toFiniteNumber(he.headers.get("content-length")),[oe,ue]=z&&Gg(Q,qo(Fg(z),!0))||[];he=new o(Zg(he.body,Vg,oe,()=>{ue&&ue(),Ie&&Ie()}),O)}M=M||"text";let Ae=await v[I.findKey(v,M)||"text"](he,b);return!Ee&&Ie&&Ie(),await new Promise((O,Q)=>{my(O,Q,{data:Ae,headers:yn.from(he.headers),status:he.status,statusText:he.statusText,config:b,request:be})})}catch(G){throw Ie&&Ie(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,b,be),{cause:G.cause||G}):Me.from(G,G&&G.code,b,be)}}},pS=new Map,_y=t=>{let a=t&&t.env||{};const{fetch:l,Request:o,Response:c}=a,h=[o,c,l];let f=h.length,m=f,g,p,y=pS;for(;m--;)g=h[m],p=y.get(g),p===void 0&&y.set(g,p=m?new Map:mS(a)),y=p;return p};_y();const df={http:D1,xhr:oS,fetch:{get:_y}};I.forEach(df,(t,a)=>{if(t){try{Object.defineProperty(t,"name",{value:a})}catch{}Object.defineProperty(t,"adapterName",{value:a})}});const Xg=t=>`- ${t}`,gS=t=>I.isFunction(t)||t===null||t===!1;function _S(t,a){t=I.isArray(t)?t:[t];const{length:l}=t;let o,c;const h={};for(let f=0;f<l;f++){o=t[f];let m;if(c=o,!gS(o)&&(c=df[(m=String(o)).toLowerCase()],c===void 0))throw new Me(`Unknown adapter '${m}'`);if(c&&(I.isFunction(c)||(c=c.get(a))))break;h[m||"#"+f]=c}if(!c){const f=Object.entries(h).map(([g,p])=>`adapter ${g} `+(p===!1?"is not supported by the environment":"is not available in the build"));let m=l?f.length>1?`since :
`+f.map(Xg).join(`
`):" "+Xg(f[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return c}const yy={getAdapter:_S,adapters:df};function Sd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wr(null,t)}function Jg(t){return Sd(t),t.headers=yn.from(t.headers),t.data=jd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yy.getAdapter(t.adapter||ui.adapter,t)(t).then(function(o){return Sd(t),o.data=jd.call(t,t.transformResponse,o),o.headers=yn.from(o.headers),o},function(o){return hy(o)||(Sd(t),o&&o.response&&(o.response.data=jd.call(t,t.transformResponse,o.response),o.response.headers=yn.from(o.response.headers))),Promise.reject(o)})}const vy="1.13.2",Jo={};["object","boolean","number","function","string","symbol"].forEach((t,a)=>{Jo[t]=function(o){return typeof o===t||"a"+(a<1?"n ":" ")+t}});const Wg={};Jo.transitional=function(a,l,o){function c(h,f){return"[Axios v"+vy+"] Transitional option '"+h+"'"+f+(o?". "+o:"")}return(h,f,m)=>{if(a===!1)throw new Me(c(f," has been removed"+(l?" in "+l:"")),Me.ERR_DEPRECATED);return l&&!Wg[f]&&(Wg[f]=!0,console.warn(c(f," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(h,f,m):!0}};Jo.spelling=function(a){return(l,o)=>(console.warn(`${o} is likely a misspelling of ${a}`),!0)};function yS(t,a,l){if(typeof t!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let c=o.length;for(;c-- >0;){const h=o[c],f=a[h];if(f){const m=t[h],g=m===void 0||f(m,h,t);if(g!==!0)throw new Me("option "+h+" must be "+g,Me.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Me("Unknown option "+h,Me.ERR_BAD_OPTION)}}const Mo={assertOptions:yS,validators:Jo},pa=Mo.validators;let Vs=class{constructor(a){this.defaults=a||{},this.interceptors={request:new Pg,response:new Pg}}async request(a,l){try{return await this._request(a,l)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const h=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=Ys(this.defaults,l);const{transitional:o,paramsSerializer:c,headers:h}=l;o!==void 0&&Mo.assertOptions(o,{silentJSONParsing:pa.transitional(pa.boolean),forcedJSONParsing:pa.transitional(pa.boolean),clarifyTimeoutError:pa.transitional(pa.boolean)},!1),c!=null&&(I.isFunction(c)?l.paramsSerializer={serialize:c}:Mo.assertOptions(c,{encode:pa.function,serialize:pa.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Mo.assertOptions(l,{baseUrl:pa.spelling("baseURL"),withXsrfToken:pa.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let f=h&&I.merge(h.common,h[l.method]);h&&I.forEach(["delete","get","head","post","put","patch","common"],b=>{delete h[b]}),l.headers=yn.concat(f,h);const m=[];let g=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(l)===!1||(g=g&&w.synchronous,m.unshift(w.fulfilled,w.rejected))});const p=[];this.interceptors.response.forEach(function(w){p.push(w.fulfilled,w.rejected)});let y,v=0,N;if(!g){const b=[Jg.bind(this),void 0];for(b.unshift(...m),b.push(...p),N=b.length,y=Promise.resolve(l);v<N;)y=y.then(b[v++],b[v++]);return y}N=m.length;let R=l;for(;v<N;){const b=m[v++],w=m[v++];try{R=b(R)}catch(E){w.call(this,E);break}}try{y=Jg.call(this,R)}catch(b){return Promise.reject(b)}for(v=0,N=p.length;v<N;)y=y.then(p[v++],p[v++]);return y}getUri(a){a=Ys(this.defaults,a);const l=py(a.baseURL,a.url,a.allowAbsoluteUrls);return uy(l,a.params,a.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(a){Vs.prototype[a]=function(l,o){return this.request(Ys(o||{},{method:a,url:l,data:(o||{}).data}))}});I.forEach(["post","put","patch"],function(a){function l(o){return function(h,f,m){return this.request(Ys(m||{},{method:a,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:f}))}}Vs.prototype[a]=l(),Vs.prototype[a+"Form"]=l(!0)});let vS=class by{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(h){l=h});const o=this;this.promise.then(c=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](c);o._listeners=null}),this.promise.then=c=>{let h;const f=new Promise(m=>{o.subscribe(m),h=m}).then(c);return f.cancel=function(){o.unsubscribe(h)},f},a(function(h,f,m){o.reason||(o.reason=new Wr(h,f,m),l(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=o=>{a.abort(o)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new by(function(c){a=c}),cancel:a}}};function bS(t){return function(l){return t.apply(null,l)}}function xS(t){return I.isObject(t)&&t.isAxiosError===!0}const Gd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Gd).forEach(([t,a])=>{Gd[a]=t});function xy(t){const a=new Vs(t),l=J_(Vs.prototype.request,a);return I.extend(l,Vs.prototype,a,{allOwnKeys:!0}),I.extend(l,a,null,{allOwnKeys:!0}),l.create=function(c){return xy(Ys(t,c))},l}const Dt=xy(ui);Dt.Axios=Vs;Dt.CanceledError=Wr;Dt.CancelToken=vS;Dt.isCancel=hy;Dt.VERSION=vy;Dt.toFormData=Xo;Dt.AxiosError=Me;Dt.Cancel=Dt.CanceledError;Dt.all=function(a){return Promise.all(a)};Dt.spread=bS;Dt.isAxiosError=xS;Dt.mergeConfig=Ys;Dt.AxiosHeaders=yn;Dt.formToJSON=t=>fy(I.isHTMLForm(t)?new FormData(t):t);Dt.getAdapter=yy.getAdapter;Dt.HttpStatusCode=Gd;Dt.default=Dt;const{Axios:UL,AxiosError:$L,CanceledError:qL,isCancel:PL,CancelToken:HL,VERSION:GL,all:FL,Cancel:IL,isAxiosError:ZL,spread:VL,toFormData:QL,AxiosHeaders:KL,HttpStatusCode:YL,formToJSON:XL,getAdapter:JL,mergeConfig:WL}=Dt,jS="/api/v1/",K=Dt.create({baseURL:jS,headers:{"Content-Type":"application/json"}});K.interceptors.request.use(t=>{const a=localStorage.getItem("accessToken");return a&&(t.headers.Authorization=`Bearer ${a}`),t},t=>Promise.reject(t));K.interceptors.response.use(t=>t,async t=>{const a=t.config;return t.response?.status===401&&!a._retry&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(t)});const Nd={login:async t=>(await K.post("/auth/login/",t)).data,logout:async t=>{try{await K.post("/auth/logout/",{refresh_token:t})}catch(a){console.error("Logout API error:",a)}},me:async()=>(await K.get("/auth/me/")).data,changePassword:async(t,a,l,o)=>{await K.post(`/auth/users/${t}/change_password/`,{old_password:a,new_password:l,new_password_confirm:o})}},jy={user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,isLoading:!0,currentBranch:null};function SS(t,a){switch(a.type){case"LOGIN_SUCCESS":return{...t,user:a.payload.user,accessToken:a.payload.accessToken,refreshToken:a.payload.refreshToken,isAuthenticated:!0,isLoading:!1,currentBranch:a.payload.currentBranch};case"LOGOUT":return{...jy,isLoading:!1};case"SET_LOADING":return{...t,isLoading:a.payload};case"SET_USER":return{...t,user:a.payload,isAuthenticated:!0,isLoading:!1};case"SET_CURRENT_BRANCH":return{...t,currentBranch:a.payload};default:return t}}const Sy=S.createContext(void 0);function NS({children:t}){const[a,l]=S.useReducer(SS,jy);S.useEffect(()=>{o()},[]);const o=async()=>{l({type:"SET_LOADING",payload:!0});const m=localStorage.getItem("accessToken"),g=localStorage.getItem("user");if(!m||!g){l({type:"LOGOUT"});return}try{const p=await Nd.me();if(p.success&&p.data){const y=p.data;let v=null;const N=localStorage.getItem("currentBranchCode");if(N&&y.branch_memberships?.length>0){const R=y.branch_memberships.find(b=>b.branch.code===N);R&&(v=R.branch)}!v&&y.branch_memberships?.length>0&&(v=y.branch_memberships[0].branch),localStorage.setItem("user",JSON.stringify(y)),v&&localStorage.setItem("currentBranchCode",v.code),l({type:"LOGIN_SUCCESS",payload:{user:y,accessToken:m,refreshToken:localStorage.getItem("refreshToken")||"",currentBranch:v}})}else l({type:"LOGOUT"}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("currentBranchCode")}catch(p){console.error("Auth check failed:",p),l({type:"LOGOUT"}),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}},f={...a,login:async m=>{l({type:"SET_LOADING",payload:!0});try{const g=await Nd.login(m);if(g.success){const{user:p,access_token:y,refresh_token:v}=g.data;let N=null;p.branch_memberships?.length>0&&(N=p.branch_memberships[0].branch),localStorage.setItem("accessToken",y),localStorage.setItem("refreshToken",v),localStorage.setItem("user",JSON.stringify(p)),N&&localStorage.setItem("currentBranchCode",N.code),l({type:"LOGIN_SUCCESS",payload:{user:p,accessToken:y,refreshToken:v,currentBranch:N}})}else throw new Error(g.message||"Login failed")}catch(g){throw l({type:"SET_LOADING",payload:!1}),g}},logout:async()=>{const m=localStorage.getItem("refreshToken");try{await Nd.logout(m||void 0)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),localStorage.removeItem("currentBranchCode"),l({type:"LOGOUT"})}},checkAuth:o,setCurrentBranch:m=>{localStorage.setItem("currentBranchCode",m.code),l({type:"SET_CURRENT_BRANCH",payload:m})}};return s.jsx(Sy.Provider,{value:f,children:t})}function ia(){const t=S.useContext(Sy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const qa={list:async t=>(await K.get("/patients/",{params:t})).data,get:async t=>(await K.get(`/patients/${t}/`)).data,create:async t=>(await K.post("/patients/",t)).data,update:async(t,a)=>(await K.patch(`/patients/${t}/`,a)).data,history:async t=>(await K.get(`/patients/${t}/history/`)).data,search:async t=>(await K.get("/patients/",{params:{search:t}})).data,globalSearch:async t=>(await K.get("/patients/search/",{params:{q:t}})).data,lookup:async t=>(await K.get("/patients/lookup/",{params:{mobile:t}})).data},Nt={getCategories:async()=>(await K.get("/laboratory/categories/")).data,getTests:async t=>(await K.get("/laboratory/tests/",{params:t})).data,getTest:async t=>(await K.get(`/laboratory/tests/${t}/`)).data,getPanels:async t=>(await K.get("/laboratory/panels/",{params:t})).data,getPanel:async t=>(await K.get(`/laboratory/panels/${t}/`)).data,getParameters:async t=>(await K.get("/laboratory/parameters/",{params:t})).data,searchTests:async(t,a=20)=>(await K.get("/laboratory/tests/search/",{params:{q:t,limit:a}})).data,exportCatalog:async()=>(await K.get("/laboratory/export/",{responseType:"blob"})).data,importCatalog:async(t,a)=>{const l=new FormData;return l.append("file",t),(await K.post("/laboratory/import/",l,{headers:{"Content-Type":"multipart/form-data"},params:a})).data},auditCatalog:async()=>(await K.get("/laboratory/catalog/audit/")).data,downloadImportTemplate:async()=>(await K.get("/laboratory/import/download-template/",{responseType:"blob"})).data,createTest:async t=>(await K.post("/laboratory/tests/",t)).data,updateTest:async(t,a)=>(await K.patch(`/laboratory/tests/${t}/`,a)).data,deleteTest:async t=>{await K.delete(`/laboratory/tests/${t}/`)},createPanel:async t=>(await K.post("/laboratory/panels/",t)).data,updatePanel:async(t,a)=>(await K.patch(`/laboratory/panels/${t}/`,a)).data,deletePanel:async t=>{await K.delete(`/laboratory/panels/${t}/`)},createParameter:async t=>(await K.post("/laboratory/parameters/",t)).data,updateParameter:async(t,a)=>(await K.patch(`/laboratory/parameters/${t}/`,a)).data,deleteParameter:async t=>{await K.delete(`/laboratory/parameters/${t}/`)},createCategory:async t=>(await K.post("/laboratory/categories/",t)).data,updateCategory:async(t,a)=>(await K.patch(`/laboratory/categories/${t}/`,a)).data,deleteCategory:async t=>{await K.delete(`/laboratory/categories/${t}/`)}},ni={list:async t=>(await K.get("/orders/orders/",{params:t})).data,get:async t=>(await K.get(`/orders/orders/${t}/`)).data,create:async t=>(await K.post("/orders/orders/",t)).data,cancel:async t=>(await K.post(`/orders/orders/${t}/cancel/`)).data,getByStatus:async t=>(await K.get("/orders/orders/",{params:{status:t}})).data,getOrderItem:async t=>(await K.get(`/orders/order-items/${t}/`)).data},Po={list:async t=>(await K.get("/samples/",{params:t})).data,get:async t=>(await K.get(`/samples/${t}/`)).data,create:async t=>(await K.post("/samples/",t)).data,updateStatus:async(t,a,l,o,c)=>(await K.patch(`/samples/${t}/`,{status:a,...l&&{barcode:l},...o&&{postponement_reason:o},...c})).data,getCollectionWorklist:async()=>(await K.get("/samples/pending_collections/")).data},Pr={list:async t=>(await K.get("/results/",{params:t})).data,get:async t=>(await K.get(`/results/${t}/`)).data,create:async t=>(await K.post("/results/",t)).data,update:async(t,a)=>(await K.patch(`/results/${t}/`,a)).data,verify:async t=>(await K.post(`/results/${t}/verify/`)).data,reject:async(t,a)=>(await K.post(`/results/${t}/reject/`,a?{reason:a}:{})).data,getByOrderItem:async t=>(await K.get("/results/",{params:{order_item:t}})).data,getExpected:async t=>(await K.get("/results/expected/",{params:{order_item_id:t}})).data,ensure:async t=>(await K.post("/results/ensure/",{},{params:{order_item_id:t}})).data,getWorklist:async()=>(await K.get("/results/worklist/")).data,getVerificationQueue:async()=>(await K.get("/results/verification_queue/")).data,bulkEntry:async t=>(await K.post("/results/bulk_entry/",{results:t})).data,bulkVerify:async t=>(await K.post("/results/bulk-verify/",{result_ids:t})).data,bulkReject:async(t,a)=>(await K.post("/results/bulk-reject/",{result_ids:t,reason:a})).data},wd={list:async t=>(await K.get("/payments/",{params:t})).data,create:async t=>(await K.post("/payments/",t)).data,getByOrder:async t=>(await K.get("/payments/",{params:{order:t}})).data,getReceipt:async t=>(await K.get(`/payments/${t}/receipt/`,{responseType:"blob"})).data},wS={list:async t=>(await K.get("/reports/",{params:t})).data,get:async t=>(await K.get(`/reports/${t}/`)).data,generate:async t=>(await K.post("/reports/generate/",{order_id:t})).data,download:async t=>(await K.get(`/reports/${t}/download/`,{responseType:"blob"})).data,markDelivered:async t=>(await K.post(`/reports/${t}/mark_delivered/`)).data,uploadSignature:async(t,a,l)=>{const o=new FormData;return o.append("signature",a),o.append("signature_type",l),(await K.post(`/reports/${t}/upload_signature/`,o,{headers:{"Content-Type":"multipart/form-data"}})).data}},Jl={list:async t=>(await K.get("/auth/users/",{params:t})).data,create:async t=>(await K.post("/auth/users/",t)).data,update:async(t,a)=>(await K.patch(`/auth/users/${t}/`,a)).data,remove:async t=>{await K.delete(`/auth/users/${t}/`)},resetPassword:async(t,a,l)=>(await K.post(`/auth/users/${t}/reset_password/`,{new_password:a,new_password_confirm:l})).data},CS={getStatistics:async()=>(await K.get("/dashboard/statistics/")).data},_s={list:async t=>(await K.get("/laboratory/reference-ranges/",{params:t})).data,get:async t=>(await K.get(`/laboratory/reference-ranges/${t}/`)).data,create:async t=>(await K.post("/laboratory/reference-ranges/",t)).data,update:async(t,a)=>(await K.patch(`/laboratory/reference-ranges/${t}/`,a)).data,delete:async t=>{await K.delete(`/laboratory/reference-ranges/${t}/`)},forParameter:async(t,a,l)=>{const o={parameter_id:t};return a!==void 0&&(o.age=a),l&&(o.gender=l),(await K.get("/laboratory/reference-ranges/for_parameter/",{params:o})).data}},ga={get:async()=>(await K.get("/core/settings/")).data,update:async t=>(await K.put("/core/settings/",t)).data,patch:async t=>(await K.patch("/core/settings/",t)).data,uploadReportHeaderImage:async t=>{const a=new FormData;return a.append("report_header_image",t),(await K.post("/core/settings/report-header-image/",a,{headers:{"Content-Type":"multipart/form-data"}})).data},removeReportHeaderImage:async()=>(await K.delete("/core/settings/report-header-image/")).data,uploadReportFooterImage:async t=>{const a=new FormData;return a.append("report_footer_image",t),(await K.post("/core/settings/report-footer-image/",a,{headers:{"Content-Type":"multipart/form-data"}})).data},removeReportFooterImage:async()=>(await K.delete("/core/settings/report-footer-image/")).data,uploadLabLogo:async t=>{const a=new FormData;a.append("lab_logo",t);const l=await K.patch("/core/settings/",a,{headers:{"Content-Type":"multipart/form-data"}});return l.data.success&&l.data.data,l.data.data},removeLabLogo:async()=>(await K.patch("/core/settings/",{lab_logo:null})).data.data},Ro={list:async()=>(await K.get("/core/print-templates/")).data,create:async t=>(await K.post("/core/print-templates/",t)).data,update:async(t,a)=>(await K.patch(`/core/print-templates/${t}/`,a)).data,delete:async t=>{await K.delete(`/core/print-templates/${t}/`)}},ES={listPatients:async t=>(await K.get("/worklist/patients/",{params:t})).data},sa={overview:async t=>(await K.get("/reports/overview/",{params:t})).data,patients:async t=>(await K.get("/reports/patients/",{params:t})).data,tests:async t=>(await K.get("/reports/tests/",{params:t})).data,referrals:async t=>(await K.get("/reports/referrals/",{params:t})).data,finance:async t=>(await K.get("/reports/finance/",{params:t})).data,exportReport:async(t,a,l)=>(await K.post("/reports/export/",{report_key:t,format:a,filters:l},{responseType:"blob"})).data,exportLogs:async t=>(await K.get("/reports/export-logs/",{params:t})).data},$a={list:async t=>(await K.get("/backups/",{params:t})).data,get:async t=>(await K.get(`/backups/${t}/`)).data,create:async(t=!1)=>(await K.post("/backups/",{push_offsite:t})).data,download:async t=>(await K.get(`/backups/${t}/download/`,{responseType:"blob"})).data,restore:async(t,a)=>(await K.post(`/backups/${t}/restore/`,{confirmation:a})).data,importBackup:async t=>{const a=new FormData;return a.append("file",t),(await K.post("/backups/import/",a,{headers:{"Content-Type":"multipart/form-data"}})).data},push:async t=>(await K.post(`/backups/${t}/push/`)).data,remove:async t=>{await K.delete(`/backups/${t}/`)},settings:async()=>(await K.get("/backups/settings/")).data,testOffsite:async()=>(await K.post("/backups/offsite-test/")).data},Ny=S.createContext(void 0);function RS({children:t}){const[a,l]=S.useState(null),[o,c]=S.useState(!0),[h,f]=S.useState(null),m=async()=>{try{c(!0),f(null);const p=await ga.get();l(p.data)}catch(p){console.error("Failed to fetch branding settings:",p),f("Failed to load branding settings"),l({id:1,lab_name:"LIMS",currency:"PKR",tax_rate:"0.00",email_port:587,email_use_tls:!0,email_use_ssl:!1,backup_enabled:!1,backup_frequency:"daily",updated_at:new Date().toISOString()})}finally{c(!1)}};S.useEffect(()=>{m()},[]);const g=async()=>{await m()};return s.jsx(Ny.Provider,{value:{branding:a,isLoading:o,error:h,refreshBranding:g},children:t})}function bs(){const t=S.useContext(Ny);if(t===void 0)throw new Error("useBranding must be used within a BrandingProvider");return t}function Cd({children:t,allowedRoles:a}){const{isAuthenticated:l,isLoading:o,user:c}=ia(),h=ra();return o?s.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.25rem",color:"#64748b"},children:"Loading..."}):l?a&&c&&!a.includes(c.role)?s.jsx(Fs,{to:"/dashboard",replace:!0}):s.jsx(s.Fragment,{children:t}):s.jsx(Fs,{to:"/login",state:{from:h},replace:!0})}const TS="_header_pvxdl_1",OS="_left_pvxdl_17",AS="_right_pvxdl_23",DS="_branchChip_pvxdl_29",zS="_branchChipActive_pvxdl_49",BS="_branchCode_pvxdl_55",kS="_branchMenu_pvxdl_65",MS="_branchMenuItem_pvxdl_79",LS="_searchContainer_pvxdl_94",US="_searchInput_pvxdl_99",$S="_searchIcon_pvxdl_114",qS="_searchResults_pvxdl_124",PS="_searchResultItem_pvxdl_139",HS="_patientName_pvxdl_155",GS="_mrn_pvxdl_162",FS="_patientDetails_pvxdl_170",en={header:TS,left:OS,right:AS,branchChip:DS,branchChipActive:zS,branchCode:BS,branchMenu:kS,branchMenuItem:MS,searchContainer:LS,searchInput:US,searchIcon:$S,searchResults:qS,searchResultItem:PS,patientName:HS,mrn:GS,patientDetails:FS};function IS(){const{user:t,currentBranch:a,setCurrentBranch:l}=ia(),o=Ws(),[c,h]=S.useState(""),[f,m]=S.useState([]),[g,p]=S.useState(!1),[y,v]=S.useState(!1),[N,R]=S.useState(!1),b=S.useRef(null),w=S.useRef(null);S.useEffect(()=>{function z(U){b.current&&!b.current.contains(U.target)&&v(!1)}return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[]);const E=z=>{if(h(z),v(!0),w.current&&clearTimeout(w.current),z.trim().length<2){m([]),p(!1);return}p(!0),w.current=setTimeout(async()=>{try{const U=await qa.globalSearch(z);U.success&&m(U.data)}catch(U){console.error("Search failed",U)}finally{p(!1)}},400)},$=z=>{o(`/dashboard/patients/${z}`),v(!1),h("")},k=()=>{t?.branch_memberships&&t.branch_memberships.length>1&&R(!N)},H=z=>{l(z),R(!1),o("/dashboard")},A=t?.branch_memberships?.map(z=>z.branch)||[];return s.jsxs("header",{className:en.header,children:[s.jsx("div",{className:en.left,children:s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("div",{className:`${en.branchChip} ${N?en.branchChipActive:""}`,onClick:k,role:"button",tabIndex:0,children:[s.jsx("span",{className:en.branchCode,children:a?.code||"00"}),s.jsx("span",{children:a?.name||"Loading..."}),a?.capability_mode==="COLLECT_ONLY"&&s.jsx("span",{style:{fontSize:"0.7em",color:"#ea580c",background:"#fff7ed",padding:"1px 4px",borderRadius:4},children:"COLLECT ONLY"}),A.length>1&&s.jsx("span",{style:{fontSize:"0.7em",marginLeft:4},children:""})]}),N&&s.jsx("div",{className:en.branchMenu,children:A.map(z=>s.jsxs("div",{className:en.branchMenuItem,onClick:()=>H(z),children:[s.jsxs("span",{children:[s.jsx("span",{className:en.branchCode,style:{marginRight:8},children:z.code}),z.name]}),z.id===a?.id&&s.jsx("span",{children:""})]},z.id))})]})}),s.jsx("div",{className:en.right,children:s.jsxs("div",{className:en.searchContainer,ref:b,children:[s.jsx("input",{type:"text",className:en.searchInput,placeholder:"Search MRN, Name, Mobile...",value:c,onChange:z=>E(z.target.value),onFocus:()=>{c&&v(!0)}}),s.jsx("span",{className:en.searchIcon,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}),y&&c.length>=2&&s.jsx("div",{className:en.searchResults,children:g?s.jsx("div",{style:{padding:12,color:"#64748b"},children:"Searching..."}):f.length===0?s.jsx("div",{style:{padding:12,color:"#64748b"},children:"No matches found"}):f.map(z=>s.jsxs("div",{className:en.searchResultItem,onClick:()=>$(z.id),children:[s.jsxs("div",{className:en.patientName,children:[s.jsx("span",{children:z.name}),s.jsx("span",{className:en.mrn,children:z.mrn})]}),s.jsxs("div",{className:en.patientDetails,children:[s.jsxs("span",{children:[z.age,"y / ",z.gender]}),s.jsx("span",{children:z.mobile}),z.last_visit_branch_code&&s.jsxs("span",{style:{background:"#f1f5f9",padding:"0 4px",borderRadius:4},children:["Last: ",z.last_visit_branch_code]})]})]},z.id))})]})})]})}const ZS="_layout_18e16_1",VS="_sidebar_18e16_6",QS="_logo_18e16_21",KS="_logoImage_18e16_35",YS="_navList_18e16_49",XS="_navSection_18e16_61",JS="_subNavList_18e16_70",WS="_subNavLink_18e16_80",eN="_active_18e16_94",tN="_navLink_18e16_100",nN="_userInfo_18e16_121",aN="_userName_18e16_127",sN="_userRole_18e16_132",rN="_logoutButton_18e16_138",lN="_main_18e16_155",Qt={layout:ZS,sidebar:VS,logo:QS,logoImage:KS,navList:YS,navSection:XS,subNavList:JS,subNavLink:WS,active:eN,navLink:tN,userInfo:nN,userName:aN,userRole:sN,logoutButton:rN,main:lN};function iN(){const{user:t,logout:a,currentBranch:l}=ia(),{branding:o}=bs(),c=Ws(),h=async()=>{await a(),c("/login")},f=()=>{const p=[];if(!t)return p;const y=(v,N)=>{N.length&&p.push({label:v,children:N})};switch(t.role){case"Admin":y("Operations",[{to:"/dashboard/registration",label:"Registration"},{to:"/dashboard/patients",label:"Patients"},{to:"/dashboard/patients-worklist",label:"Worklist"},{to:"/dashboard/samples",label:"Samples"}]),y("Results",[{to:"/dashboard/results",label:"Result Entry"},{to:"/dashboard/verification",label:"Verification"},{to:"/dashboard/reports",label:"My Reports"}]),y("Analytics & Reports",[{to:"/dashboard/analytics",label:"Overview"},{to:"/dashboard/analytics/patients",label:"Patients"},{to:"/dashboard/analytics/tests",label:"Tests"},{to:"/dashboard/analytics/referrals",label:"Referrals"},{to:"/dashboard/analytics/finance",label:"Finance"},{to:"/dashboard/analytics/export-logs",label:"Export Logs"}]),y("Administration",[{to:"/dashboard/settings?tab=ui",label:"UI Update"},{to:"/dashboard/settings?tab=users",label:"User Management"},{to:"/dashboard/settings?tab=reports",label:"Report Customization"},{to:"/dashboard/settings?tab=print",label:"Print Templates"},{to:"/dashboard/tests",label:"Test Catalog"},{to:"/dashboard/tests?tab=parameters",label:"Parameters"},{to:"/dashboard/tests?tab=ranges",label:"Normal Ranges"},{to:"/dashboard/audit",label:"Audit Logs"},{to:"/dashboard/backups",label:"Backups"}]);break;case"Receptionist":y("Operations",[{to:"/dashboard/registration",label:"Registration"},{to:"/dashboard/patients",label:"Patients"},{to:"/dashboard/patients-worklist",label:"Worklist"}]);break;case"Phlebotomist":y("Operations",[{to:"/dashboard/collection",label:"Collection Worklist"},{to:"/dashboard/samples",label:"Samples"}]);break;case"Lab Technician":y("Results",[{to:"/dashboard/results",label:"Result Entry"}]),y("Operations",[{to:"/dashboard/samples",label:"Samples"}]);break;case"Pathologist":y("Results",[{to:"/dashboard/verification",label:"Verification"},{to:"/dashboard/reports",label:"Reports"}]),y("Administration",[{to:"/dashboard/backups",label:"Backups"}]);break;case"Manager":y("Analytics & Reports",[{to:"/dashboard/analytics",label:"Overview"},{to:"/dashboard/analytics/patients",label:"Patients"},{to:"/dashboard/analytics/tests",label:"Tests"},{to:"/dashboard/analytics/referrals",label:"Referrals"},{to:"/dashboard/analytics/finance",label:"Finance"},{to:"/dashboard/analytics/export-logs",label:"Export Logs"}]),y("Results",[{to:"/dashboard/reports",label:"My Reports"}]),y("Administration",[{to:"/dashboard/settings?tab=users",label:"User Management"},{to:"/dashboard/settings?tab=reports",label:"Report Customization"},{to:"/dashboard/settings?tab=print",label:"Print Templates"},{to:"/dashboard/tests",label:"Test Catalog"},{to:"/dashboard/tests?tab=parameters",label:"Parameters"},{to:"/dashboard/tests?tab=ranges",label:"Normal Ranges"},{to:"/dashboard/audit",label:"Audit Logs"},{to:"/dashboard/backups",label:"Backups"}]);break}return l?.capability_mode==="COLLECT_ONLY"?p.filter(v=>v.label!=="Results"):p},m=o?.lab_display_name||o?.lab_name||"LIMS",g=o?.lab_logo;return s.jsxs("div",{className:Qt.layout,"data-testid":"dashboard-shell",children:[s.jsxs("nav",{className:Qt.sidebar,children:[s.jsxs(nf,{to:"/dashboard",className:Qt.logo,children:[g&&s.jsx("img",{src:g,alt:m,className:Qt.logoImage}),s.jsx("h1",{children:m})]}),s.jsx("ul",{className:Qt.navList,children:f().map(p=>s.jsxs("li",{children:[p.to?s.jsx(zd,{to:p.to,end:p.to==="/dashboard",className:({isActive:y})=>y?`${Qt.navLink} ${Qt.active}`:Qt.navLink,children:p.label}):s.jsx("div",{className:Qt.navSection,children:p.label}),p.children&&s.jsx("ul",{className:Qt.subNavList,children:p.children.map(y=>s.jsx("li",{children:s.jsx(zd,{to:y.to,className:({isActive:v})=>v?`${Qt.subNavLink} ${Qt.active}`:Qt.subNavLink,children:y.label})},y.to))})]},p.to??p.label))}),s.jsxs("div",{className:Qt.userInfo,children:[s.jsx("div",{className:Qt.userName,children:t?.full_name}),s.jsx("div",{className:Qt.userRole,"data-testid":"topbar-username",children:t?.email}),s.jsx("button",{onClick:h,className:Qt.logoutButton,children:"Sign Out"})]})]}),s.jsxs("main",{className:Qt.main,"data-testid":"app-ready",children:[s.jsx(IS,{}),s.jsx(Oj,{})]})]})}const oN="_container_1cd3e_1",cN="_loginBox_1cd3e_10",uN="_header_1cd3e_19",dN="_logo_1cd3e_24",fN="_form_1cd3e_43",hN="_formGroup_1cd3e_49",mN="_error_1cd3e_80",pN="_submitButton_1cd3e_90",gN="_loading_1cd3e_112",na={container:oN,loginBox:cN,header:uN,logo:dN,form:fN,formGroup:hN,error:mN,submitButton:pN,loading:gN};function _N(){const t=Ws(),{login:a,isAuthenticated:l,isLoading:o}=ia(),{branding:c}=bs(),[h,f]=S.useState(""),[m,g]=S.useState(""),[p,y]=S.useState(null),[v,N]=S.useState(!1);if(l)return s.jsx(Fs,{to:"/dashboard",replace:!0});const R=async E=>{E.preventDefault(),y(null),N(!0);try{await a({username:h,password:m}),t("/dashboard",{replace:!0})}catch($){$ instanceof Error?y($.message):y("Login failed. Please check your credentials.")}finally{N(!1)}};if(o)return s.jsx("div",{className:na.container,children:s.jsx("div",{className:na.loading,children:"Loading..."})});const b=c?.lab_display_name||c?.lab_name||"LIMS",w=c?.lab_logo;return s.jsx("div",{className:na.container,children:s.jsxs("div",{className:na.loginBox,children:[s.jsxs("div",{className:na.header,children:[w&&s.jsx("img",{src:w,alt:b,className:na.logo}),s.jsx("h1",{children:b}),s.jsx("p",{children:"Laboratory Information Management System"})]}),s.jsxs("form",{onSubmit:R,className:na.form,children:[s.jsxs("div",{className:na.formGroup,children:[s.jsx("label",{htmlFor:"username",children:"Username or Email"}),s.jsx("input",{type:"text",id:"username","data-testid":"login-email",value:h,onChange:E=>f(E.target.value),placeholder:"Enter username or email",required:!0,disabled:v,autoComplete:"username"})]}),s.jsxs("div",{className:na.formGroup,children:[s.jsx("label",{htmlFor:"password",children:"Password"}),s.jsx("input",{type:"password",id:"password","data-testid":"login-password",value:m,onChange:E=>g(E.target.value),placeholder:"Enter password",required:!0,disabled:v,autoComplete:"current-password"})]}),p&&s.jsx("div",{className:na.error,children:p}),s.jsx("button",{type:"submit",className:na.submitButton,disabled:v,"data-testid":"login-submit",children:v?"Signing in...":"Sign In"})]})]})})}function qt(t,a){const l=typeof t=="number"?t.toFixed(2):t;return`${a} ${l}`}const yN="_printArea_zy2dl_44",vN="_pageContainer_zy2dl_52",bN="_thermalContainer_zy2dl_59",xN="_a4Container_zy2dl_68",jN="_separator_zy2dl_77",SN="_receiptContent_zy2dl_82",NN="_controls_zy2dl_99",wN="_controlButton_zy2dl_111",CN="_activeButton_zy2dl_126",EN="_printButton_zy2dl_132",RN="_copiesInput_zy2dl_147",TN="_copiesHint_zy2dl_165",ON="_a4Top_zy2dl_195",AN="_a4Bottom_zy2dl_196",DN="_cutLine_zy2dl_222",zN="_cutIcon_zy2dl_229",BN="_thermalCopy_zy2dl_257",kN="_thermalDivider_zy2dl_265",MN="_header_zy2dl_299",LN="_wrapper_zy2dl_306",UN="_logo_zy2dl_311",$N="_labName_zy2dl_318",qN="_labSub_zy2dl_328",PN="_receiptTitle_zy2dl_337",HN="_receiptMeta_zy2dl_348",GN="_receiptSection_zy2dl_356",FN="_patientInfoGrid_zy2dl_367",IN="_infoRow_zy2dl_377",ZN="_label_zy2dl_384",VN="_value_zy2dl_391",QN="_testsTable_zy2dl_403",KN="_money_zy2dl_434",YN="_financialSection_zy2dl_443",XN="_financialGrid_zy2dl_451",JN="_finRow_zy2dl_459",WN="_finLabel_zy2dl_463",ew="_finValue_zy2dl_470",tw="_highlightDue_zy2dl_477",nw="_footer_zy2dl_488",ce={printArea:yN,pageContainer:vN,thermalContainer:bN,a4Container:xN,separator:jN,receiptContent:SN,controls:NN,controlButton:wN,activeButton:CN,printButton:EN,copiesInput:RN,copiesHint:TN,a4Top:ON,a4Bottom:AN,cutLine:DN,cutIcon:zN,thermalCopy:BN,thermalDivider:kN,header:MN,wrapper:LN,logo:UN,labName:$N,labSub:qN,receiptTitle:PN,receiptMeta:HN,receiptSection:GN,patientInfoGrid:FN,infoRow:IN,label:ZN,value:VN,testsTable:QN,money:KN,financialSection:YN,financialGrid:XN,finRow:JN,finLabel:WN,finValue:ew,highlightDue:tw,footer:nw};function Zr(t){const a=t instanceof Date?t:Cy(t||void 0);if(!a)return"";const l=String(a.getDate()).padStart(2,"0"),o=String(a.getMonth()+1).padStart(2,"0"),c=String(a.getFullYear()).slice(-2);return`${l}/${o}/${c}`}function wy(t){if(!t)return"";if(t instanceof Date)return Zr(t);const a=String(t).slice(0,10);return Zr(a)}function Cy(t){if(!t)return null;const a=t.trim();if(!a)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(a)){const[c,h,f]=a.split("-").map(Number);return e_(c,h,f)}const o=a.replace(/-/g,"/").split("/");if(o.length===3){const[c,h,f]=o,m=Number(c),g=Number(h),p=aw(f);return e_(p,g,m)}return null}function Ey(t){const a=Cy(t);return a?{iso:[a.getFullYear(),String(a.getMonth()+1).padStart(2,"0"),String(a.getDate()).padStart(2,"0")].join("-"),display:Zr(a),date:a}:{iso:null,display:"",date:null}}function aw(t){if(t.length===4)return Number(t);const a=Number(t);return Number.isNaN(a)?NaN:a>=50?1900+a:2e3+a}function e_(t,a,l){if([t,a,l].some(c=>Number.isNaN(c)||c<=0))return null;const o=new Date(t,a-1,l);return o.getFullYear()!==t||o.getMonth()!==a-1||o.getDate()!==l?null:o}const Ry="lims:receipt:format",Ty="lims:receipt:thermalCopies",Oy="lims:receipt:scaleToFit";function sw(){return typeof window>"u"?"A4":localStorage.getItem(Ry)==="Thermal"?"Thermal":"A4"}function rw(t){typeof window>"u"||localStorage.setItem(Ry,t)}function lw(){if(typeof window>"u")return 2;const t=Number(localStorage.getItem(Ty));return Number.isFinite(t)&&t>0?t:2}function t_(t){typeof window>"u"||localStorage.setItem(Ty,String(Math.max(1,Math.floor(t))))}function iw(){return typeof window>"u"?!1:localStorage.getItem(Oy)==="true"}function ow(t){typeof window>"u"||localStorage.setItem(Oy,String(t))}const Ed=({order:t,patient:a,settings:l,isThermal:o=!1,copyLabel:c})=>{const h=l?.currency||"PKR";return s.jsxs("div",{className:ce.receiptContent,children:[s.jsxs("div",{className:ce.header,children:[l?.report_header_image?s.jsx("img",{src:l.report_header_image,alt:"Header Banner",className:ce.wrapper,style:{width:"100%",maxHeight:"100px",objectFit:"contain"}}):s.jsxs(s.Fragment,{children:[l?.lab_logo&&s.jsx("img",{src:l.lab_logo,alt:"Lab Logo",className:ce.logo}),s.jsx("h1",{className:ce.labName,children:l?.lab_display_name||l?.lab_name||"LIMS Laboratory"}),l?.lab_address&&s.jsx("div",{className:ce.labSub,children:l.lab_address}),l?.lab_phone&&s.jsxs("div",{className:ce.labSub,children:["Tel: ",l.lab_phone]})]}),s.jsxs("div",{className:ce.receiptTitle,children:["CASH RECEIPT ",c?` ${c}`:""]}),s.jsxs("div",{className:ce.receiptMeta,children:["Printed: ",new Date().toLocaleString()]})]}),s.jsx("section",{className:ce.receiptSection,"aria-label":"Patient and order details",children:s.jsxs("div",{className:ce.patientInfoGrid,children:[s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"MRN:"}),s.jsx("span",{className:ce.value,children:a.registration_number||a.patient_id})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Lab No:"}),s.jsx("span",{className:ce.value,children:t.lab_number||t.order_id})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Name:"}),s.jsx("span",{className:ce.value,children:a.full_name})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Date:"}),s.jsx("span",{className:ce.value,children:new Date(t.created_at).toLocaleString()})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Reporting time:"}),s.jsx("span",{className:ce.value,children:t.reporting_time||"As per schedule"})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Age/Sex:"}),s.jsxs("span",{className:ce.value,children:[a.age_years?`${a.age_years}Y `:"",a.gender]})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"DOB:"}),s.jsx("span",{className:ce.value,children:Zr(a.date_of_birth)||"N/A"})]}),s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Contact:"}),s.jsx("span",{className:ce.value,children:a.phone})]}),t.referred_by&&s.jsxs("div",{className:ce.infoRow,children:[s.jsx("span",{className:ce.label,children:"Ref By:"}),s.jsx("span",{className:ce.value,children:t.referred_by})]})]})}),s.jsx("section",{className:ce.receiptSection,"aria-label":"Tests and services",children:s.jsxs("table",{className:ce.testsTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test / Service"}),!o&&s.jsx("th",{children:"Code"}),s.jsx("th",{className:ce.money,children:"Price"})]})}),s.jsx("tbody",{children:t.items.map(f=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("div",{children:f.test_name||f.panel_name})}),!o&&s.jsx("td",{children:f.test_code||f.panel_code}),s.jsx("td",{className:ce.money,children:qt(f.price,h)})]},f.id))})]})}),s.jsx("section",{className:ce.receiptSection,"aria-label":"Payment summary",children:s.jsx("div",{className:ce.financialSection,children:s.jsxs("div",{className:ce.financialGrid,children:[s.jsxs("div",{className:ce.finRow,children:[s.jsx("span",{className:ce.finLabel,children:"Total:"}),s.jsx("span",{className:ce.finValue,children:qt(t.total_amount,h)})]}),s.jsxs("div",{className:ce.finRow,children:[s.jsx("span",{className:ce.finLabel,children:"Discount amount:"}),s.jsx("span",{className:ce.finValue,children:parseFloat(t.discount)>0?`-${qt(t.discount,h)}${parseFloat(t.discount_percent)>0?` (${t.discount_percent}%)`:""}`:qt("0",h)})]}),s.jsxs("div",{className:ce.finRow,children:[s.jsx("span",{className:ce.finLabel,children:"Net Payable:"}),s.jsx("span",{className:ce.finValue,children:qt(t.net_amount||(parseFloat(t.total_amount)-parseFloat(t.discount)).toString(),h)})]}),s.jsxs("div",{className:ce.finRow,children:[s.jsx("span",{className:ce.finLabel,children:"Paid:"}),s.jsx("span",{className:ce.finValue,children:qt(t.paid_amount,h)})]}),s.jsxs("div",{className:`${ce.finRow} ${ce.highlightDue}`,children:[s.jsx("span",{className:ce.finLabel,children:"Balance Due:"}),s.jsx("span",{className:ce.finValue,children:qt(t.due_amount,h)})]})]})})}),s.jsxs("div",{className:ce.footer,children:[l?.report_footer_image?s.jsx("img",{src:l.report_footer_image,alt:"Footer Info"}):s.jsx("div",{children:l?.report_footer||"Thank you for choosing us."}),s.jsxs("div",{style:{marginTop:"5px",fontSize:"0.7em"},children:["Printed by: ",l?.lab_display_name||"System"," | ",new Date().toLocaleString()]})]})]})};function cw(){const{orderId:t}=gj(),[a,l]=S.useState(()=>sw()),[o,c]=S.useState(()=>lw()),[h,f]=S.useState(()=>iw()),{data:m,isLoading:g,error:p}=Ue({queryKey:["order",t],queryFn:async()=>{const H=Number(t);if(!isNaN(H))return ni.get(H);const A=await ni.list({search:t}),z=A.results.find(U=>U.order_id===t)||A.results[0];if(!z)throw new Error("Order not found");return z},enabled:!!t}),{data:y,isLoading:v}=Ue({queryKey:["patient",m?.patient],queryFn:()=>qa.get(m.patient),enabled:!!m}),{data:N,isLoading:R}=Ue({queryKey:["systemSettings"],queryFn:()=>ga.get()});S.useEffect(()=>{const H=a==="A4"?"a4-print":"thermal-print";return document.body.classList.add(H),()=>{document.body.classList.remove(H)}},[a]);const b=()=>{const H=a==="A4"?"a4-print":"thermal-print";document.body.classList.add(H),setTimeout(()=>{window.print()},100)},w=H=>{document.body.classList.remove("a4-print","thermal-print");const A=H==="A4"?"a4-print":"thermal-print";document.body.classList.add(A),l(H),rw(H),H==="Thermal"&&(!o||o<1)&&(c(2),t_(2))},E=H=>{const A=Math.max(1,parseInt(H,10)||1);c(A),t_(A)},$=H=>{f(H),ow(H)};if(g||v||R)return s.jsx("div",{className:"p-8 text-center",children:"Loading receipt data..."});if(p||!m||!y)return s.jsxs("div",{className:"p-8 text-center text-red-500",children:["Error loading receipt. Order ID: ",t]});const k=N&&"data"in N?N.data:N;return s.jsxs("div",{className:ce.pageContainer,children:[s.jsxs("div",{className:`${ce.controls} noDisplayPrint`,children:[s.jsx("div",{style:{fontWeight:"600",marginRight:"1rem"},children:"Print Format:"}),s.jsx("button",{className:`${ce.controlButton} ${a==="A4"?ce.activeButton:""}`,onClick:()=>w("A4"),children:"A4"}),s.jsx("button",{className:`${ce.controlButton} ${a==="Thermal"?ce.activeButton:""}`,onClick:()=>w("Thermal"),children:"Thermal (80mm)"}),a==="Thermal"&&s.jsxs("div",{className:ce.copiesInput,children:[s.jsx("label",{htmlFor:"thermal-copies",children:"Copies:"}),s.jsx("input",{id:"thermal-copies",type:"number",min:1,max:10,value:o,onChange:H=>E(H.target.value),"aria-label":"Number of thermal receipt copies"}),s.jsx("span",{className:ce.copiesHint,children:"(default 2)"})]}),s.jsx("div",{className:ce.copiesInput,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:h,onChange:H=>$(H.target.checked)}),"Scale to Fit (Auto-shrink)"]})}),s.jsx("button",{className:ce.printButton,onClick:b,children:" Print Receipt"})]}),s.jsx("div",{className:ce.printArea,style:h?{transform:"scale(0.85)",transformOrigin:"top left",width:"115%"}:{},children:a==="A4"?s.jsxs("div",{className:ce.a4Container,children:[s.jsx("div",{className:ce.a4Top,children:s.jsx(Ed,{order:m,patient:y.data,settings:k,copyLabel:"Patient Copy"})}),s.jsxs("div",{className:ce.separator,children:[s.jsx("div",{className:ce.cutLine}),s.jsx("div",{className:ce.cutIcon,children:" Cut Here"})]}),s.jsx("div",{className:ce.a4Bottom,children:s.jsx(Ed,{order:m,patient:y.data,settings:k,copyLabel:"Office Copy"})})]}):s.jsx("div",{className:ce.thermalContainer,children:Array.from({length:o||1}).map((H,A)=>s.jsxs("div",{className:ce.thermalCopy,children:[s.jsx(Ed,{order:m,patient:y.data,settings:k,isThermal:!0,copyLabel:A===0?"Patient Copy":A===1?"Office Copy":`Copy ${A+1}`}),A<(o||1)-1&&s.jsx("div",{className:ce.thermalDivider})]},A))})}),s.jsx("style",{children:`
        @media print {
          .noDisplayPrint { display: none !important; }
          body { 
             -webkit-print-color-adjust: exact; 
             print-color-adjust: exact; 
          }
          ${h?`
            @page {
               size: auto;
               margin: 5mm;
            }
            body {
               transform: scale(0.95);
               transform-origin: top center;
            }
          `:""}
        }
      `})]})}const uw="_container_nxhuh_1",dw="_header_nxhuh_6",fw="_role_nxhuh_17",hw="_statsGrid_nxhuh_22",mw="_statCard_nxhuh_28",pw="_statIcon_nxhuh_46",gw="_statContent_nxhuh_58",_w="_statValue_nxhuh_62",yw="_statTitle_nxhuh_68",vw="_welcomeCard_nxhuh_74",bw="_loading_nxhuh_87",tn={container:uw,header:dw,role:fw,statsGrid:hw,statCard:mw,statIcon:pw,statContent:gw,statValue:_w,statTitle:yw,welcomeCard:vw,loading:bw};function xw(){const{user:t}=ia(),{data:a,isLoading:l}=Ue({queryKey:["dashboard-statistics"],queryFn:()=>CS.getStatistics()}),o=()=>{const h=new Date().getHours();return h<12?"Good morning":h<18?"Good afternoon":"Good evening"},c=()=>{if(l)return s.jsx("div",{className:tn.loading,children:"Loading statistics..."});switch(t?.role){case"Admin":return s.jsx(jw,{statistics:a});case"Receptionist":return s.jsx(Sw,{statistics:a});case"Cashier":return s.jsx(Nw,{statistics:a});case"Phlebotomist":return s.jsx(ww,{statistics:a});case"Lab Technician":return s.jsx(Cw,{statistics:a});case"Pathologist":return s.jsx(Ew,{statistics:a});case"Manager":return s.jsx(Rw,{statistics:a});default:return s.jsx(Tw,{})}};return s.jsxs("div",{className:tn.container,children:[s.jsxs("div",{className:tn.header,children:[s.jsxs("h1",{children:[o(),", ",t?.full_name?.split(" ")[0],"!"]}),s.jsxs("p",{className:tn.role,children:["Logged in as ",t?.role]})]}),c()]})}function jw({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Total Patients",value:t?.totals?.patients||"0",icon:""}),s.jsx(Pt,{title:"Orders Today",value:t?.today?.orders||"0",icon:""}),s.jsx(Pt,{title:"Pending Results",value:t?.pending?.results||"0",icon:""}),s.jsx(Pt,{title:"Reports Generated",value:t?.today?.reports||"0",icon:""})]})}function Sw({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Orders Created Today",value:t?.today?.orders||"0",icon:""}),s.jsx(Pt,{title:"Total Patients",value:t?.totals?.patients||"0",icon:""}),s.jsx(Pt,{title:"Pending Payments",value:t?.revenue?.unpaid?`$${t.revenue.unpaid}`:"0",icon:""})]})}function Nw({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Payments Today",value:t?.today?.revenue?`$${t.today.revenue}`:"$0",icon:""}),s.jsx(Pt,{title:"Pending Orders",value:t?.orders?.status_breakdown?.find(a=>a.status==="pending")?.count||"0",icon:""}),s.jsx(Pt,{title:"Total Revenue",value:t?.revenue?.total?`$${t.revenue.total}`:"$0",icon:""})]})}function ww({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Pending Collection",value:t?.pending?.collections||"0",icon:""}),s.jsx(Pt,{title:"Collected Today",value:t?.today?.samples||"0",icon:""})]})}function Cw({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Results to Enter",value:t?.pending?.results||"0",icon:""}),s.jsx(Pt,{title:"Entered Today",value:t?.today?.results||"0",icon:""})]})}function Ew({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Pending Review",value:t?.pending?.verifications||"0",icon:""}),s.jsx(Pt,{title:"Reports Generated",value:t?.today?.reports||"0",icon:""}),s.jsx(Pt,{title:"Total Results",value:t?.totals?.results||"0",icon:""})]})}function Rw({statistics:t}){return s.jsxs("div",{className:tn.statsGrid,children:[s.jsx(Pt,{title:"Total Orders",value:t?.totals?.orders||"0",icon:""}),s.jsx(Pt,{title:"Revenue Today",value:t?.revenue?.today?`$${t.revenue.today}`:"$0",icon:""}),s.jsx(Pt,{title:"Total Revenue",value:t?.revenue?.total?`$${t.revenue.total}`:"$0",icon:""})]})}function Tw(){return s.jsx("div",{className:tn.welcomeCard,children:s.jsx("p",{children:"Welcome to the Laboratory Information Management System."})})}function Pt({title:t,value:a,icon:l}){return s.jsxs("div",{className:tn.statCard,children:[s.jsx("div",{className:tn.statIcon,children:l}),s.jsxs("div",{className:tn.statContent,children:[s.jsx("div",{className:tn.statValue,children:a}),s.jsx("div",{className:tn.statTitle,children:t})]})]})}function Ow(t,a=new Date){if(!t)return null;const l=new Date(`${t}T00:00:00`);if(Number.isNaN(l.getTime()))return null;let o=a.getFullYear()-l.getFullYear(),c=a.getMonth()-l.getMonth(),h=a.getDate()-l.getDate();if(h<0){const f=new Date(a.getFullYear(),a.getMonth(),0);h+=f.getDate(),c-=1}return c<0&&(c+=12,o-=1),{years:o,months:c,days:h}}function Aw(t,a=0,l=0,o=new Date){if(Number.isNaN(t)||t<0)return null;let c=o.getFullYear()-t,h=o.getMonth()+1-a;for(;h<=0;)h+=12,c-=1;const f=o.getDate()-l,m=new Date(c,h,0).getDate(),g=Math.min(Math.max(1,f),m),p=new Date(c,h-1,g),y=p.getFullYear(),v=String(p.getMonth()+1).padStart(2,"0"),N=String(p.getDate()).padStart(2,"0");return`${y}-${v}-${N}`}const Dw="_container_63024_1",zw="_header_63024_6",Bw="_subtitle_63024_18",kw="_headerActions_63024_24",Mw="_addButton_63024_29",Lw="_primaryButton_63024_44",Uw="_searchForm_63024_60",$w="_searchInput_63024_66",qw="_searchButton_63024_79",Pw="_layoutGrid_63024_88",Hw="_listCard_63024_94",Gw="_detailCard_63024_95",Fw="_table_63024_103",Iw="_viewButton_63024_138",Zw="_noData_63024_153",Vw="_loading_63024_159",Qw="_error_63024_160",Kw="_detailLabel_63024_194",Yw="_detailValue_63024_200",Xw="_sectionHeader_63024_206",Jw="_emptyState_63024_210",Ww="_modalOverlay_63024_217",eC="_modal_63024_217",tC="_modalHeader_63024_242",nC="_closeButton_63024_255",aC="_form_63024_269",sC="_formRow_63024_273",rC="_formGroup_63024_279",lC="_ageInputs_63024_291",iC="_ageField_63024_296",oC="_formError_63024_306",cC="_selectedPatient_63024_311",uC="_checkboxGrid_63024_318",dC="_checkboxLabel_63024_324",fC="_totalSection_63024_331",hC="_totalAmount_63024_338",mC="_formActions_63024_342",pC="_cancelButton_63024_349",gC="_submitButton_63024_358",_C="_patientDetails_63024_367",yC="_detailRow_63024_371",vC="_profileHeader_63024_405",bC="_profileAvatar_63024_414",xC="_profileInfo_63024_428",jC="_profileMeta_63024_441",SC="_profileBadge_63024_450",NC="_metaItem_63024_461",wC="_quickActions_63024_467",CC="_actionButton_63024_473",EC="_actionButtonPrimary_63024_495",se={container:Dw,header:zw,subtitle:Bw,headerActions:kw,addButton:Mw,primaryButton:Lw,searchForm:Uw,searchInput:$w,searchButton:qw,layoutGrid:Pw,listCard:Hw,detailCard:Gw,table:Fw,viewButton:Iw,noData:Zw,loading:Vw,error:Qw,detailLabel:Kw,detailValue:Yw,sectionHeader:Xw,emptyState:Jw,modalOverlay:Ww,modal:eC,modalHeader:tC,closeButton:nC,form:aC,formRow:sC,formGroup:rC,ageInputs:lC,ageField:iC,formError:oC,selectedPatient:cC,checkboxGrid:uC,checkboxLabel:dC,totalSection:fC,totalAmount:hC,formActions:mC,cancelButton:pC,submitButton:gC,patientDetails:_C,detailRow:yC,profileHeader:vC,profileAvatar:bC,profileInfo:xC,profileMeta:jC,profileBadge:SC,metaItem:NC,quickActions:wC,actionButton:CC,actionButtonPrimary:EC};function RC(){const t=On(),{branding:a}=bs(),l=a?.currency||"PKR",[o,c]=S.useState(""),[h,f]=S.useState(!1),[m,g]=S.useState(null),[p,y]=S.useState(!1),[v,N]=S.useState(null),{data:R,isLoading:b,error:w}=Ue({queryKey:["patients",o],queryFn:()=>qa.list({search:o||void 0})}),{data:E,isLoading:$}=Ue({queryKey:["patient-orders",m?.id],queryFn:()=>ni.list({patient:m?.id}),enabled:!!m}),k=He({mutationFn:U=>qa.create(U),onSuccess:()=>{t.invalidateQueries({queryKey:["patients"]}),f(!1)}}),H=R?.results||[],A=E?.results||[],z=U=>{U.preventDefault()};return s.jsxs("div",{className:se.container,children:[s.jsxs("div",{className:se.header,children:[s.jsxs("div",{children:[s.jsx("h1",{children:"Patients"}),s.jsx("p",{className:se.subtitle,children:"Search patients, view history, and create orders."})]}),s.jsxs("div",{className:se.headerActions,children:[s.jsx("button",{onClick:()=>f(!0),className:se.addButton,children:"+ Register Patient"}),s.jsx("button",{onClick:()=>y(!0),className:se.primaryButton,disabled:!m,children:"+ New Order"})]})]}),s.jsxs("form",{onSubmit:z,className:se.searchForm,children:[s.jsx("input",{type:"text",placeholder:"Search by name, phone, or patient ID...",value:o,onChange:U=>c(U.target.value),className:se.searchInput}),s.jsx("button",{type:"submit",className:se.searchButton,children:"Search"})]}),s.jsxs("div",{className:se.layoutGrid,children:[s.jsx("div",{className:se.listCard,children:b?s.jsx("div",{className:se.loading,children:"Loading patients..."}):w?s.jsx("div",{className:se.error,children:"Failed to load patients"}):s.jsxs("table",{className:se.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Patient ID"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Age/Gender"}),s.jsx("th",{children:"Phone"}),s.jsx("th",{children:"Last Visit"}),s.jsx("th",{})]})}),s.jsxs("tbody",{children:[H.map(U=>s.jsxs("tr",{children:[s.jsx("td",{children:U.patient_id}),s.jsx("td",{children:U.full_name}),s.jsxs("td",{children:[U.age,"y / ",U.gender]}),s.jsx("td",{children:U.phone}),s.jsx("td",{children:U.last_visit||"N/A"}),s.jsx("td",{children:s.jsx("button",{onClick:()=>g(U),className:se.viewButton,children:"Select"})})]},U.id)),H.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:se.noData,children:"No patients found"})})]})]})}),s.jsx("div",{className:se.detailCard,children:m?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:se.profileHeader,children:[s.jsx("div",{className:se.profileAvatar,children:m.full_name.split(" ").map(U=>U[0]).join("").substring(0,2).toUpperCase()}),s.jsxs("div",{className:se.profileInfo,children:[s.jsxs("h2",{children:[m.full_name,s.jsxs("span",{className:se.profileBadge,children:["MRN: ",m.registration_number||m.patient_id]})]}),s.jsxs("div",{className:se.profileMeta,children:[s.jsxs("span",{className:se.metaItem,children:[m.gender,"  ",m.age," years"]}),s.jsxs("span",{className:se.metaItem,children:[" ",m.phone]}),m.date_of_birth&&s.jsxs("span",{className:se.metaItem,children:[" ",Zr(m.date_of_birth)]}),m.cnic&&s.jsxs("span",{className:se.metaItem,children:[" ",m.cnic]})]}),s.jsxs("div",{className:se.quickActions,children:[s.jsx("button",{onClick:()=>y(!0),className:`${se.actionButton} ${se.actionButtonPrimary}`,children:"+ New Order"}),s.jsx("button",{className:se.actionButton,onClick:()=>{f(!0)},children:" Edit Profile"})]})]})]}),s.jsx("div",{className:se.sectionHeader,children:s.jsx("h3",{children:"Orders"})}),$?s.jsx("div",{className:se.loading,children:"Loading orders..."}):s.jsxs("table",{className:se.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Order ID"}),s.jsx("th",{children:"Branch"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Amount"}),s.jsx("th",{children:"Date"}),s.jsx("th",{})]})}),s.jsxs("tbody",{children:[A.map(U=>s.jsxs("tr",{children:[s.jsx("td",{children:U.order_id}),s.jsx("td",{style:{fontSize:"0.85rem",color:"#64748b"},children:U.collection_branch_name||"-"}),s.jsx("td",{children:U.status.replace("_"," ")}),s.jsx("td",{children:qt(U.net_amount,l)}),s.jsx("td",{children:wy(U.created_at)}),s.jsx("td",{children:s.jsx("button",{onClick:()=>N(U),className:se.viewButton,children:"View"})})]},U.id)),A.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:se.noData,children:"No orders found"})})]})]})]}):s.jsx("div",{className:se.emptyState,children:"Select a patient to see details and orders."})})]}),h&&s.jsx(TC,{onClose:()=>f(!1),onSubmit:U=>k.mutate(U),isSubmitting:k.isPending,error:k.error}),p&&m&&s.jsx(OC,{patient:m,onClose:()=>y(!1),onSuccess:()=>{t.invalidateQueries({queryKey:["patient-orders",m.id]}),y(!1)}}),v&&s.jsx(AC,{order:v,onClose:()=>N(null)})]})}function TC({onClose:t,onSubmit:a,isSubmitting:l,error:o}){const[c,h]=S.useState(null),[f,m]=S.useState({full_name:"",phone:"",gender:"Male",date_of_birth:"",age_years:"",age_months:"",age_days:"",father_husband_name:"",cnic:"",email:""}),g=v=>{const{iso:N,date:R,display:b}=Ey(v);m(w=>{if(!N)return{...w,date_of_birth:"",age_years:"",age_months:"",age_days:""};if(R){const E=Ow(N);if(E)return{...w,date_of_birth:N,age_years:E.years.toString(),age_months:E.months.toString(),age_days:E.days.toString()}}return{...w,date_of_birth:N,date_of_birth_display:b}})},p=(v,N)=>{m(R=>{const b={...R,[v]:N},w=b.age_years===""?null:Number(b.age_years),E=Number(b.age_months||0),$=Number(b.age_days||0);if(w===null||Number.isNaN(w))return{...b,date_of_birth:""};const k=Aw(w,E,$);return k?{...b,date_of_birth:k}:b})},y=v=>{if(v.preventDefault(),h(null),!f.date_of_birth&&f.age_years===""){h("Please provide date of birth or age in years.");return}a({full_name:f.full_name,phone:f.phone,gender:f.gender,date_of_birth:f.date_of_birth||void 0,age_years:f.age_years===""?void 0:Number(f.age_years),age_months:f.age_months===""?void 0:Number(f.age_months),age_days:f.age_days===""?void 0:Number(f.age_days),father_husband_name:f.father_husband_name||void 0,cnic:f.cnic||void 0,email:f.email||void 0})};return s.jsx("div",{className:se.modalOverlay,children:s.jsxs("div",{className:se.modal,children:[s.jsxs("div",{className:se.modalHeader,children:[s.jsx("h2",{children:"Register New Patient"}),s.jsx("button",{onClick:t,className:se.closeButton,children:""})]}),s.jsxs("form",{onSubmit:y,className:se.form,children:[s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Mobile Number *"}),s.jsx("input",{type:"tel",value:f.phone,onChange:v=>m({...f,phone:v.target.value}),required:!0,minLength:10})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Name *"}),s.jsx("input",{type:"text",value:f.full_name,onChange:v=>m({...f,full_name:v.target.value}),required:!0})]}),s.jsxs("div",{className:se.formRow,children:[s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Age"}),s.jsxs("div",{className:se.ageInputs,children:[s.jsxs("div",{className:se.ageField,children:[s.jsx("input",{type:"number",min:"0",value:f.age_years,onChange:v=>p("age_years",v.target.value)}),s.jsx("span",{children:"years"})]}),s.jsxs("div",{className:se.ageField,children:[s.jsx("input",{type:"number",min:"0",value:f.age_months,onChange:v=>p("age_months",v.target.value)}),s.jsx("span",{children:"months"})]}),s.jsxs("div",{className:se.ageField,children:[s.jsx("input",{type:"number",min:"0",value:f.age_days,onChange:v=>p("age_days",v.target.value)}),s.jsx("span",{children:"days"})]})]})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Date of Birth"}),s.jsx("input",{type:"text",inputMode:"numeric",placeholder:"DD/MM/YY",value:f.date_of_birth,onChange:v=>g(v.target.value)})]})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Gender *"}),s.jsxs("select",{value:f.gender,onChange:v=>m({...f,gender:v.target.value}),required:!0,children:[s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Father/Husband Name"}),s.jsx("input",{type:"text",value:f.father_husband_name,onChange:v=>m({...f,father_husband_name:v.target.value})})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"CNIC"}),s.jsx("input",{type:"text",value:f.cnic,onChange:v=>m({...f,cnic:v.target.value})})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Email Address"}),s.jsx("input",{type:"email",value:f.email,onChange:v=>m({...f,email:v.target.value})})]}),c&&s.jsx("div",{className:se.formError,children:c}),o&&s.jsx("div",{className:se.formError,children:o.message}),s.jsxs("div",{className:se.formActions,children:[s.jsx("button",{type:"button",onClick:t,className:se.cancelButton,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:l,className:se.submitButton,children:l?"Registering...":"Register Patient"})]})]})]})})}function OC({patient:t,onClose:a,onSuccess:l}){const{currentBranch:o}=ia(),{branding:c}=bs(),h=c?.currency||"PKR",[f,m]=S.useState([]),[g,p]=S.useState([]),[y,v]=S.useState("0"),[N,R]=S.useState(()=>t.last_order_referred_by||t.default_referred_by||""),{data:b}=Ue({queryKey:["tests"],queryFn:()=>Nt.getTests({is_active:!0})}),{data:w}=Ue({queryKey:["panels"],queryFn:()=>Nt.getPanels({is_active:!0})}),E=He({mutationFn:M=>ni.create(M),onSuccess:l,onError:M=>{const X=M,Z=X?.response?.data?.detail??X?.message??"Failed to create order. Please try again.";alert(Z)}}),$=S.useMemo(()=>b?.results||[],[b]),k=S.useMemo(()=>w?.results||[],[w]),H=S.useMemo(()=>new Map($.map(M=>[M.test_id,M])),[$]),A=S.useMemo(()=>new Map(k.map(M=>[M.id,M])),[k]),z=()=>{let M=0;return f.forEach(X=>{const Z=H.get(X);Z&&(M+=parseFloat(Z.price))}),g.forEach(X=>{const Z=A.get(X);Z&&(M+=parseFloat(Z.price))}),M-parseFloat(y||"0")},U=M=>{M.preventDefault(),E.mutate({patient:t.id,test_ids:f,panel_ids:g,discount:y||"0",referred_by:N||void 0,collection_branch:o?.id})};return s.jsx("div",{className:se.modalOverlay,children:s.jsxs("div",{className:se.modal,children:[s.jsxs("div",{className:se.modalHeader,children:[s.jsx("h2",{children:"Create New Order"}),s.jsx("button",{onClick:a,className:se.closeButton,children:""})]}),s.jsxs("form",{onSubmit:U,className:se.form,children:[s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Patient"}),s.jsx("div",{className:se.selectedPatient,children:s.jsxs("span",{children:[t.full_name," (",t.patient_id,")"]})})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Referred By"}),s.jsx("input",{type:"text",value:N,onChange:M=>R(M.target.value),placeholder:"Doctor/Clinic"})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Tests"}),s.jsx("div",{className:se.checkboxGrid,children:$.map(M=>s.jsxs("label",{className:se.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:f.includes(M.test_id),onChange:X=>{X.target.checked?m([...f,M.test_id]):m(f.filter(Z=>Z!==M.test_id))}}),s.jsxs("span",{children:[M.test_name," - ",qt(M.price,h)]})]},M.test_id))})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsx("label",{children:"Panels"}),s.jsx("div",{className:se.checkboxGrid,children:k.map(M=>s.jsxs("label",{className:se.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:g.includes(M.id),onChange:X=>{X.target.checked?p([...g,M.id]):p(g.filter(Z=>Z!==M.id))}}),s.jsxs("span",{children:[M.panel_name," - ",qt(M.price,h)]})]},M.id))})]}),s.jsxs("div",{className:se.formGroup,children:[s.jsxs("label",{children:["Discount (",h,")"]}),s.jsx("input",{type:"number",value:y,onChange:M=>v(M.target.value),min:"0"})]}),s.jsxs("div",{className:se.totalSection,children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:se.totalAmount,children:qt(z().toFixed(2),h)})]}),s.jsxs("div",{className:se.formActions,children:[s.jsx("button",{type:"button",onClick:a,className:se.cancelButton,children:"Cancel"}),s.jsx("button",{type:"submit",disabled:f.length===0&&g.length===0||E.isPending,className:se.submitButton,children:E.isPending?"Creating...":"Create Order"})]})]})]})})}function AC({order:t,onClose:a}){const{branding:l}=bs(),o=l?.currency||"PKR";return s.jsx("div",{className:se.modalOverlay,children:s.jsxs("div",{className:se.modal,children:[s.jsxs("div",{className:se.modalHeader,children:[s.jsx("h2",{children:"Order Details"}),s.jsx("button",{onClick:a,className:se.closeButton,children:""})]}),s.jsxs("div",{className:se.patientDetails,children:[s.jsxs("div",{className:se.detailRow,children:[s.jsx("span",{className:se.detailLabel,children:"Order ID:"}),s.jsx("span",{className:se.detailValue,children:t.order_id})]}),s.jsxs("div",{className:se.detailRow,children:[s.jsx("span",{className:se.detailLabel,children:"Patient:"}),s.jsx("span",{className:se.detailValue,children:t.patient_name})]}),t.referred_by&&s.jsxs("div",{className:se.detailRow,children:[s.jsx("span",{className:se.detailLabel,children:"Referred By:"}),s.jsx("span",{className:se.detailValue,children:t.referred_by})]}),s.jsxs("div",{className:se.detailRow,children:[s.jsx("span",{className:se.detailLabel,children:"Status:"}),s.jsx("span",{className:se.detailValue,children:t.status})]}),s.jsxs("div",{className:se.detailRow,children:[s.jsx("span",{className:se.detailLabel,children:"Total:"}),s.jsx("span",{className:se.detailValue,children:qt(t.net_amount,o)})]})]})]})})}const DC="_container_1fp34_1",zC="_toast_1fp34_8",BC="_toastSuccess_1fp34_20",kC="_toastError_1fp34_25",MC="_header_1fp34_30",LC="_filters_1fp34_47",UC="_searchInput_1fp34_54",$C="_quickButton_1fp34_60",qC="_table_1fp34_68",PC="_statusBadge_1fp34_80",HC="_patientCell_1fp34_88",GC="_patientName_1fp34_93",FC="_patientMeta_1fp34_98",IC="_actionButtons_1fp34_103",ZC="_actionButton_1fp34_103",VC="_actionButtonDisabled_1fp34_118",QC="_loading_1fp34_127",KC="_noData_1fp34_128",Ot={container:DC,toast:zC,toastSuccess:BC,toastError:kC,header:MC,filters:LC,searchInput:UC,quickButton:$C,table:qC,statusBadge:PC,patientCell:HC,patientName:GC,patientMeta:FC,actionButtons:IC,actionButton:ZC,actionButtonDisabled:VC,loading:QC,noData:KC};function YC(){const{user:t}=ia(),[a,l]=S.useState(""),[o,c]=S.useState(""),[h,f]=S.useState(""),[m,g]=S.useState(""),[p,y]=S.useState(null),[v,N]=S.useState(null),R=S.useRef(null),b=(Z,ie)=>{N({type:Z,message:ie}),R.current&&window.clearTimeout(R.current),R.current=window.setTimeout(()=>N(null),3e3)},w=S.useMemo(()=>({search:a||void 0,date_from:o||void 0,date_to:h||void 0,status:m||void 0}),[a,o,h,m]),{data:E,isLoading:$}=Ue({queryKey:["patients-worklist",w],queryFn:()=>ES.listPatients(w)}),k=E?.results||[],H=Z=>{const ie=new Date,ve=new Date(ie);ve.setDate(ie.getDate()-Z+1),c(ve.toISOString().slice(0,10)),f(ie.toISOString().slice(0,10))},A=Z=>{window.open(Z,"_blank","noopener,noreferrer")},z=t?.role==="Admin"||t?.role==="Receptionist"||t?.role==="Cashier"||t?.role==="Manager",U=(Z,ie)=>Z.startsWith("http")||Z.startsWith("/")?Z:`${ie}/${Z}`,M=Z=>{const ie=Z.latest_order_id,ve=Z.receipt_pdf_url||Z.receipt_url||String(ie||"")||Z.latest_order_number||"";if(!(z&&(Z.can_reprint_receipt??!0)&&!!ve)||!ve){b("error",z?"Receipt not available for this order.":"You do not have permission to print receipts.");return}y({type:"receipt",orderId:Z.latest_order_id});const be=ie?`/print/receipt/${ie}`:U(ve,"/print/receipt");A(be),b("success","Opening receipt..."),setTimeout(()=>y(null),300)},X=Z=>{const ie=Z.report_pdf_url||Z.report_url||"";if(!(z&&(Z.can_reprint_report??!0)&&!!ie)||!ie){b("error",z?"Report not available or not yet published.":"You do not have permission to print reports.");return}y({type:"report",orderId:Z.latest_order_id});const Oe=U(ie,"/print/report");A(Oe),b("success","Opening report..."),setTimeout(()=>y(null),300)};return s.jsxs("div",{className:Ot.container,children:[v&&s.jsx("div",{className:`${Ot.toast} ${v.type==="success"?Ot.toastSuccess:Ot.toastError}`,children:v.message}),s.jsx("div",{className:Ot.header,children:s.jsxs("div",{children:[s.jsx("h1",{children:"Patients Worklist"}),s.jsx("p",{children:"Track current workflow status and reprint receipts/reports."})]})}),s.jsxs("div",{className:Ot.filters,children:[s.jsx("input",{type:"text",placeholder:"Search by name, mobile, or order number",value:a,onChange:Z=>l(Z.target.value),className:Ot.searchInput}),s.jsx("input",{type:"date",value:o,onChange:Z=>c(Z.target.value)}),s.jsx("input",{type:"date",value:h,onChange:Z=>f(Z.target.value)}),s.jsxs("select",{value:m,onChange:Z=>g(Z.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"registered",children:"Registered / Order Created"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"COLLECTED",children:"Sample Collected"}),s.jsx("option",{value:"IN_PROCESS",children:"In Testing / Result Pending"}),s.jsx("option",{value:"VERIFIED",children:"Report Ready / Verified"}),s.jsx("option",{value:"PUBLISHED",children:"Report Published"}),s.jsx("option",{value:"CANCELLED",children:"Cancelled"})]}),s.jsx("button",{type:"button",onClick:()=>H(1),className:Ot.quickButton,children:"Today"}),s.jsx("button",{type:"button",onClick:()=>H(7),className:Ot.quickButton,children:"Last 7 Days"})]}),$?s.jsx("div",{className:Ot.loading,children:"Loading worklist..."}):s.jsxs("table",{className:Ot.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Mobile"}),s.jsx("th",{children:"Order"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Actions"})]})}),s.jsxs("tbody",{children:[k.map(Z=>{const ie=Z.receipt_pdf_url||Z.receipt_url||String(Z.latest_order_id||"")||Z.latest_order_number||"",ve=Z.report_pdf_url||Z.report_url||"",Oe=z&&(Z.can_reprint_receipt??!0)&&!!ie,be=z&&(Z.can_reprint_report??!0)&&!!ve;return s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:Ot.patientCell,children:[s.jsx("span",{className:Ot.patientName,children:Z.patient_name}),s.jsx("span",{className:Ot.patientMeta,children:Z.gender})]})}),s.jsx("td",{children:Z.mobile}),s.jsx("td",{children:Z.latest_order_number}),s.jsx("td",{children:s.jsx("span",{className:Ot.statusBadge,children:Z.current_status})}),s.jsx("td",{children:wy(Z.latest_order_created_at)}),s.jsx("td",{children:s.jsxs("div",{className:Ot.actionButtons,children:[s.jsx("button",{type:"button",className:`${Ot.actionButton} ${Oe?"":Ot.actionButtonDisabled}`,disabled:!z||p?.type==="receipt"&&p.orderId===Z.latest_order_id,"aria-disabled":!Oe,"data-testid":"print-receipt","data-available":Oe?"true":"false",onClick:()=>M(Z),children:p?.type==="receipt"&&p.orderId===Z.latest_order_id?"Opening...":"Print Receipt"}),s.jsx("button",{type:"button",className:`${Ot.actionButton} ${be?"":Ot.actionButtonDisabled}`,disabled:!z||p?.type==="report"&&p.orderId===Z.latest_order_id,"aria-disabled":!be,"data-testid":"print-report","data-available":be?"true":"false",onClick:()=>X(Z),children:p?.type==="report"&&p.orderId===Z.latest_order_id?"Opening...":"Print Report"})]})})]},Z.latest_order_id)}),k.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:Ot.noData,children:"No patients found"})})]})]})]})}const XC="_container_w2od6_1",JC="_header_w2od6_8",WC="_filters_w2od6_23",e2="_categoryFilter_w2od6_31",t2="_select_w2od6_42",n2="_searchFilter_w2od6_50",a2="_searchInput_w2od6_55",s2="_tabButtons_w2od6_63",r2="_tab_w2od6_63",l2="_activeTab_w2od6_69",i2="_content_w2od6_89",o2="_loading_w2od6_93",c2="_code_w2od6_135",u2="_table_w2od6_177",d2="_rowActions_w2od6_204",f2="_iconButton_w2od6_209",h2="_iconButtonDelete_w2od6_222",m2="_modalOverlay_w2od6_236",p2="_modal_w2od6_236",g2="_modalHeader_w2od6_261",_2="_closeButton_w2od6_276",y2="_modalBody_w2od6_286",v2="_templateSection_w2od6_291",b2="_uploadSection_w2od6_308",x2="_dropZone_w2od6_312",j2="_fileName_w2od6_332",S2="_validationErrors_w2od6_341",N2="_validationWarnings_w2od6_372",w2="_summaryBox_w2od6_394",C2="_summaryGrid_w2od6_402",E2="_optionsRow_w2od6_410",R2="_auditPanel_w2od6_419",T2="_auditGrid_w2od6_427",O2="_error_w2od6_435",A2="_success_w2od6_444",D2="_modalActions_w2od6_453",z2="_submitButton_w2od6_461",B2="_secondaryButton_w2od6_462",k2="_cancelButton_w2od6_497",M2="_actions_w2od6_512",L2="_actionButton_w2od6_517",de={container:XC,header:JC,filters:WC,categoryFilter:e2,select:t2,searchFilter:n2,searchInput:a2,tabButtons:s2,tab:r2,activeTab:l2,content:i2,loading:o2,code:c2,table:u2,rowActions:d2,iconButton:f2,iconButtonDelete:h2,modalOverlay:m2,modal:p2,modalHeader:g2,closeButton:_2,modalBody:y2,templateSection:v2,uploadSection:b2,dropZone:x2,fileName:j2,validationErrors:S2,validationWarnings:N2,summaryBox:w2,summaryGrid:C2,optionsRow:E2,auditPanel:R2,auditGrid:T2,error:O2,success:A2,modalActions:D2,submitButton:z2,secondaryButton:B2,cancelButton:k2,actions:M2,actionButton:L2};function U2(){const t=On(),{branding:a}=bs(),{user:l}=ia(),o=a?.currency||"PKR",c=l?.role==="Admin",h=l?.role==="Manager",[f,m]=S.useState(null),[g,p]=vs(),y=g.get("tab")||"tests",v=re=>p({tab:re}),[N,R]=S.useState(""),[b,w]=S.useState(!1),[E,$]=S.useState(!1),[k,H]=S.useState(null),[A,z]=S.useState(null),[U,M]=S.useState(null),[X,Z]=S.useState(null),[ie,ve]=S.useState(!1),{data:Oe}=Ue({queryKey:["test-categories"],queryFn:()=>Nt.getCategories()}),{data:be,isLoading:Ie}=Ue({queryKey:["tests",f,N],queryFn:()=>Nt.getTests({...f&&{category:f},...N&&{search:N}})}),{data:ot,isLoading:G}=Ue({queryKey:["panels",f,N],queryFn:()=>Nt.getPanels({...f&&{category:f},...N&&{search:N}})}),{data:ae,isLoading:he}=Ue({queryKey:["parameters",N],queryFn:()=>Nt.getParameters({...N&&{search:N}}),enabled:y==="parameters"}),{data:Ee,isLoading:Ae}=Ue({queryKey:["reference-ranges",N],queryFn:()=>_s.list({...N&&{search:N}}),enabled:y==="ranges"}),O=Oe?.results||[],Q=be?.results||[],oe=ot?.results||[],ue=ae?.results||[],_e=Ee?.results||[],Ce=async()=>{try{const re=await Nt.exportCatalog(),Ze=window.URL.createObjectURL(new Blob([re])),ct=document.createElement("a");ct.href=Ze,ct.setAttribute("download","LIMS_Catalog_Export.xlsx"),document.body.appendChild(ct),ct.click(),ct.parentNode?.removeChild(ct)}catch(re){console.error("Export failed",re),alert("Failed to export catalog")}},Re=async()=>{ve(!0),Z(null);try{const re=await Nt.auditCatalog();M(re)}catch(re){console.error("Audit failed",re),Z("Failed to run catalog audit")}finally{ve(!1)}},Qe=(re,Ze)=>{H(re),z(Ze),$(!0)},$e=async(re,Ze)=>{if(window.confirm("Are you sure you want to delete this item?"))try{Ze==="test"&&await Nt.deleteTest(re),Ze==="panel"&&await Nt.deletePanel(re),Ze==="parameter"&&await Nt.deleteParameter(re),Ze==="range"&&await _s.delete(re),t.invalidateQueries({queryKey:[Ze==="range"?"reference-ranges":Ze+"s"]})}catch(ct){console.error("Delete failed",ct),alert("Failed to delete item")}},Ft=async re=>{try{const Ze=A,ct=!!k,fe=k?.id??k?.test_id;Ze==="test"?ct?await Nt.updateTest(fe,re):await Nt.createTest(re):Ze==="panel"?ct?await Nt.updatePanel(fe,re):await Nt.createPanel(re):Ze==="parameter"?ct?await Nt.updateParameter(fe,re):await Nt.createParameter(re):Ze==="range"&&(ct?await _s.update(fe,re):await _s.create(re)),$(!1),Ze==="range"?t.invalidateQueries({queryKey:["reference-ranges"]}):t.invalidateQueries({queryKey:[Ze+"s"]})}catch(Ze){console.error("Save failed",Ze),alert("Failed to save item")}};return s.jsxs("div",{className:de.container,children:[s.jsxs("div",{className:de.header,children:[s.jsx("h1",{children:"Test Catalog"}),(c||h)&&s.jsxs("div",{className:de.actions,children:[c&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{H(null),z(y==="tests"?"test":y==="panels"?"panel":y==="parameters"?"parameter":"range"),$(!0)},className:de.actionButton,children:["+ Add ",y==="tests"?"Test":y==="panels"?"Panel":y==="parameters"?"Parameter":"Range"]}),s.jsx("button",{onClick:Ce,className:de.secondaryButton,children:"Export"}),s.jsx("button",{onClick:()=>w(!0),className:de.secondaryButton,children:"Import"})]}),s.jsx("button",{onClick:Re,className:de.secondaryButton,children:"Audit"})]})]}),s.jsxs("div",{className:de.filters,children:[s.jsxs("div",{className:de.categoryFilter,children:[s.jsx("label",{children:"Category:"}),s.jsxs("select",{value:f||"",onChange:re=>m(re.target.value?Number(re.target.value):null),className:de.select,children:[s.jsx("option",{value:"",children:"All Categories"}),O.map(re=>s.jsx("option",{value:re.id,children:re.name},re.id))]})]}),s.jsx("div",{className:de.searchFilter,children:s.jsx("input",{type:"text",placeholder:"Search...",value:N,onChange:re=>R(re.target.value),className:de.searchInput})}),s.jsx("div",{className:de.tabButtons,children:["tests","panels","parameters","ranges"].map(re=>s.jsx("button",{className:y===re?de.activeTab:de.tab,onClick:()=>v(re),style:{textTransform:"capitalize"},children:re},re))})]}),s.jsxs("div",{className:de.content,children:[y==="tests"&&(Ie?s.jsx("div",{className:de.loading,children:"Loading tests..."}):s.jsxs("table",{className:de.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Code"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Sample"}),s.jsx("th",{children:"Price"}),s.jsx("th",{children:"TAT (hrs)"}),s.jsx("th",{children:"Params"}),s.jsx("th",{children:"Last Updated"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Q.map(re=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{className:de.code,children:re.test_code})}),s.jsx("td",{children:re.test_name}),s.jsx("td",{children:re.category_name}),s.jsx("td",{children:re.sample_type}),s.jsx("td",{children:qt(re.price,o)}),s.jsx("td",{children:re.turnaround_time}),s.jsx("td",{children:re.parameters?.length||0}),s.jsxs("td",{style:{fontSize:"12px",color:"#64748b"},children:[new Date().toLocaleDateString()," "]}),s.jsx("td",{children:s.jsxs("div",{className:de.rowActions,children:[s.jsx("button",{onClick:()=>Qe(re,"test"),className:de.iconButton,children:""}),c&&s.jsx("button",{onClick:()=>$e(re.test_id,"test"),className:de.iconButtonDelete,children:""})]})})]},re.test_id))})]})),y==="panels"&&(G?s.jsx("div",{className:de.loading,children:"Loading panels..."}):s.jsxs("table",{className:de.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Code"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Category"}),s.jsx("th",{children:"Sample"}),s.jsx("th",{children:"Price"}),s.jsx("th",{children:"TAT (hrs)"}),s.jsx("th",{children:"Tests"}),s.jsx("th",{children:"Last Updated"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:oe.map(re=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{className:de.code,children:re.panel_code})}),s.jsx("td",{children:re.panel_name}),s.jsx("td",{children:re.category_name}),s.jsx("td",{children:re.sample_type}),s.jsx("td",{children:qt(re.price,o)}),s.jsx("td",{children:re.turnaround_time}),s.jsx("td",{children:re.tests?.length||0}),s.jsx("td",{style:{fontSize:"12px",color:"#64748b"},children:new Date().toLocaleDateString()}),s.jsx("td",{children:s.jsxs("div",{className:de.rowActions,children:[s.jsx("button",{onClick:()=>Qe(re,"panel"),className:de.iconButton,children:""}),c&&s.jsx("button",{onClick:()=>$e(re.id,"panel"),className:de.iconButtonDelete,children:""})]})})]},re.id))})]})),y==="parameters"&&(he?s.jsx("div",{className:de.loading,children:"Loading parameters..."}):s.jsxs("table",{className:de.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Param ID"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Last Updated"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:ue.map(re=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{className:de.code,children:re.parameter})}),s.jsx("td",{children:re.parameter_name}),s.jsx("td",{children:re.unit}),s.jsx("td",{children:"numeric"}),s.jsx("td",{style:{fontSize:"12px",color:"#64748b"},children:"-"}),s.jsx("td",{children:s.jsxs("div",{className:de.rowActions,children:[s.jsx("button",{onClick:()=>Qe(re,"parameter"),className:de.iconButton,children:""}),c&&s.jsx("button",{onClick:()=>$e(re.id,"parameter"),className:de.iconButtonDelete,children:""})]})})]},re.id))})]})),y==="ranges"&&(Ae?s.jsx("div",{className:de.loading,children:"Loading ranges..."}):s.jsxs("table",{className:de.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test"}),s.jsx("th",{children:"Parameter"}),s.jsx("th",{children:"Gender"}),s.jsx("th",{children:"Age Range"}),s.jsx("th",{children:"Normal Range"}),s.jsx("th",{children:"Critical Range"}),s.jsx("th",{children:"Last Updated"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:_e.map(re=>s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("span",{className:de.code,children:re.test_code})," ",re.test_name]}),s.jsx("td",{children:re.parameter_name}),s.jsx("td",{children:re.gender}),s.jsxs("td",{children:[re.age_min??0," - ",re.age_max??""," yrs"]}),s.jsxs("td",{children:[re.reference_min," - ",re.reference_max]}),s.jsxs("td",{children:[re.critical_low," - ",re.critical_high]}),s.jsx("td",{style:{fontSize:"12px",color:"#64748b"},children:new Date(re.effective_date).toLocaleDateString()}),s.jsx("td",{children:s.jsxs("div",{className:de.rowActions,children:[s.jsx("button",{onClick:()=>Qe(re,"range"),className:de.iconButton,children:""}),c&&s.jsx("button",{onClick:()=>$e(re.id,"range"),className:de.iconButtonDelete,children:""})]})})]},re.id))})]}))]}),E&&A&&s.jsx("div",{className:de.modalOverlay,children:s.jsxs("div",{className:de.modal,children:[s.jsxs("div",{className:de.modalHeader,children:[s.jsxs("h2",{children:[k?"Edit":"Add"," ",A]}),s.jsx("button",{onClick:()=>$(!1),className:de.closeButton,children:""})]}),s.jsx("div",{className:de.modalBody,children:s.jsx($2,{type:A,initialData:k,categories:O,onSubmit:Ft,onCancel:()=>$(!1)})})]})}),c&&b&&s.jsx(q2,{onClose:()=>w(!1),onSuccess:()=>{t.invalidateQueries({queryKey:["tests"]}),t.invalidateQueries({queryKey:["test-categories"]}),t.invalidateQueries({queryKey:["panels"]}),w(!1)}}),U&&s.jsxs("div",{className:de.auditPanel,children:[s.jsx("h2",{children:"Catalog Audit Summary"}),s.jsxs("div",{className:de.auditGrid,children:[s.jsxs("div",{children:[s.jsx("h4",{children:"Duplicates"}),s.jsxs("p",{children:["Test Codes: ",U.duplicates.test_code.count]}),s.jsxs("p",{children:["Parameter Codes: ",U.duplicates.parameter_code.count]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"Missing/Invalid"}),s.jsxs("p",{children:["Tests w/ No Params: ",U.tests_without_parameters.count]}),s.jsxs("p",{children:["Missing Ranges: ",U.reference_ranges.missing.count]}),s.jsxs("p",{children:["Invalid Ranges: ",U.reference_ranges.invalid.count]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"Defaults"}),s.jsxs("p",{children:["Sample Type Serum: ",U.suspicious_defaults.sample_type_serum.count]}),s.jsxs("p",{children:["Price Zero: ",U.suspicious_defaults.price_zero.count]}),s.jsxs("p",{children:["TAT 24h: ",U.suspicious_defaults.turnaround_time_24.count]})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"Panels"}),s.jsxs("p",{children:["Panels w/ No Tests: ",U.panels_without_tests.count]})]})]})]}),ie&&s.jsx("div",{className:de.loading,children:"Running audit..."}),X&&s.jsx("div",{className:de.error,children:X})]})}function $2({type:t,initialData:a,categories:l,onSubmit:o,onCancel:c}){const[h,f]=S.useState(a||{}),m=(y,v)=>{f(N=>({...N,[y]:v}))},p={test:[{name:"test_code",label:"Test Code",type:"text"},{name:"test_name",label:"Test Name",type:"text"},{name:"category",label:"Category",type:"select",options:l.map(y=>({value:y.id,label:y.name}))},{name:"sample_type",label:"Sample Type",type:"text"},{name:"price",label:"Price",type:"number"},{name:"turnaround_time",label:"TAT (Hours)",type:"number"}],panel:[{name:"panel_code",label:"Panel Code",type:"text"},{name:"panel_name",label:"Panel Name",type:"text"},{name:"category",label:"Category",type:"select",options:l.map(y=>({value:y.id,label:y.name}))},{name:"sample_type",label:"Sample Type",type:"text"},{name:"price",label:"Price",type:"number"},{name:"turnaround_time",label:"TAT (Hours)",type:"number"}],parameter:[{name:"parameter",label:"Parameter ID",type:"text",placeholder:"p123"},{name:"parameter_name",label:"Parameter Name",type:"text"},{name:"unit",label:"Unit",type:"text"},{name:"decimal_places",label:"Decimal Places",type:"number"}],range:[{name:"parameter",label:"Parameter ID (Test Parameter ID)",type:"number"},{name:"gender",label:"Gender",type:"select",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Both",label:"Both"}]},{name:"age_min",label:"Age Min",type:"number"},{name:"age_max",label:"Age Max",type:"number"},{name:"reference_min",label:"Normal Min",type:"number"},{name:"reference_max",label:"Normal Max",type:"number"},{name:"critical_low",label:"Critical Low",type:"number"},{name:"critical_high",label:"Critical High",type:"number"}]}[t];return s.jsxs("form",{onSubmit:y=>{y.preventDefault(),o(h)},children:[p.map(y=>s.jsxs("div",{className:de.formGroup,style:{marginBottom:"12px"},children:[s.jsx("label",{style:{display:"block",marginBottom:"4px",fontWeight:500},children:y.label}),y.type==="select"?s.jsxs("select",{value:h[y.name]||"",onChange:v=>m(y.name,v.target.value),className:de.select,style:{width:"100%"},children:[s.jsx("option",{value:"",children:"Select..."}),y.options?.map(v=>s.jsx("option",{value:v.value,children:v.label},v.value))]}):s.jsx("input",{type:y.type,value:h[y.name]||"",onChange:v=>m(y.name,v.target.value),placeholder:y.placeholder,className:de.input,style:{width:"100%",padding:"8px",border:"1px solid #e2e8f0",borderRadius:"4px"}})]},y.name)),s.jsxs("div",{className:de.modalActions,children:[s.jsx("button",{type:"button",onClick:c,className:de.cancelButton,children:"Cancel"}),s.jsx("button",{type:"submit",className:de.submitButton,children:"Save"})]})]})}function q2({onClose:t,onSuccess:a}){const[l,o]=S.useState(null),[c,h]=S.useState(!1),[f,m]=S.useState(null),[g,p]=S.useState(null),[y,v]=S.useState(null),[N,R]=S.useState([]),[b,w]=S.useState([]),[E,$]=S.useState(!0),[k,H]=S.useState(!1),A=X=>{X.target.files&&X.target.files.length>0&&(o(X.target.files[0]),m(null),R([]),w([]),v(null))},z=async()=>{try{const X=await Nt.downloadImportTemplate(),Z=window.URL.createObjectURL(X),ie=document.createElement("a");ie.href=Z,ie.setAttribute("download","LIMS_Import_Template.xlsx"),document.body.appendChild(ie),ie.click(),ie.parentNode?.removeChild(ie)}catch(X){console.error("Failed to download template",X),m("Failed to download template")}},U=async()=>{if(!l)return;h(!0),m(null),R([]),w([]),new FormData().append("file",l);try{const Z=await Nt.importCatalog(l,{strict:E,allow_defaults:k,mode:"upsert",dry_run:!0});v(Z.summary),R(Z.summary.errors||[]),w(Z.summary.warnings||[])}catch(Z){const ve=Z.response?.data;m(ve?.message||ve?.error||"Failed to upload file"),ve?.summary?.errors&&(R(ve.summary.errors),w(ve.summary.warnings||[]),v(ve.summary))}finally{h(!1)}},M=async()=>{if(!(!l||!y)){h(!0),m(null),p(null);try{new FormData().append("file",l),await Nt.importCatalog(l,{strict:E,allow_defaults:k,mode:"upsert",dry_run:!1}),p("Import applied"),setTimeout(()=>a(),1200)}catch(X){const ie=X.response?.data;m(ie?.message||ie?.error||"Import failed"),ie?.summary?.errors&&R(ie.summary.errors)}finally{h(!1)}}};return s.jsx("div",{className:de.modalOverlay,children:s.jsxs("div",{className:de.modal,children:[s.jsxs("div",{className:de.modalHeader,children:[s.jsx("h2",{children:"Bulk Import Tests"}),s.jsx("button",{onClick:t,className:de.closeButton,children:""})]}),s.jsxs("div",{className:de.modalBody,children:[s.jsxs("div",{className:de.templateSection,children:[s.jsx("p",{children:"Need a starting point? Download the Excel template."}),s.jsx("button",{onClick:z,className:de.secondaryButton,children:"Download Template"})]}),s.jsxs("div",{className:de.uploadSection,children:[s.jsx("p",{children:'Upload an Excel file (.xlsx) containing "Tests", "Parameters", "Mapping", and "ReferenceRanges" sheets.'}),s.jsx("div",{className:de.dropZone,children:s.jsx("input",{type:"file",accept:".xlsx",onChange:A,disabled:c})}),l&&s.jsxs("p",{className:de.fileName,children:["Selected file: ",l.name]})]}),s.jsxs("div",{className:de.optionsRow,children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:E,onChange:X=>$(X.target.checked)}),"Strict (required fields enforced)"]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:k,onChange:X=>H(X.target.checked)}),"Allow defaults"]})]}),f&&s.jsx("div",{className:de.error,children:f}),N.length>0&&s.jsxs("div",{className:de.validationErrors,children:[s.jsx("h4",{children:"Validation Errors:"}),s.jsxs("ul",{children:[N.slice(0,10).map((X,Z)=>s.jsxs("li",{children:["Sheet ",s.jsx("strong",{children:X.sheet}),", Row ",s.jsx("strong",{children:X.row}),", Field ",s.jsx("strong",{children:X.field}),": ",X.message]},Z)),N.length>10&&s.jsxs("li",{children:["...and ",N.length-10," more errors"]})]})]}),b.length>0&&s.jsxs("div",{className:de.validationWarnings,children:[s.jsx("h4",{children:"Warnings:"}),s.jsxs("ul",{children:[b.slice(0,10).map((X,Z)=>s.jsxs("li",{children:["Sheet ",s.jsx("strong",{children:X.sheet}),", Row ",s.jsx("strong",{children:X.row}),", Field ",s.jsx("strong",{children:X.field}),": ",X.message]},Z)),b.length>10&&s.jsxs("li",{children:["...and ",b.length-10," more warnings"]})]})]}),y&&s.jsxs("div",{className:de.summaryBox,children:[s.jsx("h4",{children:"Diff Summary"}),s.jsx("div",{className:de.summaryGrid,children:Object.entries(y.counts).map(([X,Z])=>s.jsxs("div",{children:[s.jsx("strong",{children:X}),s.jsxs("div",{children:["Created: ",Z.created]}),s.jsxs("div",{children:["Updated: ",Z.updated]}),s.jsxs("div",{children:["Unchanged: ",Z.unchanged]})]},X))})]}),g&&s.jsx("div",{className:de.success,children:g}),s.jsxs("div",{className:de.modalActions,children:[s.jsx("button",{onClick:t,disabled:c,className:de.cancelButton,children:"Cancel"}),s.jsx("button",{onClick:U,disabled:!l||c,className:de.submitButton,children:c?"Validating...":"Validate"}),s.jsx("button",{onClick:M,disabled:!l||c||N.length>0||!y,className:de.actionButton,children:c?"Applying...":"Apply"})]})]})]})})}const P2="lims:feature:",Ay=`${P2}sampleBarcode`;function ff(){return typeof window>"u"?!1:localStorage.getItem(Ay)==="true"}function H2(t){typeof window>"u"||localStorage.setItem(Ay,t?"true":"false")}const G2="_container_11a2m_1",F2="_header_11a2m_9",I2="_filters_11a2m_20",Z2="_statusFilter_11a2m_28",V2="_select_11a2m_39",Q2="_searchFilter_11a2m_47",K2="_searchInput_11a2m_52",Y2="_loading_11a2m_60",X2="_error_11a2m_61",J2="_noData_11a2m_62",W2="_table_11a2m_72",eE="_statusBadge_11a2m_100",tE="_statusPending_11a2m_109",nE="_statusCollected_11a2m_114",aE="_statusReceived_11a2m_119",sE="_statusPostponed_11a2m_129",rE="_actions_11a2m_134",lE="_actionButton_11a2m_139",iE="_rejectButton_11a2m_140",At={container:G2,header:F2,filters:I2,statusFilter:Z2,select:V2,searchFilter:Q2,searchInput:K2,loading:Y2,error:X2,noData:J2,table:W2,statusBadge:eE,statusPending:tE,statusCollected:nE,statusReceived:aE,statusPostponed:sE,actions:rE,actionButton:lE,rejectButton:iE};function oE(){const t=On(),[a,l]=S.useState(""),[o,c]=S.useState(""),{data:h,isLoading:f,error:m}=Ue({queryKey:["samples",a,o],queryFn:()=>Po.list({...a&&{status:a},...o&&{search:o}})}),g=He({mutationFn:({id:b,status:w,barcode:E,postponement_reason:$})=>Po.updateStatus(b,w,E,$),onSuccess:()=>{t.invalidateQueries({queryKey:["samples"]})}}),p=h?.results||[],y=ff(),v=(b,w)=>{if(w==="COLLECTED")if(y){const E=prompt("Enter barcode for this sample:");if(!E)return;g.mutate({id:b,status:w,barcode:E})}else g.mutate({id:b,status:w});else if(w==="POSTPONED"){const E=prompt("Enter reason for postponement:");if(!E)return;g.mutate({id:b,status:w,postponement_reason:E})}else g.mutate({id:b,status:w})},N=b=>{switch(b){case"PENDING":return At.statusPending;case"COLLECTED":return At.statusCollected;case"RECEIVED":return At.statusReceived;case"POSTPONED":return At.statusPostponed;default:return At.statusPending}},R=b=>b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase().replace("_"," "):"";return s.jsxs("div",{className:At.container,children:[s.jsx("div",{className:At.header,children:s.jsx("h1",{children:"Sample Collections"})}),s.jsxs("div",{className:At.filters,children:[s.jsxs("div",{className:At.statusFilter,children:[s.jsx("label",{children:"Status:"}),s.jsxs("select",{value:a,onChange:b=>l(b.target.value),className:At.select,children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"PENDING",children:"Pending"}),s.jsx("option",{value:"COLLECTED",children:"Collected"}),s.jsx("option",{value:"RECEIVED",children:"Received"}),s.jsx("option",{value:"POSTPONED",children:"Postponed"})]})]}),s.jsx("div",{className:At.searchFilter,children:s.jsx("input",{type:"text",placeholder:"Search by order ID, barcode, or patient name...",value:o,onChange:b=>c(b.target.value),className:At.searchInput})})]}),f?s.jsx("div",{className:At.loading,children:"Loading samples..."}):m?s.jsx("div",{className:At.error,children:"Failed to load samples"}):s.jsxs("table",{className:At.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Order ID"}),s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Sample Type"}),s.jsx("th",{children:"Barcode"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Collected At"}),s.jsx("th",{children:"Collected By"}),s.jsx("th",{children:"Actions"})]})}),s.jsxs("tbody",{children:[p.map(b=>s.jsxs("tr",{children:[s.jsx("td",{children:b.order_id}),s.jsx("td",{children:b.patient_name}),s.jsx("td",{children:b.sample_type}),s.jsx("td",{children:b.barcode||"-"}),s.jsx("td",{children:s.jsx("span",{className:`${At.statusBadge} ${N(b.status)}`,children:R(b.status)})}),s.jsx("td",{children:b.collected_at?new Date(b.collected_at).toLocaleString():"-"}),s.jsx("td",{children:b.collected_by_name||"-"}),s.jsx("td",{children:s.jsxs("div",{className:At.actions,children:[(b.status==="PENDING"||b.status==="POSTPONED")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>v(b.id,"COLLECTED"),className:At.actionButton,disabled:g.isPending,children:"Mark Collected"}),b.status!=="POSTPONED"&&s.jsx("button",{onClick:()=>v(b.id,"POSTPONED"),className:At.rejectButton,style:{backgroundColor:"#64748b"},disabled:g.isPending,children:"Postpone"})]}),b.status==="COLLECTED"&&s.jsx("button",{onClick:()=>v(b.id,"RECEIVED"),className:At.actionButton,disabled:g.isPending,children:"Mark Received"})]})})]},b.id)),p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:At.noData,children:"No samples found"})})]})]})]})}const cE="_container_1bwm4_1",uE="_header_1bwm4_11",dE="_subtitle_1bwm4_25",fE="_stats_1bwm4_31",hE="_statCard_1bwm4_37",mE="_statValue_1bwm4_46",pE="_statLabel_1bwm4_52",gE="_loading_1bwm4_57",_E="_spinner_1bwm4_72",yE="_error_1bwm4_87",vE="_emptyState_1bwm4_107",bE="_accordion_1bwm4_117",xE="_accordionItem_1bwm4_123",jE="_accordionHeader_1bwm4_134",SE="_accordionHeaderLeft_1bwm4_148",NE="_patientInfo_1bwm4_165",wE="_patientName_1bwm4_171",CE="_accordionHeaderRight_1bwm4_183",EE="_expandIcon_1bwm4_195",RE="_accordionContent_1bwm4_201",TE="_sampleList_1bwm4_207",OE="_sampleType_1bwm4_231",AE="_collectButton_1bwm4_242",DE="_modalOverlay_1bwm4_267",zE="_modalHeader_1bwm4_292",BE="_closeButton_1bwm4_307",kE="_modalBody_1bwm4_329",ME="_checklistItem_1bwm4_366",LE="_barcodeInput_1bwm4_399",UE="_generateBtn_1bwm4_421",$E="_sourceSelector_1bwm4_438",qE="_radioGroup_1bwm4_450",PE="_cancelButton_1bwm4_496",we={container:cE,header:uE,subtitle:dE,stats:fE,statCard:hE,statValue:mE,statLabel:pE,loading:gE,spinner:_E,error:yE,emptyState:vE,accordion:bE,accordionItem:xE,accordionHeader:jE,accordionHeaderLeft:SE,patientInfo:NE,patientName:wE,accordionHeaderRight:CE,expandIcon:EE,accordionContent:RE,sampleList:TE,sampleType:OE,collectButton:AE,modalOverlay:DE,modalHeader:zE,closeButton:BE,modalBody:kE,checklistItem:ME,barcodeInput:LE,generateBtn:UE,sourceSelector:$E,radioGroup:qE,cancelButton:PE},HE=({patientName:t,samples:a,onConfirm:l,onCancel:o})=>{const[c,h]=S.useState(()=>{const w={};return a.forEach(E=>w[E.id]=!0),w}),[f,m]=S.useState("lab"),[g,p]=S.useState(""),[y,v]=S.useState({}),N=ff(),R=w=>{const E=new Date().toISOString().slice(0,10).replace(/-/g,""),$=Math.floor(Math.random()*1e4);v(k=>({...k,[w]:`SAM-${E}-${$}-${w.substring(0,3).toUpperCase()}`}))},b=Object.values(c).filter(Boolean).length;return s.jsx("div",{className:we.modalOverlay,children:s.jsxs("div",{className:we.modalContent,children:[s.jsxs("div",{className:we.modalHeader,children:[s.jsx("h3",{children:"Confirm Collection"}),s.jsx("button",{onClick:o,className:we.closeButton,children:""})]}),s.jsxs("div",{className:we.modalBody,children:[s.jsxs("div",{className:we.patientSummary,children:[s.jsx("strong",{children:"Patient:"})," ",t," ",s.jsx("br",{}),s.jsxs("small",{children:["Lab ID/Order: ",a[0]?.order_id]})]}),s.jsx("h4",{children:"Select Samples to Collect"}),s.jsx("div",{className:we.checklistContainer,children:a.map(w=>s.jsxs("div",{className:we.checklistItem,children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[s.jsx("input",{type:"checkbox",checked:!!c[w.id],onChange:E=>h($=>({...$,[w.id]:E.target.checked}))}),s.jsxs("div",{children:[s.jsx("span",{className:we.sampleType,children:w.sample_type}),s.jsxs("div",{style:{fontSize:"0.8em",color:"#666"},children:["ID: ",w.id]})]})]}),N&&c[w.id]&&s.jsxs("div",{className:we.barcodeInput,children:[s.jsx("input",{type:"text",placeholder:"Barcode",value:y[w.sample_type]||"",onChange:E=>v($=>({...$,[w.sample_type]:E.target.value}))}),s.jsx("button",{type:"button",className:we.generateBtn,onClick:()=>R(w.sample_type),children:"Gen"})]})]},w.id))}),s.jsxs("div",{className:we.formSection,children:[s.jsxs("div",{className:we.sourceSelector,children:[s.jsx("h4",{children:"Collection Source"}),s.jsxs("div",{className:we.radioGroup,children:[s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"source",value:"lab",checked:f==="lab",onChange:()=>m("lab")}),"Collected in Lab"]}),s.jsxs("label",{children:[s.jsx("input",{type:"radio",name:"source",value:"home",checked:f==="home",onChange:()=>m("home")}),"Brought from Home"]})]})]}),s.jsxs("div",{className:we.commentsSection,children:[s.jsx("h4",{children:"Comments (Optional)"}),s.jsx("textarea",{className:we.remarksInput,rows:2,placeholder:"Notes...",value:g,onChange:w=>p(w.target.value)})]})]})]}),s.jsxs("div",{className:we.modalFooter,children:[s.jsx("button",{onClick:o,className:we.cancelButton,children:"Cancel"}),s.jsxs("button",{onClick:()=>{const w=a.filter(E=>c[E.id]).map(E=>E.id);w.length>0&&l({ids:w,source:f,barcodes:y,comments:g})},disabled:b===0,className:we.collectButton,children:["Confirm & Mark Received (",b,")"]})]})]})})},GE=({patientName:t,samples:a,onOpenModal:l})=>{const[o,c]=S.useState(!1),h=a[0],f=h?.order_id||"Unknown",m=h?.created_at?new Date(h.created_at).toLocaleString():"N/A",g=Array.from(new Set(a.map(p=>p.sample_type)));return s.jsxs("div",{className:we.accordionItem,children:[s.jsxs("div",{className:we.accordionHeader,onClick:()=>c(!o),children:[s.jsx("div",{className:we.accordionHeaderLeft,children:s.jsxs("div",{className:we.patientInfo,children:[s.jsx("span",{className:we.patientName,children:t}),s.jsxs("div",{className:we.metaInfo,children:[s.jsxs("span",{children:["Order #",f]}),s.jsxs("span",{children:[" Registered: ",m]}),s.jsxs("span",{children:[" ",a.length," Samples"]})]})]})}),s.jsxs("div",{className:we.accordionHeaderRight,children:[s.jsx("button",{className:we.collectActionButton,onClick:p=>{p.stopPropagation(),l()},children:"Mark Collected"}),s.jsx("span",{className:we.expandIcon,children:o?"":""})]})]}),o&&s.jsx("div",{className:we.accordionContent,children:s.jsx("div",{className:we.sampleList,children:s.jsxs("div",{className:we.detailsGrid,children:[s.jsxs("div",{className:we.detailColumn,children:[s.jsx("h4",{children:"Required Tubes/Samples"}),s.jsx("ul",{className:we.requirementsList,children:g.map(p=>{const y=a.filter(v=>v.sample_type===p).length;return s.jsxs("li",{children:[p," (x",y,")"]},p)})})]}),s.jsxs("div",{className:we.detailColumn,children:[s.jsx("h4",{children:"Tests Ordered"}),s.jsxs("div",{style:{color:"#666",fontStyle:"italic"},children:["Refer to Order #",f]})]})]})})})]})};function FE(){const t=On(),[a,l]=S.useState(null),{data:o,isLoading:c,error:h}=Ue({queryKey:["collection-worklist"],queryFn:()=>Po.getCollectionWorklist()}),f=He({mutationFn:({id:R,status:b,barcode:w,notes:E,additionalData:$})=>Po.updateStatus(R,b,w,void 0,{notes:E,...$}),onSuccess:()=>{}}),[m,g]=S.useState(""),p=o?.results||[],y=S.useMemo(()=>p.reduce((R,b)=>{const w=b.patient_name||"Unknown Patient";return R[w]||(R[w]=[]),R[w].push(b),R},{}),[p]),v=S.useMemo(()=>{if(!m)return y;const R=m.toLowerCase(),b={};return Object.entries(y).forEach(([w,E])=>{const $=w.toLowerCase().includes(R),k=E.some(A=>A.order_id?.toLowerCase().includes(R)||String(A.order).includes(R)),H=E.some(A=>String(A.id).includes(R));($||k||H)&&(b[w]=E)}),b},[y,m]),N=async R=>{if(!a)return;const b=[R.comments?`Comment: ${R.comments}`:"",`Source: ${R.source==="home"?"Home Collection":"Lab Collection"}`].filter(Boolean).join(" | ");try{const w=R.ids.map(E=>{const $=a.samples.find(H=>H.id===E),k=$?R.barcodes[$.sample_type]:void 0;return f.mutateAsync({id:E,status:"RECEIVED",barcode:k,notes:b,additionalData:{collection_source:R.source,collected_at:new Date().toISOString(),received_at:new Date().toISOString()}})});await Promise.all(w),l(null),t.invalidateQueries({queryKey:["collection-worklist"]}),t.invalidateQueries({queryKey:["samples"]}),t.invalidateQueries({queryKey:["result-worklist"]})}catch(w){console.error("Failed to update samples",w),alert("Failed to update some samples. Please try again.")}};return s.jsxs("div",{className:we.container,children:[s.jsxs("div",{className:we.header,children:[s.jsx("h1",{children:"Sample Collection Worklist"}),s.jsx("p",{className:we.subtitle,children:"Queue Management"})]}),c?s.jsxs("div",{className:we.loading,children:[s.jsx("div",{className:we.spinner}),s.jsx("p",{children:"Loading worklist..."})]}):h?s.jsxs("div",{className:we.error,children:[s.jsx("p",{children:" Failed to load worklist"}),s.jsx("button",{onClick:()=>t.invalidateQueries({queryKey:["collection-worklist"]}),children:"Retry"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:we.stats,children:[s.jsxs("div",{className:we.statCard,children:[s.jsx("div",{className:we.statValue,children:Object.keys(v).length}),s.jsx("div",{className:we.statLabel,children:"Patients Check-in"})]}),s.jsxs("div",{className:we.statCard,children:[s.jsx("div",{className:we.statValue,children:p.length}),s.jsx("div",{className:we.statLabel,children:"Total Samples"})]})]}),s.jsx("div",{className:we.searchBarContainer,style:{marginBottom:"16px"},children:s.jsx("input",{type:"text",className:we.searchInput,placeholder:" Scan Barcode or Search Patient...",value:m,onChange:R=>g(R.target.value),style:{width:"100%",padding:"12px",fontSize:"1.1em",borderRadius:"8px",border:"1px solid #ccc"},autoFocus:!0})}),p.length===0?s.jsx("div",{className:we.emptyState,children:s.jsx("p",{children:" No pending collections."})}):s.jsx("div",{className:we.accordion,children:Object.entries(v).map(([R,b])=>s.jsx(GE,{patientName:R,samples:b,onOpenModal:()=>l({patientName:R,samples:b})},R))})]}),a&&s.jsx(HE,{patientName:a.patientName,samples:a.samples,onConfirm:N,onCancel:()=>l(null)})]})}const Gr={getById:t=>K.get(`/results/${t}/`),getByOrderItem:t=>K.post("/results/ensure/",{order_item_id:t}),getWorklist:()=>K.get("/results/worklist/"),getVerificationQueue:()=>K.get("/results/verification_queue/"),ensure:t=>K.post(`/results/ensure/?order_item_id=${t}`,{}),bulkEntry:t=>K.post("/results/bulk_entry/",{results:t}),bulkVerify:t=>K.post("/results/bulk-verify/",{result_ids:t}),bulkReject:(t,a)=>K.post("/results/bulk-reject/",{result_ids:t,reason:a}),verify:t=>K.post(`/results/${t}/verify/`,{}),reject:(t,a)=>K.post(`/results/${t}/reject/`,a?{reason:a}:{})};function te(t,a,l){function o(m,g){if(m._zod||Object.defineProperty(m,"_zod",{value:{def:g,constr:f,traits:new Set},enumerable:!1}),m._zod.traits.has(t))return;m._zod.traits.add(t),a(m,g);const p=f.prototype,y=Object.keys(p);for(let v=0;v<y.length;v++){const N=y[v];N in m||(m[N]=p[N].bind(m))}}const c=l?.Parent??Object;class h extends c{}Object.defineProperty(h,"name",{value:t});function f(m){var g;const p=l?.Parent?new h:this;o(p,m),(g=p._zod).deferred??(g.deferred=[]);for(const y of p._zod.deferred)y();return p}return Object.defineProperty(f,"init",{value:o}),Object.defineProperty(f,Symbol.hasInstance,{value:m=>l?.Parent&&m instanceof l.Parent?!0:m?._zod?.traits?.has(t)}),Object.defineProperty(f,"name",{value:t}),f}class Fr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Dy extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}const zy={};function Xs(t){return zy}function By(t){const a=Object.values(t).filter(o=>typeof o=="number");return Object.entries(t).filter(([o,c])=>a.indexOf(+o)===-1).map(([o,c])=>c)}function Fd(t,a){return typeof a=="bigint"?a.toString():a}function hf(t){return{get value(){{const a=t();return Object.defineProperty(this,"value",{value:a}),a}}}}function mf(t){return t==null}function pf(t){const a=t.startsWith("^")?1:0,l=t.endsWith("$")?t.length-1:t.length;return t.slice(a,l)}function IE(t,a){const l=(t.toString().split(".")[1]||"").length,o=a.toString();let c=(o.split(".")[1]||"").length;if(c===0&&/\d?e-\d?/.test(o)){const g=o.match(/\d?e-(\d?)/);g?.[1]&&(c=Number.parseInt(g[1]))}const h=l>c?l:c,f=Number.parseInt(t.toFixed(h).replace(".","")),m=Number.parseInt(a.toFixed(h).replace(".",""));return f%m/10**h}const n_=Symbol("evaluating");function at(t,a,l){let o;Object.defineProperty(t,a,{get(){if(o!==n_)return o===void 0&&(o=n_,o=l()),o},set(c){Object.defineProperty(t,a,{value:c})},configurable:!0})}function er(t,a,l){Object.defineProperty(t,a,{value:l,writable:!0,enumerable:!0,configurable:!0})}function xs(...t){const a={};for(const l of t){const o=Object.getOwnPropertyDescriptors(l);Object.assign(a,o)}return Object.defineProperties({},a)}function a_(t){return JSON.stringify(t)}function ZE(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const ky="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Ho(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const VE=hf(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ai(t){if(Ho(t)===!1)return!1;const a=t.constructor;if(a===void 0||typeof a!="function")return!0;const l=a.prototype;return!(Ho(l)===!1||Object.prototype.hasOwnProperty.call(l,"isPrototypeOf")===!1)}function My(t){return ai(t)?{...t}:Array.isArray(t)?[...t]:t}const QE=new Set(["string","number","symbol"]);function Wo(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function js(t,a,l){const o=new t._zod.constr(a??t._zod.def);return(!a||l?.parent)&&(o._zod.parent=t),o}function je(t){const a=t;if(!a)return{};if(typeof a=="string")return{error:()=>a};if(a?.message!==void 0){if(a?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");a.error=a.message}return delete a.message,typeof a.error=="string"?{...a,error:()=>a.error}:a}function KE(t){return Object.keys(t).filter(a=>t[a]._zod.optin==="optional"&&t[a]._zod.optout==="optional")}const YE={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function XE(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const h=xs(t._zod.def,{get shape(){const f={};for(const m in a){if(!(m in l.shape))throw new Error(`Unrecognized key: "${m}"`);a[m]&&(f[m]=l.shape[m])}return er(this,"shape",f),f},checks:[]});return js(t,h)}function JE(t,a){const l=t._zod.def,o=l.checks;if(o&&o.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const h=xs(t._zod.def,{get shape(){const f={...t._zod.def.shape};for(const m in a){if(!(m in l.shape))throw new Error(`Unrecognized key: "${m}"`);a[m]&&delete f[m]}return er(this,"shape",f),f},checks:[]});return js(t,h)}function WE(t,a){if(!ai(a))throw new Error("Invalid input to extend: expected a plain object");const l=t._zod.def.checks;if(l&&l.length>0){const h=t._zod.def.shape;for(const f in a)if(Object.getOwnPropertyDescriptor(h,f)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const c=xs(t._zod.def,{get shape(){const h={...t._zod.def.shape,...a};return er(this,"shape",h),h}});return js(t,c)}function eR(t,a){if(!ai(a))throw new Error("Invalid input to safeExtend: expected a plain object");const l=xs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a};return er(this,"shape",o),o}});return js(t,l)}function tR(t,a){const l=xs(t._zod.def,{get shape(){const o={...t._zod.def.shape,...a._zod.def.shape};return er(this,"shape",o),o},get catchall(){return a._zod.def.catchall},checks:[]});return js(t,l)}function nR(t,a,l){const c=a._zod.def.checks;if(c&&c.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const f=xs(a._zod.def,{get shape(){const m=a._zod.def.shape,g={...m};if(l)for(const p in l){if(!(p in m))throw new Error(`Unrecognized key: "${p}"`);l[p]&&(g[p]=t?new t({type:"optional",innerType:m[p]}):m[p])}else for(const p in m)g[p]=t?new t({type:"optional",innerType:m[p]}):m[p];return er(this,"shape",g),g},checks:[]});return js(a,f)}function aR(t,a,l){const o=xs(a._zod.def,{get shape(){const c=a._zod.def.shape,h={...c};if(l)for(const f in l){if(!(f in h))throw new Error(`Unrecognized key: "${f}"`);l[f]&&(h[f]=new t({type:"nonoptional",innerType:c[f]}))}else for(const f in c)h[f]=new t({type:"nonoptional",innerType:c[f]});return er(this,"shape",h),h}});return js(a,o)}function Hr(t,a=0){if(t.aborted===!0)return!0;for(let l=a;l<t.issues.length;l++)if(t.issues[l]?.continue!==!0)return!0;return!1}function Ly(t,a){return a.map(l=>{var o;return(o=l).path??(o.path=[]),l.path.unshift(t),l})}function To(t){return typeof t=="string"?t:t?.message}function Js(t,a,l){const o={...t,path:t.path??[]};if(!t.message){const c=To(t.inst?._zod.def?.error?.(t))??To(a?.error?.(t))??To(l.customError?.(t))??To(l.localeError?.(t))??"Invalid input";o.message=c}return delete o.inst,delete o.continue,a?.reportInput||delete o.input,o}function gf(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function si(...t){const[a,l,o]=t;return typeof a=="string"?{message:a,code:"custom",input:l,inst:o}:{...a}}const Uy=(t,a)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:a,enumerable:!1}),t.message=JSON.stringify(a,Fd,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},$y=te("$ZodError",Uy),qy=te("$ZodError",Uy,{Parent:Error});function sR(t,a=l=>l.message){const l={},o=[];for(const c of t.issues)c.path.length>0?(l[c.path[0]]=l[c.path[0]]||[],l[c.path[0]].push(a(c))):o.push(a(c));return{formErrors:o,fieldErrors:l}}function rR(t,a=l=>l.message){const l={_errors:[]},o=c=>{for(const h of c.issues)if(h.code==="invalid_union"&&h.errors.length)h.errors.map(f=>o({issues:f}));else if(h.code==="invalid_key")o({issues:h.issues});else if(h.code==="invalid_element")o({issues:h.issues});else if(h.path.length===0)l._errors.push(a(h));else{let f=l,m=0;for(;m<h.path.length;){const g=h.path[m];m===h.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(a(h))):f[g]=f[g]||{_errors:[]},f=f[g],m++}}};return o(t),l}const _f=t=>(a,l,o,c)=>{const h=o?Object.assign(o,{async:!1}):{async:!1},f=a._zod.run({value:l,issues:[]},h);if(f instanceof Promise)throw new Fr;if(f.issues.length){const m=new(c?.Err??t)(f.issues.map(g=>Js(g,h,Xs())));throw ky(m,c?.callee),m}return f.value},yf=t=>async(a,l,o,c)=>{const h=o?Object.assign(o,{async:!0}):{async:!0};let f=a._zod.run({value:l,issues:[]},h);if(f instanceof Promise&&(f=await f),f.issues.length){const m=new(c?.Err??t)(f.issues.map(g=>Js(g,h,Xs())));throw ky(m,c?.callee),m}return f.value},ec=t=>(a,l,o)=>{const c=o?{...o,async:!1}:{async:!1},h=a._zod.run({value:l,issues:[]},c);if(h instanceof Promise)throw new Fr;return h.issues.length?{success:!1,error:new(t??$y)(h.issues.map(f=>Js(f,c,Xs())))}:{success:!0,data:h.value}},lR=ec(qy),tc=t=>async(a,l,o)=>{const c=o?Object.assign(o,{async:!0}):{async:!0};let h=a._zod.run({value:l,issues:[]},c);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new t(h.issues.map(f=>Js(f,c,Xs())))}:{success:!0,data:h.value}},iR=tc(qy),oR=t=>(a,l,o)=>{const c=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return _f(t)(a,l,c)},cR=t=>(a,l,o)=>_f(t)(a,l,o),uR=t=>async(a,l,o)=>{const c=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return yf(t)(a,l,c)},dR=t=>async(a,l,o)=>yf(t)(a,l,o),fR=t=>(a,l,o)=>{const c=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ec(t)(a,l,c)},hR=t=>(a,l,o)=>ec(t)(a,l,o),mR=t=>async(a,l,o)=>{const c=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return tc(t)(a,l,c)},pR=t=>async(a,l,o)=>tc(t)(a,l,o),gR=/^[cC][^\s-]{8,}$/,_R=/^[0-9a-z]+$/,yR=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,vR=/^[0-9a-vA-V]{20}$/,bR=/^[A-Za-z0-9]{27}$/,xR=/^[a-zA-Z0-9_-]{21}$/,jR=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,SR=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,s_=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,NR=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,wR="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function CR(){return new RegExp(wR,"u")}const ER=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,TR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,OR=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,AR=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Py=/^[A-Za-z0-9_-]*$/,DR=/^\+[1-9]\d{6,14}$/,Hy="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zR=new RegExp(`^${Hy}$`);function Gy(t){const a="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${a}`:t.precision===0?`${a}:[0-5]\\d`:`${a}:[0-5]\\d\\.\\d{${t.precision}}`:`${a}(?::[0-5]\\d(?:\\.\\d+)?)?`}function BR(t){return new RegExp(`^${Gy(t)}$`)}function kR(t){const a=Gy({precision:t.precision}),l=["Z"];t.local&&l.push(""),t.offset&&l.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const o=`${a}(?:${l.join("|")})`;return new RegExp(`^${Hy}T(?:${o})$`)}const MR=t=>{const a=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${a}$`)},LR=/^-?\d+$/,UR=/^-?\d+(?:\.\d+)?$/,$R=/^(?:true|false)$/i,qR=/^[^A-Z]*$/,PR=/^[^a-z]*$/,vn=te("$ZodCheck",(t,a)=>{var l;t._zod??(t._zod={}),t._zod.def=a,(l=t._zod).onattach??(l.onattach=[])}),Fy={number:"number",bigint:"bigint",object:"date"},Iy=te("$ZodCheckLessThan",(t,a)=>{vn.init(t,a);const l=Fy[typeof a.value];t._zod.onattach.push(o=>{const c=o._zod.bag,h=(a.inclusive?c.maximum:c.exclusiveMaximum)??Number.POSITIVE_INFINITY;a.value<h&&(a.inclusive?c.maximum=a.value:c.exclusiveMaximum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value<=a.value:o.value<a.value)||o.issues.push({origin:l,code:"too_big",maximum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),Zy=te("$ZodCheckGreaterThan",(t,a)=>{vn.init(t,a);const l=Fy[typeof a.value];t._zod.onattach.push(o=>{const c=o._zod.bag,h=(a.inclusive?c.minimum:c.exclusiveMinimum)??Number.NEGATIVE_INFINITY;a.value>h&&(a.inclusive?c.minimum=a.value:c.exclusiveMinimum=a.value)}),t._zod.check=o=>{(a.inclusive?o.value>=a.value:o.value>a.value)||o.issues.push({origin:l,code:"too_small",minimum:typeof a.value=="object"?a.value.getTime():a.value,input:o.value,inclusive:a.inclusive,inst:t,continue:!a.abort})}}),HR=te("$ZodCheckMultipleOf",(t,a)=>{vn.init(t,a),t._zod.onattach.push(l=>{var o;(o=l._zod.bag).multipleOf??(o.multipleOf=a.value)}),t._zod.check=l=>{if(typeof l.value!=typeof a.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof l.value=="bigint"?l.value%a.value===BigInt(0):IE(l.value,a.value)===0)||l.issues.push({origin:typeof l.value,code:"not_multiple_of",divisor:a.value,input:l.value,inst:t,continue:!a.abort})}}),GR=te("$ZodCheckNumberFormat",(t,a)=>{vn.init(t,a),a.format=a.format||"float64";const l=a.format?.includes("int"),o=l?"int":"number",[c,h]=YE[a.format];t._zod.onattach.push(f=>{const m=f._zod.bag;m.format=a.format,m.minimum=c,m.maximum=h,l&&(m.pattern=LR)}),t._zod.check=f=>{const m=f.value;if(l){if(!Number.isInteger(m)){f.issues.push({expected:o,format:a.format,code:"invalid_type",continue:!1,input:m,inst:t});return}if(!Number.isSafeInteger(m)){m>0?f.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort}):f.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:o,inclusive:!0,continue:!a.abort});return}}m<c&&f.issues.push({origin:"number",input:m,code:"too_small",minimum:c,inclusive:!0,inst:t,continue:!a.abort}),m>h&&f.issues.push({origin:"number",input:m,code:"too_big",maximum:h,inclusive:!0,inst:t,continue:!a.abort})}}),FR=te("$ZodCheckMaxLength",(t,a)=>{var l;vn.init(t,a),(l=t._zod.def).when??(l.when=o=>{const c=o.value;return!mf(c)&&c.length!==void 0}),t._zod.onattach.push(o=>{const c=o._zod.bag.maximum??Number.POSITIVE_INFINITY;a.maximum<c&&(o._zod.bag.maximum=a.maximum)}),t._zod.check=o=>{const c=o.value;if(c.length<=a.maximum)return;const f=gf(c);o.issues.push({origin:f,code:"too_big",maximum:a.maximum,inclusive:!0,input:c,inst:t,continue:!a.abort})}}),IR=te("$ZodCheckMinLength",(t,a)=>{var l;vn.init(t,a),(l=t._zod.def).when??(l.when=o=>{const c=o.value;return!mf(c)&&c.length!==void 0}),t._zod.onattach.push(o=>{const c=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;a.minimum>c&&(o._zod.bag.minimum=a.minimum)}),t._zod.check=o=>{const c=o.value;if(c.length>=a.minimum)return;const f=gf(c);o.issues.push({origin:f,code:"too_small",minimum:a.minimum,inclusive:!0,input:c,inst:t,continue:!a.abort})}}),ZR=te("$ZodCheckLengthEquals",(t,a)=>{var l;vn.init(t,a),(l=t._zod.def).when??(l.when=o=>{const c=o.value;return!mf(c)&&c.length!==void 0}),t._zod.onattach.push(o=>{const c=o._zod.bag;c.minimum=a.length,c.maximum=a.length,c.length=a.length}),t._zod.check=o=>{const c=o.value,h=c.length;if(h===a.length)return;const f=gf(c),m=h>a.length;o.issues.push({origin:f,...m?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},inclusive:!0,exact:!0,input:o.value,inst:t,continue:!a.abort})}}),nc=te("$ZodCheckStringFormat",(t,a)=>{var l,o;vn.init(t,a),t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=a.format,a.pattern&&(h.patterns??(h.patterns=new Set),h.patterns.add(a.pattern))}),a.pattern?(l=t._zod).check??(l.check=c=>{a.pattern.lastIndex=0,!a.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:a.format,input:c.value,...a.pattern?{pattern:a.pattern.toString()}:{},inst:t,continue:!a.abort})}):(o=t._zod).check??(o.check=()=>{})}),VR=te("$ZodCheckRegex",(t,a)=>{nc.init(t,a),t._zod.check=l=>{a.pattern.lastIndex=0,!a.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:"regex",input:l.value,pattern:a.pattern.toString(),inst:t,continue:!a.abort})}}),QR=te("$ZodCheckLowerCase",(t,a)=>{a.pattern??(a.pattern=qR),nc.init(t,a)}),KR=te("$ZodCheckUpperCase",(t,a)=>{a.pattern??(a.pattern=PR),nc.init(t,a)}),YR=te("$ZodCheckIncludes",(t,a)=>{vn.init(t,a);const l=Wo(a.includes),o=new RegExp(typeof a.position=="number"?`^.{${a.position}}${l}`:l);a.pattern=o,t._zod.onattach.push(c=>{const h=c._zod.bag;h.patterns??(h.patterns=new Set),h.patterns.add(o)}),t._zod.check=c=>{c.value.includes(a.includes,a.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:a.includes,input:c.value,inst:t,continue:!a.abort})}}),XR=te("$ZodCheckStartsWith",(t,a)=>{vn.init(t,a);const l=new RegExp(`^${Wo(a.prefix)}.*`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(l)}),t._zod.check=o=>{o.value.startsWith(a.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:a.prefix,input:o.value,inst:t,continue:!a.abort})}}),JR=te("$ZodCheckEndsWith",(t,a)=>{vn.init(t,a);const l=new RegExp(`.*${Wo(a.suffix)}$`);a.pattern??(a.pattern=l),t._zod.onattach.push(o=>{const c=o._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(l)}),t._zod.check=o=>{o.value.endsWith(a.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:a.suffix,input:o.value,inst:t,continue:!a.abort})}}),WR=te("$ZodCheckOverwrite",(t,a)=>{vn.init(t,a),t._zod.check=l=>{l.value=a.tx(l.value)}});class eT{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if(typeof a=="function"){a(this,{execution:"sync"}),a(this,{execution:"async"});return}const o=a.split(`
`).filter(f=>f),c=Math.min(...o.map(f=>f.length-f.trimStart().length)),h=o.map(f=>f.slice(c)).map(f=>" ".repeat(this.indent*2)+f);for(const f of h)this.content.push(f)}compile(){const a=Function,l=this?.args,c=[...(this?.content??[""]).map(h=>`  ${h}`)];return new a(...l,c.join(`
`))}}const tT={major:4,minor:3,patch:6},zt=te("$ZodType",(t,a)=>{var l;t??(t={}),t._zod.def=a,t._zod.bag=t._zod.bag||{},t._zod.version=tT;const o=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&o.unshift(t);for(const c of o)for(const h of c._zod.onattach)h(t);if(o.length===0)(l=t._zod).deferred??(l.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const c=(f,m,g)=>{let p=Hr(f),y;for(const v of m){if(v._zod.def.when){if(!v._zod.def.when(f))continue}else if(p)continue;const N=f.issues.length,R=v._zod.check(f);if(R instanceof Promise&&g?.async===!1)throw new Fr;if(y||R instanceof Promise)y=(y??Promise.resolve()).then(async()=>{await R,f.issues.length!==N&&(p||(p=Hr(f,N)))});else{if(f.issues.length===N)continue;p||(p=Hr(f,N))}}return y?y.then(()=>f):f},h=(f,m,g)=>{if(Hr(f))return f.aborted=!0,f;const p=c(m,o,g);if(p instanceof Promise){if(g.async===!1)throw new Fr;return p.then(y=>t._zod.parse(y,g))}return t._zod.parse(p,g)};t._zod.run=(f,m)=>{if(m.skipChecks)return t._zod.parse(f,m);if(m.direction==="backward"){const p=t._zod.parse({value:f.value,issues:[]},{...m,skipChecks:!0});return p instanceof Promise?p.then(y=>h(y,f,m)):h(p,f,m)}const g=t._zod.parse(f,m);if(g instanceof Promise){if(m.async===!1)throw new Fr;return g.then(p=>c(p,o,m))}return c(g,o,m)}}at(t,"~standard",()=>({validate:c=>{try{const h=lR(t,c);return h.success?{value:h.data}:{issues:h.error?.issues}}catch{return iR(t,c).then(f=>f.success?{value:f.data}:{issues:f.error?.issues})}},vendor:"zod",version:1}))}),vf=te("$ZodString",(t,a)=>{zt.init(t,a),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??MR(t._zod.bag),t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:t}),l}}),vt=te("$ZodStringFormat",(t,a)=>{nc.init(t,a),vf.init(t,a)}),nT=te("$ZodGUID",(t,a)=>{a.pattern??(a.pattern=SR),vt.init(t,a)}),aT=te("$ZodUUID",(t,a)=>{if(a.version){const o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[a.version];if(o===void 0)throw new Error(`Invalid UUID version: "${a.version}"`);a.pattern??(a.pattern=s_(o))}else a.pattern??(a.pattern=s_());vt.init(t,a)}),sT=te("$ZodEmail",(t,a)=>{a.pattern??(a.pattern=NR),vt.init(t,a)}),rT=te("$ZodURL",(t,a)=>{vt.init(t,a),t._zod.check=l=>{try{const o=l.value.trim(),c=new URL(o);a.hostname&&(a.hostname.lastIndex=0,a.hostname.test(c.hostname)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:a.hostname.source,input:l.value,inst:t,continue:!a.abort})),a.protocol&&(a.protocol.lastIndex=0,a.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||l.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:a.protocol.source,input:l.value,inst:t,continue:!a.abort})),a.normalize?l.value=c.href:l.value=o;return}catch{l.issues.push({code:"invalid_format",format:"url",input:l.value,inst:t,continue:!a.abort})}}}),lT=te("$ZodEmoji",(t,a)=>{a.pattern??(a.pattern=CR()),vt.init(t,a)}),iT=te("$ZodNanoID",(t,a)=>{a.pattern??(a.pattern=xR),vt.init(t,a)}),oT=te("$ZodCUID",(t,a)=>{a.pattern??(a.pattern=gR),vt.init(t,a)}),cT=te("$ZodCUID2",(t,a)=>{a.pattern??(a.pattern=_R),vt.init(t,a)}),uT=te("$ZodULID",(t,a)=>{a.pattern??(a.pattern=yR),vt.init(t,a)}),dT=te("$ZodXID",(t,a)=>{a.pattern??(a.pattern=vR),vt.init(t,a)}),fT=te("$ZodKSUID",(t,a)=>{a.pattern??(a.pattern=bR),vt.init(t,a)}),hT=te("$ZodISODateTime",(t,a)=>{a.pattern??(a.pattern=kR(a)),vt.init(t,a)}),mT=te("$ZodISODate",(t,a)=>{a.pattern??(a.pattern=zR),vt.init(t,a)}),pT=te("$ZodISOTime",(t,a)=>{a.pattern??(a.pattern=BR(a)),vt.init(t,a)}),gT=te("$ZodISODuration",(t,a)=>{a.pattern??(a.pattern=jR),vt.init(t,a)}),_T=te("$ZodIPv4",(t,a)=>{a.pattern??(a.pattern=ER),vt.init(t,a),t._zod.bag.format="ipv4"}),yT=te("$ZodIPv6",(t,a)=>{a.pattern??(a.pattern=RR),vt.init(t,a),t._zod.bag.format="ipv6",t._zod.check=l=>{try{new URL(`http://[${l.value}]`)}catch{l.issues.push({code:"invalid_format",format:"ipv6",input:l.value,inst:t,continue:!a.abort})}}}),vT=te("$ZodCIDRv4",(t,a)=>{a.pattern??(a.pattern=TR),vt.init(t,a)}),bT=te("$ZodCIDRv6",(t,a)=>{a.pattern??(a.pattern=OR),vt.init(t,a),t._zod.check=l=>{const o=l.value.split("/");try{if(o.length!==2)throw new Error;const[c,h]=o;if(!h)throw new Error;const f=Number(h);if(`${f}`!==h)throw new Error;if(f<0||f>128)throw new Error;new URL(`http://[${c}]`)}catch{l.issues.push({code:"invalid_format",format:"cidrv6",input:l.value,inst:t,continue:!a.abort})}}});function Vy(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const xT=te("$ZodBase64",(t,a)=>{a.pattern??(a.pattern=AR),vt.init(t,a),t._zod.bag.contentEncoding="base64",t._zod.check=l=>{Vy(l.value)||l.issues.push({code:"invalid_format",format:"base64",input:l.value,inst:t,continue:!a.abort})}});function jT(t){if(!Py.test(t))return!1;const a=t.replace(/[-_]/g,o=>o==="-"?"+":"/"),l=a.padEnd(Math.ceil(a.length/4)*4,"=");return Vy(l)}const ST=te("$ZodBase64URL",(t,a)=>{a.pattern??(a.pattern=Py),vt.init(t,a),t._zod.bag.contentEncoding="base64url",t._zod.check=l=>{jT(l.value)||l.issues.push({code:"invalid_format",format:"base64url",input:l.value,inst:t,continue:!a.abort})}}),NT=te("$ZodE164",(t,a)=>{a.pattern??(a.pattern=DR),vt.init(t,a)});function wT(t,a=null){try{const l=t.split(".");if(l.length!==3)return!1;const[o]=l;if(!o)return!1;const c=JSON.parse(atob(o));return!("typ"in c&&c?.typ!=="JWT"||!c.alg||a&&(!("alg"in c)||c.alg!==a))}catch{return!1}}const CT=te("$ZodJWT",(t,a)=>{vt.init(t,a),t._zod.check=l=>{wT(l.value,a.alg)||l.issues.push({code:"invalid_format",format:"jwt",input:l.value,inst:t,continue:!a.abort})}}),Qy=te("$ZodNumber",(t,a)=>{zt.init(t,a),t._zod.pattern=t._zod.bag.pattern??UR,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=Number(l.value)}catch{}const c=l.value;if(typeof c=="number"&&!Number.isNaN(c)&&Number.isFinite(c))return l;const h=typeof c=="number"?Number.isNaN(c)?"NaN":Number.isFinite(c)?void 0:"Infinity":void 0;return l.issues.push({expected:"number",code:"invalid_type",input:c,inst:t,...h?{received:h}:{}}),l}}),ET=te("$ZodNumberFormat",(t,a)=>{GR.init(t,a),Qy.init(t,a)}),RT=te("$ZodBoolean",(t,a)=>{zt.init(t,a),t._zod.pattern=$R,t._zod.parse=(l,o)=>{if(a.coerce)try{l.value=!!l.value}catch{}const c=l.value;return typeof c=="boolean"||l.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:t}),l}}),TT=te("$ZodUnknown",(t,a)=>{zt.init(t,a),t._zod.parse=l=>l}),OT=te("$ZodNever",(t,a)=>{zt.init(t,a),t._zod.parse=(l,o)=>(l.issues.push({expected:"never",code:"invalid_type",input:l.value,inst:t}),l)});function r_(t,a,l){t.issues.length&&a.issues.push(...Ly(l,t.issues)),a.value[l]=t.value}const AT=te("$ZodArray",(t,a)=>{zt.init(t,a),t._zod.parse=(l,o)=>{const c=l.value;if(!Array.isArray(c))return l.issues.push({expected:"array",code:"invalid_type",input:c,inst:t}),l;l.value=Array(c.length);const h=[];for(let f=0;f<c.length;f++){const m=c[f],g=a.element._zod.run({value:m,issues:[]},o);g instanceof Promise?h.push(g.then(p=>r_(p,l,f))):r_(g,l,f)}return h.length?Promise.all(h).then(()=>l):l}});function Go(t,a,l,o,c){if(t.issues.length){if(c&&!(l in o))return;a.issues.push(...Ly(l,t.issues))}t.value===void 0?l in o&&(a.value[l]=void 0):a.value[l]=t.value}function Ky(t){const a=Object.keys(t.shape);for(const o of a)if(!t.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const l=KE(t.shape);return{...t,keys:a,keySet:new Set(a),numKeys:a.length,optionalKeys:new Set(l)}}function Yy(t,a,l,o,c,h){const f=[],m=c.keySet,g=c.catchall._zod,p=g.def.type,y=g.optout==="optional";for(const v in a){if(m.has(v))continue;if(p==="never"){f.push(v);continue}const N=g.run({value:a[v],issues:[]},o);N instanceof Promise?t.push(N.then(R=>Go(R,l,v,a,y))):Go(N,l,v,a,y)}return f.length&&l.issues.push({code:"unrecognized_keys",keys:f,input:a,inst:h}),t.length?Promise.all(t).then(()=>l):l}const DT=te("$ZodObject",(t,a)=>{if(zt.init(t,a),!Object.getOwnPropertyDescriptor(a,"shape")?.get){const m=a.shape;Object.defineProperty(a,"shape",{get:()=>{const g={...m};return Object.defineProperty(a,"shape",{value:g}),g}})}const o=hf(()=>Ky(a));at(t._zod,"propValues",()=>{const m=a.shape,g={};for(const p in m){const y=m[p]._zod;if(y.values){g[p]??(g[p]=new Set);for(const v of y.values)g[p].add(v)}}return g});const c=Ho,h=a.catchall;let f;t._zod.parse=(m,g)=>{f??(f=o.value);const p=m.value;if(!c(p))return m.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),m;m.value={};const y=[],v=f.shape;for(const N of f.keys){const R=v[N],b=R._zod.optout==="optional",w=R._zod.run({value:p[N],issues:[]},g);w instanceof Promise?y.push(w.then(E=>Go(E,m,N,p,b))):Go(w,m,N,p,b)}return h?Yy(y,p,m,g,o.value,t):y.length?Promise.all(y).then(()=>m):m}}),zT=te("$ZodObjectJIT",(t,a)=>{DT.init(t,a);const l=t._zod.parse,o=hf(()=>Ky(a)),c=N=>{const R=new eT(["shape","payload","ctx"]),b=o.value,w=H=>{const A=a_(H);return`shape[${A}]._zod.run({ value: input[${A}], issues: [] }, ctx)`};R.write("const input = payload.value;");const E=Object.create(null);let $=0;for(const H of b.keys)E[H]=`key_${$++}`;R.write("const newResult = {};");for(const H of b.keys){const A=E[H],z=a_(H),M=N[H]?._zod?.optout==="optional";R.write(`const ${A} = ${w(H)};`),M?R.write(`
        if (${A}.issues.length) {
          if (${z} in input) {
            payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${z}, ...iss.path] : [${z}]
            })));
          }
        }
        
        if (${A}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${A}.value;
        }
        
      `):R.write(`
        if (${A}.issues.length) {
          payload.issues = payload.issues.concat(${A}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        if (${A}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${A}.value;
        }
        
      `)}R.write("payload.value = newResult;"),R.write("return payload;");const k=R.compile();return(H,A)=>k(N,H,A)};let h;const f=Ho,m=!zy.jitless,p=m&&VE.value,y=a.catchall;let v;t._zod.parse=(N,R)=>{v??(v=o.value);const b=N.value;return f(b)?m&&p&&R?.async===!1&&R.jitless!==!0?(h||(h=c(a.shape)),N=h(N,R),y?Yy([],b,N,R,v,t):N):l(N,R):(N.issues.push({expected:"object",code:"invalid_type",input:b,inst:t}),N)}});function l_(t,a,l,o){for(const h of t)if(h.issues.length===0)return a.value=h.value,a;const c=t.filter(h=>!Hr(h));return c.length===1?(a.value=c[0].value,c[0]):(a.issues.push({code:"invalid_union",input:a.value,inst:l,errors:t.map(h=>h.issues.map(f=>Js(f,o,Xs())))}),a)}const BT=te("$ZodUnion",(t,a)=>{zt.init(t,a),at(t._zod,"optin",()=>a.options.some(c=>c._zod.optin==="optional")?"optional":void 0),at(t._zod,"optout",()=>a.options.some(c=>c._zod.optout==="optional")?"optional":void 0),at(t._zod,"values",()=>{if(a.options.every(c=>c._zod.values))return new Set(a.options.flatMap(c=>Array.from(c._zod.values)))}),at(t._zod,"pattern",()=>{if(a.options.every(c=>c._zod.pattern)){const c=a.options.map(h=>h._zod.pattern);return new RegExp(`^(${c.map(h=>pf(h.source)).join("|")})$`)}});const l=a.options.length===1,o=a.options[0]._zod.run;t._zod.parse=(c,h)=>{if(l)return o(c,h);let f=!1;const m=[];for(const g of a.options){const p=g._zod.run({value:c.value,issues:[]},h);if(p instanceof Promise)m.push(p),f=!0;else{if(p.issues.length===0)return p;m.push(p)}}return f?Promise.all(m).then(g=>l_(g,c,t,h)):l_(m,c,t,h)}}),kT=te("$ZodIntersection",(t,a)=>{zt.init(t,a),t._zod.parse=(l,o)=>{const c=l.value,h=a.left._zod.run({value:c,issues:[]},o),f=a.right._zod.run({value:c,issues:[]},o);return h instanceof Promise||f instanceof Promise?Promise.all([h,f]).then(([g,p])=>i_(l,g,p)):i_(l,h,f)}});function Id(t,a){if(t===a)return{valid:!0,data:t};if(t instanceof Date&&a instanceof Date&&+t==+a)return{valid:!0,data:t};if(ai(t)&&ai(a)){const l=Object.keys(a),o=Object.keys(t).filter(h=>l.indexOf(h)!==-1),c={...t,...a};for(const h of o){const f=Id(t[h],a[h]);if(!f.valid)return{valid:!1,mergeErrorPath:[h,...f.mergeErrorPath]};c[h]=f.data}return{valid:!0,data:c}}if(Array.isArray(t)&&Array.isArray(a)){if(t.length!==a.length)return{valid:!1,mergeErrorPath:[]};const l=[];for(let o=0;o<t.length;o++){const c=t[o],h=a[o],f=Id(c,h);if(!f.valid)return{valid:!1,mergeErrorPath:[o,...f.mergeErrorPath]};l.push(f.data)}return{valid:!0,data:l}}return{valid:!1,mergeErrorPath:[]}}function i_(t,a,l){const o=new Map;let c;for(const m of a.issues)if(m.code==="unrecognized_keys"){c??(c=m);for(const g of m.keys)o.has(g)||o.set(g,{}),o.get(g).l=!0}else t.issues.push(m);for(const m of l.issues)if(m.code==="unrecognized_keys")for(const g of m.keys)o.has(g)||o.set(g,{}),o.get(g).r=!0;else t.issues.push(m);const h=[...o].filter(([,m])=>m.l&&m.r).map(([m])=>m);if(h.length&&c&&t.issues.push({...c,keys:h}),Hr(t))return t;const f=Id(a.value,l.value);if(!f.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(f.mergeErrorPath)}`);return t.value=f.data,t}const MT=te("$ZodEnum",(t,a)=>{zt.init(t,a);const l=By(a.entries),o=new Set(l);t._zod.values=o,t._zod.pattern=new RegExp(`^(${l.filter(c=>QE.has(typeof c)).map(c=>typeof c=="string"?Wo(c):c.toString()).join("|")})$`),t._zod.parse=(c,h)=>{const f=c.value;return o.has(f)||c.issues.push({code:"invalid_value",values:l,input:f,inst:t}),c}}),LT=te("$ZodTransform",(t,a)=>{zt.init(t,a),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Dy(t.constructor.name);const c=a.transform(l.value,l);if(o.async)return(c instanceof Promise?c:Promise.resolve(c)).then(f=>(l.value=f,l));if(c instanceof Promise)throw new Fr;return l.value=c,l}});function o_(t,a){return t.issues.length&&a===void 0?{issues:[],value:void 0}:t}const Xy=te("$ZodOptional",(t,a)=>{zt.init(t,a),t._zod.optin="optional",t._zod.optout="optional",at(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,void 0]):void 0),at(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${pf(l.source)})?$`):void 0}),t._zod.parse=(l,o)=>{if(a.innerType._zod.optin==="optional"){const c=a.innerType._zod.run(l,o);return c instanceof Promise?c.then(h=>o_(h,l.value)):o_(c,l.value)}return l.value===void 0?l:a.innerType._zod.run(l,o)}}),UT=te("$ZodExactOptional",(t,a)=>{Xy.init(t,a),at(t._zod,"values",()=>a.innerType._zod.values),at(t._zod,"pattern",()=>a.innerType._zod.pattern),t._zod.parse=(l,o)=>a.innerType._zod.run(l,o)}),$T=te("$ZodNullable",(t,a)=>{zt.init(t,a),at(t._zod,"optin",()=>a.innerType._zod.optin),at(t._zod,"optout",()=>a.innerType._zod.optout),at(t._zod,"pattern",()=>{const l=a.innerType._zod.pattern;return l?new RegExp(`^(${pf(l.source)}|null)$`):void 0}),at(t._zod,"values",()=>a.innerType._zod.values?new Set([...a.innerType._zod.values,null]):void 0),t._zod.parse=(l,o)=>l.value===null?l:a.innerType._zod.run(l,o)}),qT=te("$ZodDefault",(t,a)=>{zt.init(t,a),t._zod.optin="optional",at(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);if(l.value===void 0)return l.value=a.defaultValue,l;const c=a.innerType._zod.run(l,o);return c instanceof Promise?c.then(h=>c_(h,a)):c_(c,a)}});function c_(t,a){return t.value===void 0&&(t.value=a.defaultValue),t}const PT=te("$ZodPrefault",(t,a)=>{zt.init(t,a),t._zod.optin="optional",at(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>(o.direction==="backward"||l.value===void 0&&(l.value=a.defaultValue),a.innerType._zod.run(l,o))}),HT=te("$ZodNonOptional",(t,a)=>{zt.init(t,a),at(t._zod,"values",()=>{const l=a.innerType._zod.values;return l?new Set([...l].filter(o=>o!==void 0)):void 0}),t._zod.parse=(l,o)=>{const c=a.innerType._zod.run(l,o);return c instanceof Promise?c.then(h=>u_(h,t)):u_(c,t)}});function u_(t,a){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:a}),t}const GT=te("$ZodCatch",(t,a)=>{zt.init(t,a),at(t._zod,"optin",()=>a.innerType._zod.optin),at(t._zod,"optout",()=>a.innerType._zod.optout),at(t._zod,"values",()=>a.innerType._zod.values),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const c=a.innerType._zod.run(l,o);return c instanceof Promise?c.then(h=>(l.value=h.value,h.issues.length&&(l.value=a.catchValue({...l,error:{issues:h.issues.map(f=>Js(f,o,Xs()))},input:l.value}),l.issues=[]),l)):(l.value=c.value,c.issues.length&&(l.value=a.catchValue({...l,error:{issues:c.issues.map(h=>Js(h,o,Xs()))},input:l.value}),l.issues=[]),l)}}),FT=te("$ZodPipe",(t,a)=>{zt.init(t,a),at(t._zod,"values",()=>a.in._zod.values),at(t._zod,"optin",()=>a.in._zod.optin),at(t._zod,"optout",()=>a.out._zod.optout),at(t._zod,"propValues",()=>a.in._zod.propValues),t._zod.parse=(l,o)=>{if(o.direction==="backward"){const h=a.out._zod.run(l,o);return h instanceof Promise?h.then(f=>Oo(f,a.in,o)):Oo(h,a.in,o)}const c=a.in._zod.run(l,o);return c instanceof Promise?c.then(h=>Oo(h,a.out,o)):Oo(c,a.out,o)}});function Oo(t,a,l){return t.issues.length?(t.aborted=!0,t):a._zod.run({value:t.value,issues:t.issues},l)}const IT=te("$ZodReadonly",(t,a)=>{zt.init(t,a),at(t._zod,"propValues",()=>a.innerType._zod.propValues),at(t._zod,"values",()=>a.innerType._zod.values),at(t._zod,"optin",()=>a.innerType?._zod?.optin),at(t._zod,"optout",()=>a.innerType?._zod?.optout),t._zod.parse=(l,o)=>{if(o.direction==="backward")return a.innerType._zod.run(l,o);const c=a.innerType._zod.run(l,o);return c instanceof Promise?c.then(d_):d_(c)}});function d_(t){return t.value=Object.freeze(t.value),t}const ZT=te("$ZodCustom",(t,a)=>{vn.init(t,a),zt.init(t,a),t._zod.parse=(l,o)=>l,t._zod.check=l=>{const o=l.value,c=a.fn(o);if(c instanceof Promise)return c.then(h=>f_(h,l,o,t));f_(c,l,o,t)}});function f_(t,a,l,o){if(!t){const c={code:"custom",input:l,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(c.params=o._zod.def.params),a.issues.push(si(c))}}var h_;class VT{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...l){const o=l[0];return this._map.set(a,o),o&&typeof o=="object"&&"id"in o&&this._idmap.set(o.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){const l=this._map.get(a);return l&&typeof l=="object"&&"id"in l&&this._idmap.delete(l.id),this._map.delete(a),this}get(a){const l=a._zod.parent;if(l){const o={...this.get(l)??{}};delete o.id;const c={...o,...this._map.get(a)};return Object.keys(c).length?c:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function QT(){return new VT}(h_=globalThis).__zod_globalRegistry??(h_.__zod_globalRegistry=QT());const Wl=globalThis.__zod_globalRegistry;function KT(t,a){return new t({type:"string",...je(a)})}function YT(t,a){return new t({type:"string",format:"email",check:"string_format",abort:!1,...je(a)})}function m_(t,a){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...je(a)})}function XT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...je(a)})}function JT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...je(a)})}function WT(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...je(a)})}function eO(t,a){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...je(a)})}function tO(t,a){return new t({type:"string",format:"url",check:"string_format",abort:!1,...je(a)})}function nO(t,a){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...je(a)})}function aO(t,a){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...je(a)})}function sO(t,a){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...je(a)})}function rO(t,a){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...je(a)})}function lO(t,a){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...je(a)})}function iO(t,a){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...je(a)})}function oO(t,a){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...je(a)})}function cO(t,a){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...je(a)})}function uO(t,a){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...je(a)})}function dO(t,a){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...je(a)})}function fO(t,a){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...je(a)})}function hO(t,a){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...je(a)})}function mO(t,a){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...je(a)})}function pO(t,a){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...je(a)})}function gO(t,a){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...je(a)})}function _O(t,a){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...je(a)})}function yO(t,a){return new t({type:"string",format:"date",check:"string_format",...je(a)})}function vO(t,a){return new t({type:"string",format:"time",check:"string_format",precision:null,...je(a)})}function bO(t,a){return new t({type:"string",format:"duration",check:"string_format",...je(a)})}function xO(t,a){return new t({type:"number",checks:[],...je(a)})}function jO(t,a){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...je(a)})}function SO(t,a){return new t({type:"boolean",...je(a)})}function NO(t){return new t({type:"unknown"})}function wO(t,a){return new t({type:"never",...je(a)})}function p_(t,a){return new Iy({check:"less_than",...je(a),value:t,inclusive:!1})}function Rd(t,a){return new Iy({check:"less_than",...je(a),value:t,inclusive:!0})}function g_(t,a){return new Zy({check:"greater_than",...je(a),value:t,inclusive:!1})}function Td(t,a){return new Zy({check:"greater_than",...je(a),value:t,inclusive:!0})}function __(t,a){return new HR({check:"multiple_of",...je(a),value:t})}function Jy(t,a){return new FR({check:"max_length",...je(a),maximum:t})}function Fo(t,a){return new IR({check:"min_length",...je(a),minimum:t})}function Wy(t,a){return new ZR({check:"length_equals",...je(a),length:t})}function CO(t,a){return new VR({check:"string_format",format:"regex",...je(a),pattern:t})}function EO(t){return new QR({check:"string_format",format:"lowercase",...je(t)})}function RO(t){return new KR({check:"string_format",format:"uppercase",...je(t)})}function TO(t,a){return new YR({check:"string_format",format:"includes",...je(a),includes:t})}function OO(t,a){return new XR({check:"string_format",format:"starts_with",...je(a),prefix:t})}function AO(t,a){return new JR({check:"string_format",format:"ends_with",...je(a),suffix:t})}function el(t){return new WR({check:"overwrite",tx:t})}function DO(t){return el(a=>a.normalize(t))}function zO(){return el(t=>t.trim())}function BO(){return el(t=>t.toLowerCase())}function kO(){return el(t=>t.toUpperCase())}function MO(){return el(t=>ZE(t))}function LO(t,a,l){return new t({type:"array",element:a,...je(l)})}function UO(t,a,l){return new t({type:"custom",check:"custom",fn:a,...je(l)})}function $O(t){const a=qO(l=>(l.addIssue=o=>{if(typeof o=="string")l.issues.push(si(o,l.value,a._zod.def));else{const c=o;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=l.value),c.inst??(c.inst=a),c.continue??(c.continue=!a._zod.def.abort),l.issues.push(si(c))}},t(l.value,l)));return a}function qO(t,a){const l=new vn({check:"custom",...je(a)});return l._zod.check=t,l}function ev(t){let a=t?.target??"draft-2020-12";return a==="draft-4"&&(a="draft-04"),a==="draft-7"&&(a="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??Wl,target:a,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function nn(t,a,l={path:[],schemaPath:[]}){var o;const c=t._zod.def,h=a.seen.get(t);if(h)return h.count++,l.schemaPath.includes(t)&&(h.cycle=l.path),h.schema;const f={schema:{},count:1,cycle:void 0,path:l.path};a.seen.set(t,f);const m=t._zod.toJSONSchema?.();if(m)f.schema=m;else{const y={...l,schemaPath:[...l.schemaPath,t],path:l.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(a,f.schema,y);else{const N=f.schema,R=a.processors[c.type];if(!R)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${c.type}`);R(t,a,N,y)}const v=t._zod.parent;v&&(f.ref||(f.ref=v),nn(v,a,y),a.seen.get(v).isParent=!0)}const g=a.metadataRegistry.get(t);return g&&Object.assign(f.schema,g),a.io==="input"&&on(t)&&(delete f.schema.examples,delete f.schema.default),a.io==="input"&&f.schema._prefault&&((o=f.schema).default??(o.default=f.schema._prefault)),delete f.schema._prefault,a.seen.get(t).schema}function tv(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=new Map;for(const f of t.seen.entries()){const m=t.metadataRegistry.get(f[0])?.id;if(m){const g=o.get(m);if(g&&g!==f[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);o.set(m,f[0])}}const c=f=>{const m=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const v=t.external.registry.get(f[0])?.id,N=t.external.uri??(b=>b);if(v)return{ref:N(v)};const R=f[1].defId??f[1].schema.id??`schema${t.counter++}`;return f[1].defId=R,{defId:R,ref:`${N("__shared")}#/${m}/${R}`}}if(f[1]===l)return{ref:"#"};const p=`#/${m}/`,y=f[1].schema.id??`__schema${t.counter++}`;return{defId:y,ref:p+y}},h=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:g,defId:p}=c(f);m.def={...m.schema},p&&(m.defId=p);const y=m.schema;for(const v in y)delete y[v];y.$ref=g};if(t.cycles==="throw")for(const f of t.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${m.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of t.seen.entries()){const m=f[1];if(a===f[0]){h(f);continue}if(t.external){const p=t.external.registry.get(f[0])?.id;if(a!==f[0]&&p){h(f);continue}}if(t.metadataRegistry.get(f[0])?.id){h(f);continue}if(m.cycle){h(f);continue}if(m.count>1&&t.reused==="ref"){h(f);continue}}}function nv(t,a){const l=t.seen.get(a);if(!l)throw new Error("Unprocessed schema. This is a bug in Zod.");const o=f=>{const m=t.seen.get(f);if(m.ref===null)return;const g=m.def??m.schema,p={...g},y=m.ref;if(m.ref=null,y){o(y);const N=t.seen.get(y),R=N.schema;if(R.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(R)):Object.assign(g,R),Object.assign(g,p),f._zod.parent===y)for(const w in g)w==="$ref"||w==="allOf"||w in p||delete g[w];if(R.$ref&&N.def)for(const w in g)w==="$ref"||w==="allOf"||w in N.def&&JSON.stringify(g[w])===JSON.stringify(N.def[w])&&delete g[w]}const v=f._zod.parent;if(v&&v!==y){o(v);const N=t.seen.get(v);if(N?.schema.$ref&&(g.$ref=N.schema.$ref,N.def))for(const R in g)R==="$ref"||R==="allOf"||R in N.def&&JSON.stringify(g[R])===JSON.stringify(N.def[R])&&delete g[R]}t.override({zodSchema:f,jsonSchema:g,path:m.path??[]})};for(const f of[...t.seen.entries()].reverse())o(f[0]);const c={};if(t.target==="draft-2020-12"?c.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?c.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?c.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const f=t.external.registry.get(a)?.id;if(!f)throw new Error("Schema is missing an `id` property");c.$id=t.external.uri(f)}Object.assign(c,l.def??l.schema);const h=t.external?.defs??{};for(const f of t.seen.entries()){const m=f[1];m.def&&m.defId&&(h[m.defId]=m.def)}t.external||Object.keys(h).length>0&&(t.target==="draft-2020-12"?c.$defs=h:c.definitions=h);try{const f=JSON.parse(JSON.stringify(c));return Object.defineProperty(f,"~standard",{value:{...a["~standard"],jsonSchema:{input:Io(a,"input",t.processors),output:Io(a,"output",t.processors)}},enumerable:!1,writable:!1}),f}catch{throw new Error("Error converting schema to JSON.")}}function on(t,a){const l=a??{seen:new Set};if(l.seen.has(t))return!1;l.seen.add(t);const o=t._zod.def;if(o.type==="transform")return!0;if(o.type==="array")return on(o.element,l);if(o.type==="set")return on(o.valueType,l);if(o.type==="lazy")return on(o.getter(),l);if(o.type==="promise"||o.type==="optional"||o.type==="nonoptional"||o.type==="nullable"||o.type==="readonly"||o.type==="default"||o.type==="prefault")return on(o.innerType,l);if(o.type==="intersection")return on(o.left,l)||on(o.right,l);if(o.type==="record"||o.type==="map")return on(o.keyType,l)||on(o.valueType,l);if(o.type==="pipe")return on(o.in,l)||on(o.out,l);if(o.type==="object"){for(const c in o.shape)if(on(o.shape[c],l))return!0;return!1}if(o.type==="union"){for(const c of o.options)if(on(c,l))return!0;return!1}if(o.type==="tuple"){for(const c of o.items)if(on(c,l))return!0;return!!(o.rest&&on(o.rest,l))}return!1}const PO=(t,a={})=>l=>{const o=ev({...l,processors:a});return nn(t,o),tv(o,t),nv(o,t)},Io=(t,a,l={})=>o=>{const{libraryOptions:c,target:h}=o??{},f=ev({...c??{},target:h,io:a,processors:l});return nn(t,f),tv(f,t),nv(f,t)},HO={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},GO=(t,a,l,o)=>{const c=l;c.type="string";const{minimum:h,maximum:f,format:m,patterns:g,contentEncoding:p}=t._zod.bag;if(typeof h=="number"&&(c.minLength=h),typeof f=="number"&&(c.maxLength=f),m&&(c.format=HO[m]??m,c.format===""&&delete c.format,m==="time"&&delete c.format),p&&(c.contentEncoding=p),g&&g.size>0){const y=[...g];y.length===1?c.pattern=y[0].source:y.length>1&&(c.allOf=[...y.map(v=>({...a.target==="draft-07"||a.target==="draft-04"||a.target==="openapi-3.0"?{type:"string"}:{},pattern:v.source}))])}},FO=(t,a,l,o)=>{const c=l,{minimum:h,maximum:f,format:m,multipleOf:g,exclusiveMaximum:p,exclusiveMinimum:y}=t._zod.bag;typeof m=="string"&&m.includes("int")?c.type="integer":c.type="number",typeof y=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(c.minimum=y,c.exclusiveMinimum=!0):c.exclusiveMinimum=y),typeof h=="number"&&(c.minimum=h,typeof y=="number"&&a.target!=="draft-04"&&(y>=h?delete c.minimum:delete c.exclusiveMinimum)),typeof p=="number"&&(a.target==="draft-04"||a.target==="openapi-3.0"?(c.maximum=p,c.exclusiveMaximum=!0):c.exclusiveMaximum=p),typeof f=="number"&&(c.maximum=f,typeof p=="number"&&a.target!=="draft-04"&&(p<=f?delete c.maximum:delete c.exclusiveMaximum)),typeof g=="number"&&(c.multipleOf=g)},IO=(t,a,l,o)=>{l.type="boolean"},ZO=(t,a,l,o)=>{l.not={}},VO=(t,a,l,o)=>{},QO=(t,a,l,o)=>{const c=t._zod.def,h=By(c.entries);h.every(f=>typeof f=="number")&&(l.type="number"),h.every(f=>typeof f=="string")&&(l.type="string"),l.enum=h},KO=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},YO=(t,a,l,o)=>{if(a.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},XO=(t,a,l,o)=>{const c=l,h=t._zod.def,{minimum:f,maximum:m}=t._zod.bag;typeof f=="number"&&(c.minItems=f),typeof m=="number"&&(c.maxItems=m),c.type="array",c.items=nn(h.element,a,{...o,path:[...o.path,"items"]})},JO=(t,a,l,o)=>{const c=l,h=t._zod.def;c.type="object",c.properties={};const f=h.shape;for(const p in f)c.properties[p]=nn(f[p],a,{...o,path:[...o.path,"properties",p]});const m=new Set(Object.keys(f)),g=new Set([...m].filter(p=>{const y=h.shape[p]._zod;return a.io==="input"?y.optin===void 0:y.optout===void 0}));g.size>0&&(c.required=Array.from(g)),h.catchall?._zod.def.type==="never"?c.additionalProperties=!1:h.catchall?h.catchall&&(c.additionalProperties=nn(h.catchall,a,{...o,path:[...o.path,"additionalProperties"]})):a.io==="output"&&(c.additionalProperties=!1)},WO=(t,a,l,o)=>{const c=t._zod.def,h=c.inclusive===!1,f=c.options.map((m,g)=>nn(m,a,{...o,path:[...o.path,h?"oneOf":"anyOf",g]}));h?l.oneOf=f:l.anyOf=f},eA=(t,a,l,o)=>{const c=t._zod.def,h=nn(c.left,a,{...o,path:[...o.path,"allOf",0]}),f=nn(c.right,a,{...o,path:[...o.path,"allOf",1]}),m=p=>"allOf"in p&&Object.keys(p).length===1,g=[...m(h)?h.allOf:[h],...m(f)?f.allOf:[f]];l.allOf=g},tA=(t,a,l,o)=>{const c=t._zod.def,h=nn(c.innerType,a,o),f=a.seen.get(t);a.target==="openapi-3.0"?(f.ref=c.innerType,l.nullable=!0):l.anyOf=[h,{type:"null"}]},nA=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType},aA=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType,l.default=JSON.parse(JSON.stringify(c.defaultValue))},sA=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType,a.io==="input"&&(l._prefault=JSON.parse(JSON.stringify(c.defaultValue)))},rA=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType;let f;try{f=c.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}l.default=f},lA=(t,a,l,o)=>{const c=t._zod.def,h=a.io==="input"?c.in._zod.def.type==="transform"?c.out:c.in:c.out;nn(h,a,o);const f=a.seen.get(t);f.ref=h},iA=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType,l.readOnly=!0},av=(t,a,l,o)=>{const c=t._zod.def;nn(c.innerType,a,o);const h=a.seen.get(t);h.ref=c.innerType},oA=te("ZodISODateTime",(t,a)=>{hT.init(t,a),bt.init(t,a)});function cA(t){return _O(oA,t)}const uA=te("ZodISODate",(t,a)=>{mT.init(t,a),bt.init(t,a)});function dA(t){return yO(uA,t)}const fA=te("ZodISOTime",(t,a)=>{pT.init(t,a),bt.init(t,a)});function hA(t){return vO(fA,t)}const mA=te("ZodISODuration",(t,a)=>{gT.init(t,a),bt.init(t,a)});function pA(t){return bO(mA,t)}const gA=(t,a)=>{$y.init(t,a),t.name="ZodError",Object.defineProperties(t,{format:{value:l=>rR(t,l)},flatten:{value:l=>sR(t,l)},addIssue:{value:l=>{t.issues.push(l),t.message=JSON.stringify(t.issues,Fd,2)}},addIssues:{value:l=>{t.issues.push(...l),t.message=JSON.stringify(t.issues,Fd,2)}},isEmpty:{get(){return t.issues.length===0}}})},Kn=te("ZodError",gA,{Parent:Error}),_A=_f(Kn),yA=yf(Kn),vA=ec(Kn),bA=tc(Kn),xA=oR(Kn),jA=cR(Kn),SA=uR(Kn),NA=dR(Kn),wA=fR(Kn),CA=hR(Kn),EA=mR(Kn),RA=pR(Kn),Bt=te("ZodType",(t,a)=>(zt.init(t,a),Object.assign(t["~standard"],{jsonSchema:{input:Io(t,"input"),output:Io(t,"output")}}),t.toJSONSchema=PO(t,{}),t.def=a,t.type=a.type,Object.defineProperty(t,"_def",{value:a}),t.check=(...l)=>t.clone(xs(a,{checks:[...a.checks??[],...l.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]}),{parent:!0}),t.with=t.check,t.clone=(l,o)=>js(t,l,o),t.brand=()=>t,t.register=((l,o)=>(l.add(t,o),t)),t.parse=(l,o)=>_A(t,l,o,{callee:t.parse}),t.safeParse=(l,o)=>vA(t,l,o),t.parseAsync=async(l,o)=>yA(t,l,o,{callee:t.parseAsync}),t.safeParseAsync=async(l,o)=>bA(t,l,o),t.spa=t.safeParseAsync,t.encode=(l,o)=>xA(t,l,o),t.decode=(l,o)=>jA(t,l,o),t.encodeAsync=async(l,o)=>SA(t,l,o),t.decodeAsync=async(l,o)=>NA(t,l,o),t.safeEncode=(l,o)=>wA(t,l,o),t.safeDecode=(l,o)=>CA(t,l,o),t.safeEncodeAsync=async(l,o)=>EA(t,l,o),t.safeDecodeAsync=async(l,o)=>RA(t,l,o),t.refine=(l,o)=>t.check(v4(l,o)),t.superRefine=l=>t.check(b4(l)),t.overwrite=l=>t.check(el(l)),t.optional=()=>x_(t),t.exactOptional=()=>l4(t),t.nullable=()=>j_(t),t.nullish=()=>x_(j_(t)),t.nonoptional=l=>f4(t,l),t.array=()=>iv(t),t.or=l=>ov([t,l]),t.and=l=>n4(t,l),t.transform=l=>S_(t,s4(l)),t.default=l=>c4(t,l),t.prefault=l=>d4(t,l),t.catch=l=>m4(t,l),t.pipe=l=>S_(t,l),t.readonly=()=>_4(t),t.describe=l=>{const o=t.clone();return Wl.add(o,{description:l}),o},Object.defineProperty(t,"description",{get(){return Wl.get(t)?.description},configurable:!0}),t.meta=(...l)=>{if(l.length===0)return Wl.get(t);const o=t.clone();return Wl.add(o,l[0]),o},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=l=>l(t),t)),sv=te("_ZodString",(t,a)=>{vf.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(o,c,h)=>GO(t,o,c);const l=t._zod.bag;t.format=l.format??null,t.minLength=l.minimum??null,t.maxLength=l.maximum??null,t.regex=(...o)=>t.check(CO(...o)),t.includes=(...o)=>t.check(TO(...o)),t.startsWith=(...o)=>t.check(OO(...o)),t.endsWith=(...o)=>t.check(AO(...o)),t.min=(...o)=>t.check(Fo(...o)),t.max=(...o)=>t.check(Jy(...o)),t.length=(...o)=>t.check(Wy(...o)),t.nonempty=(...o)=>t.check(Fo(1,...o)),t.lowercase=o=>t.check(EO(o)),t.uppercase=o=>t.check(RO(o)),t.trim=()=>t.check(zO()),t.normalize=(...o)=>t.check(DO(...o)),t.toLowerCase=()=>t.check(BO()),t.toUpperCase=()=>t.check(kO()),t.slugify=()=>t.check(MO())}),TA=te("ZodString",(t,a)=>{vf.init(t,a),sv.init(t,a),t.email=l=>t.check(YT(OA,l)),t.url=l=>t.check(tO(AA,l)),t.jwt=l=>t.check(gO(ZA,l)),t.emoji=l=>t.check(nO(DA,l)),t.guid=l=>t.check(m_(y_,l)),t.uuid=l=>t.check(XT(Ao,l)),t.uuidv4=l=>t.check(JT(Ao,l)),t.uuidv6=l=>t.check(WT(Ao,l)),t.uuidv7=l=>t.check(eO(Ao,l)),t.nanoid=l=>t.check(aO(zA,l)),t.guid=l=>t.check(m_(y_,l)),t.cuid=l=>t.check(sO(BA,l)),t.cuid2=l=>t.check(rO(kA,l)),t.ulid=l=>t.check(lO(MA,l)),t.base64=l=>t.check(hO(GA,l)),t.base64url=l=>t.check(mO(FA,l)),t.xid=l=>t.check(iO(LA,l)),t.ksuid=l=>t.check(oO(UA,l)),t.ipv4=l=>t.check(cO($A,l)),t.ipv6=l=>t.check(uO(qA,l)),t.cidrv4=l=>t.check(dO(PA,l)),t.cidrv6=l=>t.check(fO(HA,l)),t.e164=l=>t.check(pO(IA,l)),t.datetime=l=>t.check(cA(l)),t.date=l=>t.check(dA(l)),t.time=l=>t.check(hA(l)),t.duration=l=>t.check(pA(l))});function dt(t){return KT(TA,t)}const bt=te("ZodStringFormat",(t,a)=>{vt.init(t,a),sv.init(t,a)}),OA=te("ZodEmail",(t,a)=>{sT.init(t,a),bt.init(t,a)}),y_=te("ZodGUID",(t,a)=>{nT.init(t,a),bt.init(t,a)}),Ao=te("ZodUUID",(t,a)=>{aT.init(t,a),bt.init(t,a)}),AA=te("ZodURL",(t,a)=>{rT.init(t,a),bt.init(t,a)}),DA=te("ZodEmoji",(t,a)=>{lT.init(t,a),bt.init(t,a)}),zA=te("ZodNanoID",(t,a)=>{iT.init(t,a),bt.init(t,a)}),BA=te("ZodCUID",(t,a)=>{oT.init(t,a),bt.init(t,a)}),kA=te("ZodCUID2",(t,a)=>{cT.init(t,a),bt.init(t,a)}),MA=te("ZodULID",(t,a)=>{uT.init(t,a),bt.init(t,a)}),LA=te("ZodXID",(t,a)=>{dT.init(t,a),bt.init(t,a)}),UA=te("ZodKSUID",(t,a)=>{fT.init(t,a),bt.init(t,a)}),$A=te("ZodIPv4",(t,a)=>{_T.init(t,a),bt.init(t,a)}),qA=te("ZodIPv6",(t,a)=>{yT.init(t,a),bt.init(t,a)}),PA=te("ZodCIDRv4",(t,a)=>{vT.init(t,a),bt.init(t,a)}),HA=te("ZodCIDRv6",(t,a)=>{bT.init(t,a),bt.init(t,a)}),GA=te("ZodBase64",(t,a)=>{xT.init(t,a),bt.init(t,a)}),FA=te("ZodBase64URL",(t,a)=>{ST.init(t,a),bt.init(t,a)}),IA=te("ZodE164",(t,a)=>{NT.init(t,a),bt.init(t,a)}),ZA=te("ZodJWT",(t,a)=>{CT.init(t,a),bt.init(t,a)}),rv=te("ZodNumber",(t,a)=>{Qy.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(o,c,h)=>FO(t,o,c),t.gt=(o,c)=>t.check(g_(o,c)),t.gte=(o,c)=>t.check(Td(o,c)),t.min=(o,c)=>t.check(Td(o,c)),t.lt=(o,c)=>t.check(p_(o,c)),t.lte=(o,c)=>t.check(Rd(o,c)),t.max=(o,c)=>t.check(Rd(o,c)),t.int=o=>t.check(v_(o)),t.safe=o=>t.check(v_(o)),t.positive=o=>t.check(g_(0,o)),t.nonnegative=o=>t.check(Td(0,o)),t.negative=o=>t.check(p_(0,o)),t.nonpositive=o=>t.check(Rd(0,o)),t.multipleOf=(o,c)=>t.check(__(o,c)),t.step=(o,c)=>t.check(__(o,c)),t.finite=()=>t;const l=t._zod.bag;t.minValue=Math.max(l.minimum??Number.NEGATIVE_INFINITY,l.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(l.maximum??Number.POSITIVE_INFINITY,l.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(l.format??"").includes("int")||Number.isSafeInteger(l.multipleOf??.5),t.isFinite=!0,t.format=l.format??null});function aa(t){return xO(rv,t)}const VA=te("ZodNumberFormat",(t,a)=>{ET.init(t,a),rv.init(t,a)});function v_(t){return jO(VA,t)}const QA=te("ZodBoolean",(t,a)=>{RT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>IO(t,l,o)});function lv(t){return SO(QA,t)}const KA=te("ZodUnknown",(t,a)=>{TT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>VO()});function b_(){return NO(KA)}const YA=te("ZodNever",(t,a)=>{OT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>ZO(t,l,o)});function XA(t){return wO(YA,t)}const JA=te("ZodArray",(t,a)=>{AT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>XO(t,l,o,c),t.element=a.element,t.min=(l,o)=>t.check(Fo(l,o)),t.nonempty=l=>t.check(Fo(1,l)),t.max=(l,o)=>t.check(Jy(l,o)),t.length=(l,o)=>t.check(Wy(l,o)),t.unwrap=()=>t.element});function iv(t,a){return LO(JA,t,a)}const WA=te("ZodObject",(t,a)=>{zT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>JO(t,l,o,c),at(t,"shape",()=>a.shape),t.keyof=()=>bf(Object.keys(t._zod.def.shape)),t.catchall=l=>t.clone({...t._zod.def,catchall:l}),t.passthrough=()=>t.clone({...t._zod.def,catchall:b_()}),t.loose=()=>t.clone({...t._zod.def,catchall:b_()}),t.strict=()=>t.clone({...t._zod.def,catchall:XA()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=l=>WE(t,l),t.safeExtend=l=>eR(t,l),t.merge=l=>tR(t,l),t.pick=l=>XE(t,l),t.omit=l=>JE(t,l),t.partial=(...l)=>nR(cv,t,l[0]),t.required=(...l)=>aR(uv,t,l[0])});function Vr(t,a){const l={type:"object",shape:t??{},...je(a)};return new WA(l)}const e4=te("ZodUnion",(t,a)=>{BT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>WO(t,l,o,c),t.options=a.options});function ov(t,a){return new e4({type:"union",options:t,...je(a)})}const t4=te("ZodIntersection",(t,a)=>{kT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>eA(t,l,o,c)});function n4(t,a){return new t4({type:"intersection",left:t,right:a})}const Zd=te("ZodEnum",(t,a)=>{MT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(o,c,h)=>QO(t,o,c),t.enum=a.entries,t.options=Object.values(a.entries);const l=new Set(Object.keys(a.entries));t.extract=(o,c)=>{const h={};for(const f of o)if(l.has(f))h[f]=a.entries[f];else throw new Error(`Key ${f} not found in enum`);return new Zd({...a,checks:[],...je(c),entries:h})},t.exclude=(o,c)=>{const h={...a.entries};for(const f of o)if(l.has(f))delete h[f];else throw new Error(`Key ${f} not found in enum`);return new Zd({...a,checks:[],...je(c),entries:h})}});function bf(t,a){const l=Array.isArray(t)?Object.fromEntries(t.map(o=>[o,o])):t;return new Zd({type:"enum",entries:l,...je(a)})}const a4=te("ZodTransform",(t,a)=>{LT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>YO(t,l),t._zod.parse=(l,o)=>{if(o.direction==="backward")throw new Dy(t.constructor.name);l.addIssue=h=>{if(typeof h=="string")l.issues.push(si(h,l.value,a));else{const f=h;f.fatal&&(f.continue=!1),f.code??(f.code="custom"),f.input??(f.input=l.value),f.inst??(f.inst=t),l.issues.push(si(f))}};const c=a.transform(l.value,l);return c instanceof Promise?c.then(h=>(l.value=h,l)):(l.value=c,l)}});function s4(t){return new a4({type:"transform",transform:t})}const cv=te("ZodOptional",(t,a)=>{Xy.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>av(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function x_(t){return new cv({type:"optional",innerType:t})}const r4=te("ZodExactOptional",(t,a)=>{UT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>av(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function l4(t){return new r4({type:"optional",innerType:t})}const i4=te("ZodNullable",(t,a)=>{$T.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>tA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function j_(t){return new i4({type:"nullable",innerType:t})}const o4=te("ZodDefault",(t,a)=>{qT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>aA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function c4(t,a){return new o4({type:"default",innerType:t,get defaultValue(){return typeof a=="function"?a():My(a)}})}const u4=te("ZodPrefault",(t,a)=>{PT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>sA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function d4(t,a){return new u4({type:"prefault",innerType:t,get defaultValue(){return typeof a=="function"?a():My(a)}})}const uv=te("ZodNonOptional",(t,a)=>{HT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>nA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function f4(t,a){return new uv({type:"nonoptional",innerType:t,...je(a)})}const h4=te("ZodCatch",(t,a)=>{GT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>rA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function m4(t,a){return new h4({type:"catch",innerType:t,catchValue:typeof a=="function"?a:()=>a})}const p4=te("ZodPipe",(t,a)=>{FT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>lA(t,l,o,c),t.in=a.in,t.out=a.out});function S_(t,a){return new p4({type:"pipe",in:t,out:a})}const g4=te("ZodReadonly",(t,a)=>{IT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>iA(t,l,o,c),t.unwrap=()=>t._zod.def.innerType});function _4(t){return new g4({type:"readonly",innerType:t})}const y4=te("ZodCustom",(t,a)=>{ZT.init(t,a),Bt.init(t,a),t._zod.processJSONSchema=(l,o,c)=>KO(t,l)});function v4(t,a={}){return UO(y4,t,a)}function b4(t){return $O(t)}const Gs=ov([dt(),aa()]).transform(t=>String(t)),x4=bf(["NEW","COLLECTED","IN_PROCESS","VERIFIED","PUBLISHED","CANCELLED"]),j4=Vr({id:aa(),test:aa().optional(),panel:aa().optional(),test_name:dt().optional(),panel_name:dt().optional(),test_code:dt().optional(),panel_code:dt().optional(),price:Gs,status:dt()}),S4=Vr({id:aa(),order_id:dt(),patient:aa(),patient_name:dt(),ordered_by:aa().optional(),ordered_by_name:dt().optional(),created_at:dt(),updated_at:dt(),status:x4,notes:dt(),referred_by:dt().optional(),total_amount:Gs,discount:Gs,discount_percent:Gs,paid_amount:Gs,due_amount:Gs,net_amount:Gs,is_paid:lv(),items:iv(j4)});Vr({id:aa(),patient_id:dt(),first_name:dt(),last_name:dt(),full_name:dt(),age:aa(),gender:bf(["Male","Female","Other"]),phone:dt(),created_at:dt(),updated_at:dt(),total_orders:aa()}).passthrough();const N4=Vr({id:aa(),username:dt(),email:dt(),full_name:dt(),role:dt()});Vr({success:lv(),data:Vr({user:N4,access_token:dt(),refresh_token:dt()}),message:dt()});const w4={get:async t=>{const a=await K.get(`/orders/${t}`);try{S4.parse(a.data)}catch(l){console.error("API Contract Violation:",l)}return a},getOrderItem:t=>K.get(`/orders/order-items/${t}`)},C4="_container_mxxx1_1",E4="_toast_mxxx1_12",R4="_toastSuccess_mxxx1_24",T4="_toastError_mxxx1_29",O4="_header_mxxx1_35",A4="_headerTop_mxxx1_41",D4="_orderId_mxxx1_56",z4="_subtitle_mxxx1_67",B4="_patientInfo_mxxx1_77",k4="_patientName_mxxx1_83",M4="_patientSub_mxxx1_88",L4="_patientBanner_mxxx1_94",U4="_patientField_mxxx1_105",$4="_fieldLabel_mxxx1_111",q4="_fieldValue_mxxx1_119",P4="_backButton_mxxx1_126",H4="_tableContainer_mxxx1_146",G4="_resultTable_mxxx1_153",F4="_resultRow_mxxx1_171",I4="_paramName_mxxx1_192",Z4="_paramUnit_mxxx1_198",V4="_remarksInput_mxxx1_204",Q4="_remarksText_mxxx1_215",K4="_rejectionNotice_mxxx1_222",Y4="_rejectionList_mxxx1_238",X4="_rejectionItem_mxxx1_246",J4="_rejectionParam_mxxx1_250",W4="_inputWrapper_mxxx1_274",eD="_resultInput_mxxx1_279",tD="_statusBadge_mxxx1_302",nD="_refRange_mxxx1_333",aD="_refValue_mxxx1_343",sD="_footer_mxxx1_349",rD="_saveButton_mxxx1_358",lD="_verifyButton_mxxx1_359",iD="_verifyMainButton_mxxx1_383",oD="_inlineVerifyBtn_mxxx1_404",cD="_verifiedText_mxxx1_421",uD="_verifiedField_mxxx1_428",dD="_message_mxxx1_438",fD="_stickyActionBar_mxxx1_448",hD="_allVerifiedMessage_mxxx1_462",mD="_loadingContainer_mxxx1_474",pD="_loadingHint_mxxx1_490",gD="_spinner_mxxx1_496",_D="_spin_mxxx1_496",yD="_errorContainer_mxxx1_512",vD="_errorIcon_mxxx1_524",bD="_errorMessage_mxxx1_543",xD="_errorActions_mxxx1_552",jD="_retryButton_mxxx1_558",SD="_retryInfo_mxxx1_576",ND="_verifiedBy_mxxx1_583",wD="_verifiedRow_mxxx1_589",pe={container:C4,toast:E4,toastSuccess:R4,toastError:T4,header:O4,headerTop:A4,orderId:D4,subtitle:z4,patientInfo:B4,patientName:k4,patientSub:M4,patientBanner:L4,patientField:U4,fieldLabel:$4,fieldValue:q4,backButton:P4,tableContainer:H4,resultTable:G4,resultRow:F4,paramName:I4,paramUnit:Z4,remarksInput:V4,remarksText:Q4,rejectionNotice:K4,rejectionList:Y4,rejectionItem:X4,rejectionParam:J4,inputWrapper:W4,resultInput:eD,statusBadge:tD,"status-pending":"_status-pending_mxxx1_312","status-entered":"_status-entered_mxxx1_317","status-verified":"_status-verified_mxxx1_322","status-rejected":"_status-rejected_mxxx1_327",refRange:nD,refValue:aD,footer:sD,saveButton:rD,verifyButton:lD,verifyMainButton:iD,inlineVerifyBtn:oD,verifiedText:cD,verifiedField:uD,message:dD,stickyActionBar:fD,allVerifiedMessage:hD,loadingContainer:mD,loadingHint:pD,spinner:gD,spin:_D,errorContainer:yD,errorIcon:vD,errorMessage:bD,errorActions:xD,retryButton:jD,retryInfo:SD,verifiedBy:ND,verifiedRow:wD},CD=({onSelect:t})=>{const{data:a,isLoading:l}=Ue({queryKey:["result-worklist"],queryFn:()=>Gr.getWorklist()}),[o,c]=S.useState(null),[h,f]=S.useState(""),m=Array.isArray(a?.data.results)?a?.data.results:a?.data.results||[],g=S.useMemo(()=>m.filter(y=>{if(!h)return!0;const v=h.toLowerCase(),N=(y.order?.patient?.full_name||y.patient_name||"").toLowerCase();return y.order?.order_id?.toLowerCase().includes(v)||N.includes(v)||y.order?.patient?.mrn?.toLowerCase().includes(v)||(y.test_name||"").toLowerCase().includes(v)||(y.panel_name||"").toLowerCase().includes(v)}),[m,h]),p=S.useMemo(()=>{const y={};return g.forEach(v=>{const N=v.order?.patient?.id||0;y[N]||(y[N]=[]),y[N].push(v)}),y},[g]);return l?s.jsx("div",{className:pe.message,children:"Loading worklist..."}):s.jsxs("div",{className:pe.container,children:[s.jsxs("div",{className:pe.header,children:[s.jsx("div",{className:pe.headerTop,children:s.jsx("h1",{children:"Result Entry Worklist"})}),s.jsx("div",{className:pe.controls,children:s.jsx("input",{type:"text",placeholder:"Search by Patient, Order, or Test...",className:pe.resultInput,style:{maxWidth:"400px"},value:h,onChange:y=>f(y.target.value)})})]}),s.jsx("div",{className:pe.tableContainer,children:g.length===0?s.jsx("div",{className:pe.message,children:h?"No matching orders found.":"No pending results found."}):s.jsx("div",{className:pe.accordion,children:Object.entries(p).map(([y,v])=>{const N=Number(y),R=v[0],b=R.order?.patient,w=o===N;return s.jsxs("div",{className:pe.accordionItem,style:{border:"1px solid #e2e8f0",borderRadius:"8px",marginBottom:"12px",overflow:"hidden"},children:[s.jsxs("div",{onClick:()=>c(w?null:N),style:{padding:"16px",background:"#f8fafc",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"16px"},children:b?.full_name||R.patient_name||"Unknown Patient"}),s.jsxs("div",{style:{fontSize:"14px",color:"#64748b"},children:[b?.age,"y / ",b?.gender,"  MRN: ",b?.mrn]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[s.jsxs("span",{style:{fontSize:"13px",color:"#64748b",fontWeight:500},children:[v.length," test",v.length!==1?"s":""," pending"]}),s.jsx("span",{children:w?"":""})]})]}),w&&s.jsx("div",{style:{padding:"0",background:"white"},children:s.jsxs("table",{className:pe.table,style:{margin:0},children:[s.jsx("thead",{style:{background:"#f1f5f9"},children:s.jsxs("tr",{children:[s.jsx("th",{style:{width:"20%"},children:"Order ID"}),s.jsx("th",{style:{width:"40%"},children:"Test / Panel"}),s.jsx("th",{style:{width:"20%"},children:"Status"}),s.jsx("th",{style:{width:"20%"},children:"Action"})]})}),s.jsx("tbody",{children:v.map(E=>s.jsxs("tr",{className:pe.resultRow,children:[s.jsx("td",{children:s.jsx("span",{className:pe.orderId,children:E.order?.order_id})}),s.jsx("td",{children:s.jsx("span",{className:pe.paramName,children:E.test_name||E.panel_name})}),s.jsx("td",{children:s.jsx("span",{className:`${pe.statusBadge} ${pe["status-"+(E.status?.toLowerCase()||"pending")]}`,children:E.status})}),s.jsx("td",{children:s.jsx("button",{className:pe.verifyMainButton,style:{fontSize:"12px",padding:"6px 12px"},onClick:$=>{$.stopPropagation(),t(E.id)},children:"Enter Result"})})]},E.id))})]})})]},N)})})})]})},ED=t=>{const a=On(),[l,o]=S.useState({}),[c,h]=S.useState({}),[f,m]=S.useState(!1),[g,p]=S.useState(null),y=S.useRef(null),v=S.useRef(""),N=`lims:results:draft:${t}`,R=(U,M)=>{p({type:U,message:M}),y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(()=>p(null),4e3)},{data:b,isLoading:w,isError:E,error:$}=Ue({queryKey:["results",t],queryFn:()=>Gr.getByOrderItem(t),enabled:!!t}),k=S.useRef(!1);S.useEffect(()=>{k.current=!1},[t]),S.useEffect(()=>{if(b?.data.results&&!k.current){const U={},M={};b.data.results.forEach(Z=>{const ie=Z.result_value==="*"?"":Z.result_value||"";U[Z.test_parameter]=ie,M[Z.test_parameter]=Z.remarks||""});const X=localStorage.getItem(N);if(X)try{const Z=JSON.parse(X);o(Z.results||U),h(Z.remarks||M),R("success","Recovered draft from local autosave.")}catch{o(U),h(M)}else o(U),h(M);v.current=JSON.stringify({results:U,remarks:M}),k.current=!0}},[b,N]),S.useEffect(()=>{if(!k.current)return;const U=JSON.stringify({results:l,remarks:c});m(U!==v.current)},[l,c]),S.useEffect(()=>{if(!k.current)return;const U=window.setInterval(()=>{const M=JSON.stringify({results:l,remarks:c});M!==v.current&&localStorage.setItem(N,M)},1e4);return()=>window.clearInterval(U)},[l,c,N]),S.useEffect(()=>{const U=M=>{f&&(M.preventDefault(),M.returnValue="")};return window.addEventListener("beforeunload",U),()=>window.removeEventListener("beforeunload",U)},[f]);const H=He({mutationFn:async U=>{const M=U.map(X=>{const ie=(l[X.test_parameter]??"").toString().trim(),ve=ie===""?"*":ie;return{order_item:t,test_parameter:X.test_parameter,result_value:ve,remarks:c[X.test_parameter]??""}});return Gr.bulkEntry(M)},onSuccess:()=>{R("success","Results saved."),v.current=JSON.stringify({results:l,remarks:c}),m(!1),localStorage.removeItem(N),a.invalidateQueries({queryKey:["results",t]}),a.invalidateQueries({queryKey:["result-worklist"]})},onError:U=>{const Z=(U.response?.data?.error_details||[]).map(ie=>ie?.error).filter(Boolean).join("  ")||U.response?.data?.error||U.message||"Unable to save results.";R("error",Z)}}),A=He({mutationFn:async U=>Gr.bulkVerify(U),onSuccess:()=>{a.invalidateQueries({queryKey:["results",t]}),a.invalidateQueries({queryKey:["result-worklist"]})},onError:U=>{const X=U.response?.data,ie=(X?.details?.length?X.details.join("  "):"")||X?.error||"An unexpected error occurred during verification.";R("error",ie)}});return{results:l,setResults:o,remarks:c,setRemarks:h,existingResultsData:b,isLoadingResults:w,isError:E,error:$,saveMutation:H,verifyMutation:A,handleKeyDown:(U,M,X,Z)=>{if(U.key==="Enter"){if(U.preventDefault(),U.ctrlKey){H.mutate(b?.data.results||[]);return}if(U.shiftKey){H.mutate([M]);return}const ie=document.querySelector(`input[data-index="${X+1}"]`);ie?ie.focus():X===Z-1&&U.target.blur()}},hasUnsavedChanges:f,toast:g,showToast:R}},RD=({orderItemId:t,onBack:a,onChangeItem:l})=>{const o=On(),{user:c}=ia(),{results:h,setResults:f,remarks:m,setRemarks:g,existingResultsData:p,isLoadingResults:y,isError:v,error:N,saveMutation:R,verifyMutation:b,handleKeyDown:w,hasUnsavedChanges:E,toast:$,showToast:k}=ED(t),[H,A]=S.useState(!1),[,z]=S.useState(0),[U,M]=S.useState("entry"),[X,Z]=S.useState(null),ie=c?.role==="Admin"||c?.role==="Pathologist",{data:ve,isLoading:Oe,isError:be,refetch:Ie}=Ue({queryKey:["order-item-details",t],queryFn:()=>w4.getOrderItem(t),enabled:!!t,retry:2,retryDelay:1e3}),{data:ot}=Ue({queryKey:["result-worklist"],queryFn:()=>Gr.getWorklist(),staleTime:6e4}),G=ve?.data?.order?.patient?.id,ae=S.useMemo(()=>!ot?.data.results||!G?[]:ot.data.results.filter(ye=>ye.order?.patient?.id===G&&ye.id!==t),[ot,G,t]),{data:he,isLoading:Ee}=Ue({queryKey:["result-audit",t],queryFn:async()=>(await K.get("/audit/",{params:{entity_type:"result",page_size:100}})).data.results||[],enabled:U==="audit"}),Ae=S.useMemo(()=>(Array.isArray(he)?he:[]).filter(ye=>Number(ye?.metadata?.order_item_id)===t),[he,t]),O=fe=>{E&&!window.confirm("You have unsaved changes. Leave this page and discard draft?")||fe()};S.useEffect(()=>{if(y||Oe){const fe=setTimeout(()=>A(!0),15e3);return()=>clearTimeout(fe)}},[y,Oe]);const Q=()=>{A(!1),z(fe=>fe+1),o.invalidateQueries({queryKey:["order-item-details",t]}),o.invalidateQueries({queryKey:["results",t]}),Ie()},oe=async()=>{if(!ie){k("error","You do not have permission to verify results.");return}if(!p?.data.results?.length){k("error","No results found to verify.");return}try{const fe=p?.data.results||[];if(await R.mutateAsync(fe),!confirm("This will lock all results and prevent edits. Continue?"))return;const An=((await o.fetchQuery({queryKey:["results",t],queryFn:()=>Gr.getByOrderItem(t)}))?.data?.results||[]).map(Dn=>Dn.id).filter(Boolean);if(!An.length){k("error","No results found to verify.");return}await b.mutateAsync(An),k("success","Results saved and verified.")}catch(fe){console.error("Save and verify failed:",fe)}},ue=y||Oe;if(H&&ue)return s.jsx("div",{className:pe.container,children:s.jsxs("div",{className:pe.errorContainer,children:[s.jsx("h2",{children:"Loading Timeout"}),s.jsx("button",{className:pe.retryButton,onClick:Q,children:"Retry"}),s.jsx("button",{className:pe.backButton,onClick:()=>O(a),children:"Back"})]})});if(ue)return s.jsx("div",{className:pe.container,children:s.jsxs("div",{className:pe.loadingContainer,children:[s.jsx("div",{className:pe.spinner}),s.jsx("p",{children:"Loading results data..."})]})});if(v||be)return s.jsx("div",{className:pe.container,children:s.jsxs("div",{className:pe.errorContainer,children:[s.jsx("p",{children:"Error loading results."}),s.jsx("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"10px"},children:N?.message||(be?"Failed to load order details":"Unknown error")}),s.jsx("button",{className:pe.backButton,onClick:a,children:"Back to Worklist"}),s.jsx("button",{className:pe.retryButton,onClick:Q,style:{marginLeft:"10px"},children:"Try Again"})]})});const _e=p?.data.results||[],Ce=ve?.data,Re=Ce?.order,Qe=Re?.patient,$e=Ce?.test_name||Ce?.panel_name,Ft=_e.every(fe=>["verified","final"].includes((fe.status||"").toLowerCase())),re=_e.some(fe=>["verified","final"].includes((fe.status||"").toLowerCase())),Ze=_e.filter(fe=>fe.status?.toLowerCase()==="rejected"),ct=!ie||R.isPending||b.isPending;return s.jsxs("div",{className:pe.container,children:[$&&s.jsx("div",{className:`${pe.toast} ${$.type==="success"?pe.toastSuccess:pe.toastError}`,children:$.message}),s.jsx("button",{className:pe.backButton,onClick:()=>O(a),children:" Back to Worklist"}),ae.length>0&&s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",flexWrap:"wrap"},children:[s.jsxs("div",{style:{padding:"8px 16px",background:"#3b82f6",color:"white",borderRadius:"6px",fontWeight:"bold"},children:["Current: ",$e]}),ae.map(fe=>s.jsx("button",{onClick:()=>O(()=>l(fe.id)),style:{padding:"8px 16px",background:"#f1f5f9",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569"},children:fe.test_name||fe.panel_name},fe.id))]}),s.jsxs("div",{className:pe.header,children:[s.jsxs("div",{className:pe.headerTop,children:[s.jsx("h1",{children:"Result Entry"}),s.jsxs("span",{className:pe.orderId,children:["#",Re?.order_id]})]}),s.jsxs("div",{className:pe.subtitle,children:["Test: ",s.jsx("strong",{children:$e})]}),Qe&&s.jsxs("div",{className:pe.patientBanner,children:[s.jsxs("div",{className:pe.patientField,children:[s.jsx("span",{className:pe.fieldLabel,children:"Patient"}),s.jsx("span",{className:pe.fieldValue,children:Qe.full_name})]}),s.jsxs("div",{className:pe.patientField,children:[s.jsx("span",{className:pe.fieldLabel,children:"MRN"}),s.jsx("span",{className:pe.fieldValue,children:Qe.mrn})]}),s.jsxs("div",{className:pe.patientField,children:[s.jsx("span",{className:pe.fieldLabel,children:"Age/Sex"}),s.jsxs("span",{className:pe.fieldValue,children:[Qe.age,"y / ",Qe.gender]})]})]})]}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[s.jsx("button",{type:"button",className:pe.saveButton,style:{opacity:U==="entry"?1:.7},onClick:()=>M("entry"),children:"Entry"}),s.jsx("button",{type:"button",className:pe.verifyMainButton,style:{opacity:U==="audit"?1:.7},onClick:()=>M("audit"),children:"Audit"}),E&&s.jsx("span",{style:{alignSelf:"center",color:"#b45309",fontWeight:600},children:"Unsaved changes"})]}),U==="entry"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:pe.stickyActionBar,style:{top:"0",position:"sticky",zIndex:10,background:"white",padding:"10px 0",borderBottom:"1px solid #e2e8f0",marginBottom:"16px"},children:[!Ft&&s.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[s.jsx("button",{onClick:()=>R.mutate(_e),disabled:R.isPending||b.isPending||re,className:pe.saveButton,title:re?"Editing disabled after verification/finalization":void 0,children:R.isPending?"Saving...":"Save Draft"}),s.jsx("button",{onClick:oe,disabled:ct||re,className:`${pe.verifyMainButton} ${pe.saveButton}`,title:re?"Already verified/finalized":void 0,children:b.isPending?"Verifying...":"Verify"})]}),Ft&&s.jsx("div",{style:{padding:"8px",background:"#dcfce7",color:"#166534",borderRadius:"6px",textAlign:"center",fontWeight:"bold"},children:"All results verified"})]}),Ze.length>0&&s.jsxs("div",{className:pe.rejectionNotice,children:[s.jsx("strong",{children:"Returned for correction"}),s.jsx("ul",{children:Ze.map(fe=>s.jsx("li",{children:fe.remarks},fe.id))})]}),s.jsx("div",{className:pe.form,children:s.jsx("div",{className:pe.tableContainer,children:s.jsxs("table",{className:pe.resultTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test Parameter"}),s.jsx("th",{children:"Result Value"}),s.jsx("th",{children:"Unit"}),s.jsx("th",{children:"Remarks"}),s.jsx("th",{children:"Ref. Range"})]})}),s.jsx("tbody",{children:_e.map((fe,ye)=>s.jsxs("tr",{children:[s.jsx("td",{children:fe.parameter_name}),s.jsx("td",{children:s.jsx("input",{type:"text","data-index":ye,value:h[fe.test_parameter]||"",onChange:wt=>f(An=>({...An,[fe.test_parameter]:wt.target.value})),onKeyDown:wt=>w(wt,fe,ye,_e.length),className:pe.resultInput,disabled:["verified","final"].includes((fe.status||"").toLowerCase()),title:["verified","final"].includes((fe.status||"").toLowerCase())?"Locked after verification/finalization":void 0})}),s.jsx("td",{children:fe.unit}),s.jsx("td",{children:s.jsx("textarea",{className:pe.remarksInput,value:m[fe.test_parameter]||"",onChange:wt=>g(An=>({...An,[fe.test_parameter]:wt.target.value})),disabled:["verified","final"].includes((fe.status||"").toLowerCase()),title:["verified","final"].includes((fe.status||"").toLowerCase())?"Locked after verification/finalization":void 0})}),s.jsx("td",{children:fe.reference_range})]},fe.test_parameter))})]})})})]}):s.jsx("div",{className:pe.form,children:Ee?s.jsxs("div",{className:pe.loadingContainer,children:[s.jsx("div",{className:pe.spinner}),s.jsx("p",{children:"Loading audit events..."})]}):Ae.length===0?s.jsx("div",{className:pe.message,children:"No audit events found for this result entry."}):s.jsx("div",{style:{display:"grid",gap:"10px"},children:Ae.map(fe=>s.jsxs("div",{className:pe.accordionItem,style:{border:"1px solid #e2e8f0",borderRadius:8,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{children:[s.jsx("strong",{children:fe.action}),s.jsxs("div",{style:{fontSize:12,color:"#475569"},children:[fe.actor_name||"System","  ",new Date(fe.created_at||"").toLocaleString()]})]}),s.jsx("button",{type:"button",className:pe.backButton,onClick:()=>Z(X===fe.id?null:fe.id),children:X===fe.id?"Hide Delta":"Show Delta"})]}),X===fe.id&&s.jsxs("div",{style:{marginTop:10,display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:[s.jsx("pre",{style:{margin:0,background:"#f8fafc",padding:10,borderRadius:6,overflowX:"auto"},children:JSON.stringify(fe.before||{},null,2)}),s.jsx("pre",{style:{margin:0,background:"#f0fdf4",padding:10,borderRadius:6,overflowX:"auto"},children:JSON.stringify(fe.after||{},null,2)})]})]},fe.id))})})]})};function TD(){const{currentBranch:t}=ia();if(t?.capability_mode==="COLLECT_ONLY")return s.jsxs("div",{style:{padding:"40px",textAlign:"center",maxWidth:"600px",margin:"40px auto",background:"white",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[s.jsx("h1",{style:{color:"#ea580c",marginBottom:"16px"},children:"Access Restricted"}),s.jsxs("p",{style:{color:"#64748b",fontSize:"1.1rem"},children:["This branch ",s.jsxs("strong",{children:["(",t.name,")"]})," is designated as ",s.jsx("strong",{children:"Collection Only"}),"."]}),s.jsx("p",{style:{color:"#64748b",marginTop:"12px"},children:"Results entry and verification must be performed at a Processing Branch (HQ)."}),s.jsx("button",{onClick:()=>window.location.href="/dashboard",style:{marginTop:"24px",padding:"10px 20px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Return to Dashboard"})]});const[a,l]=vs(),o=a.get("orderItemId")||a.get("orderItem"),c=o?Number(o):null,h=f=>{l({orderItemId:f.toString()})};return s.jsx("div",{children:c?s.jsx(RD,{orderItemId:c,onBack:()=>l(f=>{const m=new URLSearchParams(f);return m.delete("orderItemId"),m.delete("orderItem"),m}),onChangeItem:h},c):s.jsx(CD,{onSelect:f=>l({orderItemId:f.toString()})})})}const OD="_container_1hgzu_1",AD="_header_1hgzu_8",DD="_subtitle_1hgzu_19",zD="_stats_1hgzu_25",BD="_statCard_1hgzu_31",kD="_statValue_1hgzu_39",MD="_statLabel_1hgzu_46",LD="_loading_1hgzu_51",UD="_error_1hgzu_52",$D="_emptyState_1hgzu_53",qD="_worklist_1hgzu_63",PD="_worklistItem_1hgzu_69",HD="_selected_1hgzu_82",GD="_itemHeader_1hgzu_87",FD="_itemCode_1hgzu_103",ID="_statusBadge_1hgzu_109",ZD="_itemDetails_1hgzu_119",VD="_detail_1hgzu_125",QD="_label_1hgzu_130",KD="_value_1hgzu_135",YD="_itemActions_1hgzu_139",XD="_enterButton_1hgzu_146",pt={container:OD,header:AD,subtitle:DD,stats:zD,statCard:BD,statValue:kD,statLabel:MD,loading:LD,error:UD,emptyState:$D,worklist:qD,worklistItem:PD,selected:HD,itemHeader:GD,itemCode:FD,statusBadge:ID,itemDetails:ZD,detail:VD,label:QD,value:KD,itemActions:YD,enterButton:XD};function JD(){const t=Ws(),[a,l]=S.useState(null),{data:o,isLoading:c,error:h}=Ue({queryKey:["result-entry-worklist"],queryFn:()=>Pr.getWorklist()}),f=o?.results||[];return s.jsxs("div",{className:pt.container,children:[s.jsxs("div",{className:pt.header,children:[s.jsx("h1",{children:"Result Entry Worklist"}),s.jsx("p",{className:pt.subtitle,children:"Order items requiring result entry"})]}),c?s.jsx("div",{className:pt.loading,children:"Loading worklist..."}):h?s.jsx("div",{className:pt.error,children:"Failed to load worklist"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:pt.stats,children:s.jsxs("div",{className:pt.statCard,children:[s.jsx("div",{className:pt.statValue,children:f.length}),s.jsx("div",{className:pt.statLabel,children:"Items Pending Entry"})]})}),f.length===0?s.jsx("div",{className:pt.emptyState,children:s.jsx("p",{children:"No items pending result entry"})}):s.jsx("div",{className:pt.worklist,children:f.map(m=>s.jsxs("div",{className:`${pt.worklistItem} ${a?.id===m.id?pt.selected:""}`,onClick:()=>l(m),children:[s.jsxs("div",{className:pt.itemHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:m.test_name||m.panel_name}),s.jsx("p",{className:pt.itemCode,children:m.test_code||m.panel_code})]}),s.jsx("span",{className:pt.statusBadge,children:m.status})]}),s.jsxs("div",{className:pt.itemDetails,children:[s.jsxs("div",{className:pt.detail,children:[s.jsx("span",{className:pt.label,children:"Order ID:"}),s.jsxs("span",{className:pt.value,children:["ORD-",m.id]})]}),s.jsxs("div",{className:pt.detail,children:[s.jsx("span",{className:pt.label,children:"Price:"}),s.jsxs("span",{className:pt.value,children:["$",m.price]})]})]}),s.jsx("div",{className:pt.itemActions,children:s.jsx("button",{onClick:g=>{g.stopPropagation(),t(`/dashboard/results?orderId=${m.order.id}&orderItemId=${m.id}`)},className:pt.enterButton,children:"Enter Results"})})]},m.id))})]})]})}const WD="_container_p4egs_1",e3="_header_p4egs_9",t3="_subtitle_p4egs_20",n3="_stats_p4egs_26",a3="_statCard_p4egs_32",s3="_statValue_p4egs_40",r3="_statLabel_p4egs_47",l3="_loading_p4egs_53",i3="_error_p4egs_54",o3="_emptyState_p4egs_55",c3="_notice_p4egs_61",u3="_noticeSuccess_p4egs_68",d3="_noticeError_p4egs_74",f3="_queueList_p4egs_81",h3="_queueTable_p4egs_85",m3="_bold_p4egs_109",p3="_reviewBtn_p4egs_114",g3="_detailView_p4egs_130",_3="_fadeIn_p4egs_1",y3="_backButton_p4egs_134",v3="_detailHeader_p4egs_152",b3="_detailActions_p4egs_166",x3="_actionHint_p4egs_178",j3="_actionButtons_p4egs_183",S3="_bulkButton_p4egs_188",N3="_bulkVerify_p4egs_197",w3="_bulkReturn_p4egs_202",C3="_verifyTable_p4egs_228",E3="_resultValueCell_p4egs_250",R3="_resultValue_p4egs_250",T3="_flagSymbol_p4egs_260",O3="_l_p4egs_53",A3="_low_p4egs_268",D3="_h_p4egs_9",z3="_high_p4egs_273",B3="_c_p4egs_1",k3="_critical_p4egs_278",M3="_a_p4egs_178",L3="_abnormal_p4egs_284",U3="_rangeCell_p4egs_288",$3="_btnGroup_p4egs_293",q3="_verifyBtn_p4egs_298",P3="_repeatBtn_p4egs_299",Xe={container:WD,header:e3,subtitle:t3,stats:n3,statCard:a3,statValue:s3,statLabel:r3,loading:l3,error:i3,emptyState:o3,notice:c3,noticeSuccess:u3,noticeError:d3,queueList:f3,queueTable:h3,bold:m3,reviewBtn:p3,detailView:g3,fadeIn:_3,backButton:y3,detailHeader:v3,detailActions:b3,actionHint:x3,actionButtons:j3,bulkButton:S3,bulkVerify:N3,bulkReturn:w3,verifyTable:C3,resultValueCell:E3,resultValue:R3,flagSymbol:T3,l:O3,low:A3,h:D3,high:z3,c:B3,critical:k3,a:M3,abnormal:L3,rangeCell:U3,btnGroup:$3,verifyBtn:q3,repeatBtn:P3};function H3(){const t=On(),[a,l]=S.useState(null),[o,c]=S.useState(null),{data:h,isLoading:f,error:m}=Ue({queryKey:["verification-queue"],queryFn:()=>Pr.getVerificationQueue()}),g=He({mutationFn:A=>Pr.verify(A),onSuccess:()=>{t.invalidateQueries({queryKey:["verification-queue"]})},onError:()=>{c({type:"error",message:"Failed to verify result."})}}),p=He({mutationFn:({resultId:A,reason:z})=>Pr.reject(A,z),onSuccess:()=>{t.invalidateQueries({queryKey:["verification-queue"]})},onError:()=>{c({type:"error",message:"Failed to return result."})}}),y=He({mutationFn:A=>Pr.bulkVerify(A),onSuccess:()=>{t.invalidateQueries({queryKey:["verification-queue"]}),c({type:"success",message:"All results verified successfully."}),l(null)},onError:()=>{c({type:"error",message:"Failed to verify all results."})}}),v=He({mutationFn:({resultIds:A,reason:z})=>Pr.bulkReject(A,z),onSuccess:()=>{t.invalidateQueries({queryKey:["verification-queue"]}),c({type:"success",message:"Results returned to entry worklist."}),l(null)},onError:()=>{c({type:"error",message:"Failed to return results."})}}),N=S.useMemo(()=>h?.data?.results??h?.results??[],[h]),R=S.useMemo(()=>{const A={};return N.forEach(z=>{let U,M="Unknown",X="Unknown",Z="Test";if(typeof z.order_item=="object"&&z.order_item!==null){const ie=z.order_item;U=ie.id,M=ie.order?.patient?.full_name||"Unknown",X=ie.order?.order_id||"Unknown",Z=ie.test_name||ie.panel_name||"Test"}else U=Number(z.order_item);A[U]||(A[U]={order_item_id:U,patient_name:M,order_id:X,test_name:Z,results:[]}),A[U].results.push(z)}),Object.values(A)},[N]),b=async A=>{if(!A.result_value||!A.result_value.trim()){c({type:"error",message:"Result value is missing. Please return for correction."});return}await g.mutateAsync(A.id)},w=async A=>{const z=prompt("Enter reason for repeating results:");z&&await p.mutateAsync({resultId:A,reason:z})},E=R.find(A=>A.order_item_id===a),$=E?.results.map(A=>A.id).filter(Boolean),k=async()=>{if(!$?.length)return;if((E?.results.filter(z=>!z.result_value||!z.result_value.trim())||[]).length){c({type:"error",message:"Some results are missing values. Please correct before verifying."});return}confirm("Verify all results for this order? This will lock the results.")&&await y.mutateAsync($)},H=async()=>{if(!$?.length)return;const A=prompt("Enter reason for returning results to entry:");A&&await v.mutateAsync({resultIds:$,reason:A})};return f?s.jsx("div",{className:Xe.loading,children:"Loading queue..."}):m?s.jsx("div",{className:Xe.error,children:"Failed to load verification queue"}):s.jsxs("div",{className:Xe.container,children:[o&&s.jsx("div",{className:`${Xe.notice} ${o.type==="success"?Xe.noticeSuccess:Xe.noticeError}`,children:o.message}),a?s.jsxs("div",{className:Xe.detailView,children:[s.jsx("button",{className:Xe.backButton,onClick:()=>l(null),children:" Back to Queue"}),s.jsxs("div",{className:Xe.detailHeader,children:[s.jsxs("h2",{children:["Review Results: ",E?.patient_name]}),s.jsxs("p",{children:[E?.test_name," (#",E?.order_id,")"]})]}),s.jsxs("div",{className:Xe.detailActions,children:[s.jsx("div",{className:Xe.actionHint,children:"Verify all to publish when the full order is complete, or return with a reason for re-entry."}),s.jsxs("div",{className:Xe.actionButtons,children:[s.jsx("button",{className:`${Xe.bulkButton} ${Xe.bulkVerify}`,onClick:k,disabled:y.isPending,children:y.isPending?"Verifying...":"Verify All"}),s.jsx("button",{className:`${Xe.bulkButton} ${Xe.bulkReturn}`,onClick:H,disabled:v.isPending,children:v.isPending?"Returning...":"Return All"})]})]}),s.jsxs("table",{className:Xe.verifyTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Parameter Name"}),s.jsx("th",{children:"Result"}),s.jsx("th",{children:"Units"}),s.jsx("th",{children:"Normal Range"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:E?.results.map(A=>s.jsxs("tr",{children:[s.jsx("td",{children:A.parameter_name}),s.jsx("td",{className:Xe.resultValueCell,children:s.jsxs("span",{className:`${Xe.resultValue} ${Xe[A.flag?.toLowerCase()]}`,children:[A.result_value,A.flag&&s.jsxs("span",{className:Xe.flagSymbol,children:["(",A.flag,")"]})]})}),s.jsx("td",{children:A.unit}),s.jsx("td",{className:Xe.rangeCell,children:A.reference_range||"-"}),s.jsx("td",{children:s.jsxs("div",{className:Xe.btnGroup,children:[s.jsx("button",{className:Xe.verifyBtn,onClick:()=>b(A),disabled:g.isPending,children:"Verify"}),s.jsx("button",{className:Xe.repeatBtn,onClick:()=>w(A.id),disabled:p.isPending,children:"Repeat"})]})})]},A.id))})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Xe.header,children:[s.jsx("h1",{children:"Verification Queue"}),s.jsxs("p",{className:Xe.subtitle,children:[R.length," orders pending verification"]})]}),s.jsx("div",{className:Xe.queueList,children:R.length===0?s.jsx("div",{className:Xe.emptyState,children:"No results pending verification."}):s.jsxs("table",{className:Xe.queueTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Order ID"}),s.jsx("th",{children:"Patient"}),s.jsx("th",{children:"Test / Panel"}),s.jsx("th",{children:"Pending"}),s.jsx("th",{children:"Action"})]})}),s.jsx("tbody",{children:R.map(A=>s.jsxs("tr",{children:[s.jsx("td",{className:Xe.bold,children:A.order_id}),s.jsx("td",{children:A.patient_name}),s.jsx("td",{children:A.test_name}),s.jsxs("td",{children:[A.results.length," parameters"]}),s.jsx("td",{children:s.jsx("button",{className:Xe.reviewBtn,onClick:()=>l(A.order_item_id),children:"Review Results"})})]},A.order_item_id))})]})})]})]})}const G3="_container_155yy_1",F3="_header_155yy_11",I3="_subtitle_155yy_24",Z3="_loadingContainer_155yy_31",V3="_loadingHint_155yy_47",Q3="_spinner_155yy_53",K3="_errorContainer_155yy_69",Y3="_errorIcon_155yy_81",X3="_errorMessage_155yy_99",J3="_errorActions_155yy_108",W3="_retryButton_155yy_114",ez="_emptyState_155yy_140",tz="_reportsList_155yy_151",nz="_reportCard_155yy_157",az="_reportHeader_155yy_170",sz="_reportInfo_155yy_179",rz="_orderId_155yy_186",lz="_statusBadge_155yy_192",iz="_final_155yy_200",oz="_draft_155yy_205",cz="_reportDetails_155yy_210",uz="_detailRow_155yy_217",dz="_label_155yy_222",fz="_value_155yy_228",hz="_reportActions_155yy_232",mz="_downloadButton_155yy_239",Se={container:G3,header:F3,subtitle:I3,loadingContainer:Z3,loadingHint:V3,spinner:Q3,errorContainer:K3,errorIcon:Y3,errorMessage:X3,errorActions:J3,retryButton:W3,emptyState:ez,reportsList:tz,reportCard:nz,reportHeader:az,reportInfo:sz,orderId:rz,statusBadge:lz,final:iz,draft:oz,reportDetails:cz,detailRow:uz,label:dz,value:fz,reportActions:hz,downloadButton:mz};function pz(){const[t,a]=S.useState(0),[l,o]=S.useState(!1),[c,h]=S.useState("reports"),[f,m]=S.useState(null),{data:g,isLoading:p,isError:y,error:v,refetch:N}=Ue({queryKey:["reports",t],queryFn:()=>wS.list(),retry:2,retryDelay:1e3});S.useEffect(()=>{let k;return p?(o(!1),k=window.setTimeout(()=>o(!0),15e3)):o(!1),()=>clearTimeout(k)},[p,t]);const R=()=>{a(k=>k+1),o(!1)};if(p)return l?s.jsx("div",{className:Se.container,children:s.jsxs("div",{className:Se.errorContainer,children:[s.jsx("div",{className:Se.errorIcon,children:""}),s.jsx("h2",{children:"Loading Timeout"}),s.jsx("p",{className:Se.errorMessage,children:"The reports are taking too long to load."}),s.jsx("div",{className:Se.errorActions,children:s.jsx("button",{className:Se.retryButton,onClick:R,children:"Retry"})})]})}):s.jsx("div",{className:Se.container,children:s.jsxs("div",{className:Se.loadingContainer,children:[s.jsx("div",{className:Se.spinner}),s.jsx("p",{children:"Loading reports..."}),s.jsx("p",{className:Se.loadingHint,children:"This may take a few moments"})]})});if(y){const k=v?.message||"Failed to load reports";return s.jsx("div",{className:Se.container,children:s.jsxs("div",{className:Se.errorContainer,children:[s.jsx("div",{className:Se.errorIcon,children:""}),s.jsx("h2",{children:"Failed to Load Reports"}),s.jsx("p",{className:Se.errorMessage,children:k}),s.jsx("div",{className:Se.errorActions,children:s.jsx("button",{className:Se.retryButton,onClick:R,children:"Retry"})})]})})}const b=g?.results,w=Array.isArray(b)?b:[],{data:E,isLoading:$}=Ue({queryKey:["report-audit",f],queryFn:async()=>f?(await K.get("/audit/",{params:{entity_type:"report",entity_id:f}})).data.results||[]:[],enabled:c==="audit"&&!!f});return s.jsxs("div",{className:Se.container,children:[s.jsxs("div",{className:Se.header,children:[s.jsx("h1",{children:"Reports"}),s.jsx("p",{className:Se.subtitle,children:"Generated laboratory reports"}),s.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[s.jsx("button",{className:Se.retryButton,onClick:()=>h("reports"),children:"Reports"}),s.jsx("button",{className:Se.retryButton,onClick:()=>h("audit"),children:"Audit"})]})]}),c==="audit"?s.jsxs("div",{className:Se.reportsList,children:[!f&&s.jsx("p",{children:"Select a report to view audit."}),$?s.jsx("p",{children:"Loading audit..."}):(E||[]).map(k=>s.jsxs("div",{className:Se.reportCard,children:[s.jsx("div",{className:Se.reportHeader,children:s.jsxs("div",{className:Se.reportInfo,children:[s.jsx("h3",{children:k.action}),s.jsxs("span",{className:Se.orderId,children:[k.actor_name||"System","  ",k.created_at?new Date(k.created_at).toLocaleString():""]})]})}),s.jsxs("div",{className:Se.reportDetails,children:[s.jsx("pre",{className:Se.noFile,children:JSON.stringify(k.before||{},null,2)}),s.jsx("pre",{className:Se.noFile,children:JSON.stringify(k.after||{},null,2)})]})]},k.id))]}):w.length===0?s.jsxs("div",{className:Se.emptyState,children:[s.jsx("p",{children:" No reports generated yet"}),s.jsx("button",{className:Se.retryButton,onClick:()=>N(),style:{marginTop:"10px",fontSize:"0.9em"},children:"Refresh List"})]}):s.jsx("div",{className:Se.reportsList,children:w.map(k=>s.jsxs("div",{className:Se.reportCard,children:[s.jsxs("div",{className:Se.reportHeader,children:[s.jsxs("div",{className:Se.reportInfo,children:[s.jsxs("h3",{children:["Report #",k.id]}),s.jsxs("span",{className:Se.orderId,children:["Order: ",k.order_id_display||k.order||"N/A"]})]}),s.jsx("span",{className:`${Se.statusBadge} ${k.is_final?Se.final:Se.draft}`,children:k.is_final?"Final":"Draft"})]}),s.jsxs("div",{className:Se.reportDetails,children:[s.jsxs("div",{className:Se.detailRow,children:[s.jsx("span",{className:Se.label,children:"Generated:"}),s.jsx("span",{className:Se.value,children:k.generated_at?new Date(k.generated_at).toLocaleString():"Date Unknown"})]}),k.generated_by_name&&s.jsxs("div",{className:Se.detailRow,children:[s.jsx("span",{className:Se.label,children:"Generated by:"}),s.jsx("span",{className:Se.value,children:k.generated_by_name})]}),k.verified_by_name&&s.jsxs("div",{className:Se.detailRow,children:[s.jsx("span",{className:Se.label,children:"Verified by:"}),s.jsx("span",{className:Se.value,children:k.verified_by_name})]})]}),s.jsxs("div",{className:Se.reportActions,children:[k.report_file?s.jsx("a",{href:k.report_file,target:"_blank",rel:"noopener noreferrer",className:Se.downloadButton,children:" Download"}):s.jsx("span",{className:Se.noFile,children:"No File"}),s.jsx("button",{className:Se.downloadButton,onClick:()=>{m(k.id||null),h("audit")},children:"Audit"})]})]},k.id||Math.random()))})]})}const gz="_container_1k9es_1",_z="_header_1k9es_8",yz="_addButton_1k9es_22",vz="_loading_1k9es_38",bz="_error_1k9es_39",xz="_noData_1k9es_40",jz="_table_1k9es_50",Sz="_amount_1k9es_78",Nz="_methodBadge_1k9es_83",wz="_receiptButton_1k9es_94",Cz="_modalOverlay_1k9es_114",Ez="_modal_1k9es_114",Rz="_modalHeader_1k9es_137",Tz="_closeButton_1k9es_152",Oz="_modalForm_1k9es_171",Az="_formGroup_1k9es_175",Dz="_input_1k9es_187",zz="_select_1k9es_188",Bz="_textarea_1k9es_189",kz="_modalActions_1k9es_209",Mz="_cancelButton_1k9es_218",Lz="_submitButton_1k9es_219",it={container:gz,header:_z,addButton:yz,loading:vz,error:bz,noData:xz,table:jz,amount:Sz,methodBadge:Nz,receiptButton:wz,modalOverlay:Cz,modal:Ez,modalHeader:Rz,closeButton:Tz,modalForm:Oz,formGroup:Az,input:Dz,select:zz,textarea:Bz,modalActions:kz,cancelButton:Mz,submitButton:Lz};function Uz(){const t=On(),{branding:a}=bs(),l=a?.currency||"PKR",[o,c]=S.useState(!1),[h,f]=S.useState(null),[m,g]=S.useState(""),[p,y]=S.useState("cash"),[v,N]=S.useState(""),[R,b]=S.useState(""),{data:w,isLoading:E,error:$}=Ue({queryKey:["payments"],queryFn:()=>wd.list()}),k=He({mutationFn:M=>wd.create(M),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]}),t.invalidateQueries({queryKey:["orders"]}),c(!1),f(null),g(""),y("cash"),N(""),b("")}}),H=He({mutationFn:async M=>{const X=await wd.getReceipt(M),Z=window.URL.createObjectURL(X),ie=document.createElement("a");ie.href=Z,ie.download=`receipt_${M}.pdf`,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(Z),document.body.removeChild(ie)}}),A=w?.results||[],z=M=>{if(M.preventDefault(),!h||!m){alert("Please fill in all required fields");return}k.mutate({order:h,amount:m,payment_method:p,transaction_id:v||void 0,notes:R||void 0})},U=M=>{H.mutate(M)};return s.jsxs("div",{className:it.container,children:[s.jsxs("div",{className:it.header,children:[s.jsx("h1",{children:"Payments"}),s.jsx("button",{onClick:()=>c(!0),className:it.addButton,children:"+ Record Payment"})]}),E?s.jsx("div",{className:it.loading,children:"Loading payments..."}):$?s.jsx("div",{className:it.error,children:"Failed to load payments"}):s.jsxs("table",{className:it.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Order ID"}),s.jsx("th",{children:"Amount"}),s.jsx("th",{children:"Payment Method"}),s.jsx("th",{children:"Transaction ID"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Recorded By"}),s.jsx("th",{children:"Actions"})]})}),s.jsxs("tbody",{children:[A.map(M=>s.jsxs("tr",{children:[s.jsxs("td",{children:["Order #",M.order]}),s.jsx("td",{className:it.amount,children:qt(M.amount,l)}),s.jsx("td",{children:s.jsx("span",{className:it.methodBadge,children:M.payment_method.replace("_"," ")})}),s.jsx("td",{children:M.transaction_id||"-"}),s.jsx("td",{children:new Date(M.payment_date).toLocaleString()}),s.jsx("td",{children:M.recorded_by_name||"-"}),s.jsx("td",{children:s.jsx("button",{onClick:()=>U(M.id),className:it.receiptButton,disabled:H.isPending,children:"Receipt"})})]},M.id)),A.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:it.noData,children:"No payments found"})})]})]}),o&&s.jsx("div",{className:it.modalOverlay,onClick:()=>c(!1),children:s.jsxs("div",{className:it.modal,onClick:M=>M.stopPropagation(),children:[s.jsxs("div",{className:it.modalHeader,children:[s.jsx("h2",{children:"Record Payment"}),s.jsx("button",{onClick:()=>c(!1),className:it.closeButton,children:""})]}),s.jsxs("form",{onSubmit:z,className:it.modalForm,children:[s.jsxs("div",{className:it.formGroup,children:[s.jsx("label",{children:"Order ID *"}),s.jsx("input",{type:"number",value:h||"",onChange:M=>f(M.target.value?Number(M.target.value):null),required:!0,className:it.input})]}),s.jsxs("div",{className:it.formGroup,children:[s.jsx("label",{children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",value:m,onChange:M=>g(M.target.value),required:!0,className:it.input})]}),s.jsxs("div",{className:it.formGroup,children:[s.jsx("label",{children:"Payment Method *"}),s.jsxs("select",{value:p,onChange:M=>y(M.target.value),required:!0,className:it.select,children:[s.jsx("option",{value:"cash",children:"Cash"}),s.jsx("option",{value:"card",children:"Credit/Debit Card"}),s.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),s.jsx("option",{value:"mobile_money",children:"Mobile Money"}),s.jsx("option",{value:"insurance",children:"Insurance"})]})]}),s.jsxs("div",{className:it.formGroup,children:[s.jsx("label",{children:"Transaction ID"}),s.jsx("input",{type:"text",value:v,onChange:M=>N(M.target.value),className:it.input})]}),s.jsxs("div",{className:it.formGroup,children:[s.jsx("label",{children:"Notes"}),s.jsx("textarea",{value:R,onChange:M=>b(M.target.value),className:it.textarea,rows:3})]}),s.jsxs("div",{className:it.modalActions,children:[s.jsx("button",{type:"button",onClick:()=>c(!1),className:it.cancelButton,children:"Cancel"}),s.jsx("button",{type:"submit",className:it.submitButton,disabled:k.isPending,children:k.isPending?"Recording...":"Record Payment"})]})]})]})})]})}const $z="_container_1qnt1_1",qz="_header_1qnt1_9",Pz="_subtitle_1qnt1_20",Hz="_filters_1qnt1_26",Gz="_filterGroup_1qnt1_34",Fz="_select_1qnt1_46",Iz="_searchFilter_1qnt1_54",Zz="_searchInput_1qnt1_59",Vz="_loading_1qnt1_67",Qz="_error_1qnt1_68",Kz="_noData_1qnt1_69",Yz="_logsContainer_1qnt1_79",Xz="_logEntry_1qnt1_85",Jz="_logHeader_1qnt1_92",Wz="_logMeta_1qnt1_101",eB="_actionBadge_1qnt1_108",tB="_actionCreate_1qnt1_117",nB="_actionUpdate_1qnt1_122",aB="_actionDelete_1qnt1_127",sB="_actionApprove_1qnt1_132",rB="_actionReject_1qnt1_137",lB="_actionDefault_1qnt1_142",iB="_tableName_1qnt1_147",oB="_objectId_1qnt1_153",cB="_timestamp_1qnt1_158",uB="_logDetails_1qnt1_163",dB="_detailRow_1qnt1_169",fB="_label_1qnt1_174",hB="_value_1qnt1_180",mB="_changes_1qnt1_184",pB="_changeSection_1qnt1_193",gB="_jsonValue_1qnt1_205",ke={container:$z,header:qz,subtitle:Pz,filters:Hz,filterGroup:Gz,select:Fz,searchFilter:Iz,searchInput:Zz,loading:Vz,error:Qz,noData:Kz,logsContainer:Yz,logEntry:Xz,logHeader:Jz,logMeta:Wz,actionBadge:eB,actionCreate:tB,actionUpdate:nB,actionDelete:aB,actionApprove:sB,actionReject:rB,actionDefault:lB,tableName:iB,objectId:oB,timestamp:cB,logDetails:uB,detailRow:dB,label:fB,value:hB,changes:mB,changeSection:pB,jsonValue:gB};function _B(){const[t,a]=S.useState(""),[l,o]=S.useState(""),[c,h]=S.useState(""),{data:f,isLoading:m,error:g}=Ue({queryKey:["audit-logs",t,l,c],queryFn:async()=>{const v={};return t&&(v.action=t),l&&(v.table_name=l),c&&(v.search=c),(await K.get("/audit/logs/",{params:v})).data}}),p=f?.results||[],y=v=>{switch(v){case"CREATE":return ke.actionCreate;case"UPDATE":return ke.actionUpdate;case"DELETE":return ke.actionDelete;case"VERIFY":case"APPROVE":return ke.actionApprove;case"REJECT":return ke.actionReject;default:return ke.actionDefault}};return s.jsxs("div",{className:ke.container,children:[s.jsxs("div",{className:ke.header,children:[s.jsx("h1",{children:"Audit Logs"}),s.jsx("p",{className:ke.subtitle,children:"System activity and change tracking"})]}),s.jsxs("div",{className:ke.filters,children:[s.jsxs("div",{className:ke.filterGroup,children:[s.jsx("label",{children:"Action:"}),s.jsxs("select",{value:t,onChange:v=>a(v.target.value),className:ke.select,children:[s.jsx("option",{value:"",children:"All Actions"}),s.jsx("option",{value:"CREATE",children:"Create"}),s.jsx("option",{value:"UPDATE",children:"Update"}),s.jsx("option",{value:"DELETE",children:"Delete"}),s.jsx("option",{value:"VERIFY",children:"Verify"}),s.jsx("option",{value:"APPROVE",children:"Approve"}),s.jsx("option",{value:"REJECT",children:"Reject"}),s.jsx("option",{value:"LOGIN",children:"Login"}),s.jsx("option",{value:"LOGOUT",children:"Logout"})]})]}),s.jsxs("div",{className:ke.filterGroup,children:[s.jsx("label",{children:"Table:"}),s.jsxs("select",{value:l,onChange:v=>o(v.target.value),className:ke.select,children:[s.jsx("option",{value:"",children:"All Tables"}),s.jsx("option",{value:"patients",children:"Patients"}),s.jsx("option",{value:"orders",children:"Orders"}),s.jsx("option",{value:"samples",children:"Samples"}),s.jsx("option",{value:"results",children:"Results"}),s.jsx("option",{value:"reports",children:"Reports"}),s.jsx("option",{value:"payments",children:"Payments"})]})]}),s.jsx("div",{className:ke.searchFilter,children:s.jsx("input",{type:"text",placeholder:"Search logs...",value:c,onChange:v=>h(v.target.value),className:ke.searchInput})})]}),m?s.jsx("div",{className:ke.loading,children:"Loading audit logs..."}):g?s.jsx("div",{className:ke.error,children:"Failed to load audit logs"}):s.jsxs("div",{className:ke.logsContainer,children:[p.map(v=>s.jsxs("div",{className:ke.logEntry,children:[s.jsxs("div",{className:ke.logHeader,children:[s.jsxs("div",{className:ke.logMeta,children:[s.jsx("span",{className:`${ke.actionBadge} ${y(v.action)}`,children:v.action}),s.jsx("span",{className:ke.tableName,children:v.table_name}),v.object_id&&s.jsxs("span",{className:ke.objectId,children:["ID: ",v.object_id]})]}),s.jsx("span",{className:ke.timestamp,children:new Date(v.timestamp).toLocaleString()})]}),s.jsxs("div",{className:ke.logDetails,children:[s.jsxs("div",{className:ke.detailRow,children:[s.jsx("span",{className:ke.label,children:"User:"}),s.jsxs("span",{className:ke.value,children:[v.user_name||"System"," (",v.user_role||"N/A",")"]})]}),v.ip_address&&s.jsxs("div",{className:ke.detailRow,children:[s.jsx("span",{className:ke.label,children:"IP Address:"}),s.jsx("span",{className:ke.value,children:v.ip_address})]}),v.notes&&s.jsxs("div",{className:ke.detailRow,children:[s.jsx("span",{className:ke.label,children:"Notes:"}),s.jsx("span",{className:ke.value,children:v.notes})]}),(v.old_value||v.new_value)&&s.jsxs("div",{className:ke.changes,children:[v.old_value&&s.jsxs("div",{className:ke.changeSection,children:[s.jsx("strong",{children:"Old Value:"}),s.jsx("pre",{className:ke.jsonValue,children:JSON.stringify(v.old_value,null,2)})]}),v.new_value&&s.jsxs("div",{className:ke.changeSection,children:[s.jsx("strong",{children:"New Value:"}),s.jsx("pre",{className:ke.jsonValue,children:JSON.stringify(v.new_value,null,2)})]})]})]})]},v.id)),p.length===0&&s.jsx("div",{className:ke.noData,children:"No audit logs found"})]})]})}function Vd(t){if(Array.isArray(t))return t;if(t?.results){if(Array.isArray(t.results))return t.results;if(t.results?.data&&Array.isArray(t.results.data))return t.results.data}return t?.data&&Array.isArray(t.data)?t.data:(console.warn("Could not extract array from response",t),[])}function yB(t){return t&&typeof t=="object"&&!Array.isArray(t)?"data"in t&&typeof t.data=="object"?t.data:t:null}const vB="_container_1ps1m_1",bB="_header_1ps1m_9",xB="_toolbar_1ps1m_20",jB="_importPanel_1ps1m_26",SB="_settingsPanel_1ps1m_27",NB="_tablePanel_1ps1m_28",wB="_importRow_1ps1m_41",CB="_settingsGrid_1ps1m_47",EB="_primaryBtn_1ps1m_55",RB="_secondaryBtn_1ps1m_56",TB="_dangerBtn_1ps1m_57",OB="_tableWrap_1ps1m_78",AB="_table_1ps1m_28",DB="_actions_1ps1m_95",zB="_linkBtn_1ps1m_101",BB="_linkBtnDanger_1ps1m_102",kB="_logsBlock_1ps1m_114",MB="_errorInline_1ps1m_125",LB="_empty_1ps1m_131",UB="_state_1ps1m_135",$B="_stateError_1ps1m_136",qB="_modalOverlay_1ps1m_144",PB="_modal_1ps1m_144",HB="_code_1ps1m_161",GB="_input_1ps1m_169",FB="_modalActions_1ps1m_176",Je={container:vB,header:bB,toolbar:xB,importPanel:jB,settingsPanel:SB,tablePanel:NB,importRow:wB,settingsGrid:CB,primaryBtn:EB,secondaryBtn:RB,dangerBtn:TB,tableWrap:OB,table:AB,actions:DB,linkBtn:zB,linkBtnDanger:BB,logsBlock:kB,errorInline:MB,empty:LB,state:UB,stateError:$B,modalOverlay:qB,modal:PB,code:HB,input:GB,modalActions:FB},IB=4e3;function ZB(t){if(!t)return"0 B";const a=["B","KB","MB","GB","TB"],l=Math.min(Math.floor(Math.log(t)/Math.log(1024)),a.length-1),o=t/Math.pow(1024,l);return`${o.toFixed(o>=10||l===0?0:1)} ${a[l]}`}function VB(t){return new Date(t).toLocaleString()}function QB(){const t=On(),[a,l]=S.useState(null),[o,c]=S.useState(null),[h,f]=S.useState(""),[m,g]=S.useState({}),{data:p,isLoading:y,error:v}=Ue({queryKey:["backups"],queryFn:()=>$a.list(),refetchInterval:z=>{const U=z.state.data;return U&&Vd(U).some(X=>X.status==="PENDING"||X.status==="RUNNING")?IB:!1}}),{data:N}=Ue({queryKey:["backup-settings"],queryFn:()=>$a.settings()}),R=S.useMemo(()=>Vd(p),[p]),b=He({mutationFn:z=>$a.create(z),onSuccess:()=>{t.invalidateQueries({queryKey:["backups"]})}}),w=He({mutationFn:z=>$a.importBackup(z),onSuccess:()=>{l(null),t.invalidateQueries({queryKey:["backups"]}),alert("Backup imported successfully.")},onError:z=>{const U=z instanceof Error?z.message:"Import failed";alert(U)}}),E=He({mutationFn:({id:z,confirmation:U})=>$a.restore(z,U),onSuccess:()=>{c(null),f(""),t.invalidateQueries({queryKey:["backups"]}),alert("Restore job queued. Monitor logs for progress.")},onError:z=>{const U=z instanceof Error?z.message:"Restore failed";alert(U)}}),$=He({mutationFn:z=>$a.push(z),onSuccess:()=>{t.invalidateQueries({queryKey:["backups"]})}}),k=He({mutationFn:z=>$a.remove(z),onSuccess:()=>{t.invalidateQueries({queryKey:["backups"]})}}),H=He({mutationFn:()=>$a.testOffsite(),onSuccess:z=>{alert(z.message||"Connection test complete")},onError:z=>{const U=z instanceof Error?z.message:"Offsite test failed";alert(U)}}),A=async z=>{try{const U=await $a.download(z.id),M=window.URL.createObjectURL(U),X=document.createElement("a");X.href=M,X.download=z.filename?.split("/").pop()||`${z.id}.zip`,document.body.appendChild(X),X.click(),X.remove(),window.URL.revokeObjectURL(M)}catch(U){const M=U instanceof Error?U.message:"Download failed";alert(M)}};return y?s.jsx("div",{className:Je.state,children:"Loading backups..."}):v?s.jsx("div",{className:Je.stateError,children:"Failed to load backups."}):s.jsxs("div",{className:Je.container,children:[s.jsxs("div",{className:Je.header,children:[s.jsx("h1",{children:"Backups"}),s.jsx("p",{children:"Backup and restore database, media, and deployment snapshot artifacts."})]}),s.jsxs("section",{className:Je.toolbar,children:[s.jsx("button",{className:Je.primaryBtn,onClick:()=>b.mutate(!1),disabled:b.isPending,children:"Create Backup Now"}),s.jsx("button",{className:Je.secondaryBtn,onClick:()=>b.mutate(!0),disabled:b.isPending,children:"Create + Push Offsite"})]}),s.jsxs("section",{className:Je.importPanel,children:[s.jsx("h2",{children:"Import Backup"}),s.jsxs("div",{className:Je.importRow,children:[s.jsx("input",{type:"file",accept:".zip",onChange:z=>l(z.target.files?.[0]||null)}),s.jsx("button",{className:Je.secondaryBtn,disabled:!a||w.isPending,onClick:()=>a&&w.mutate(a),children:"Import"})]})]}),s.jsxs("section",{className:Je.settingsPanel,children:[s.jsx("h2",{children:"Settings"}),s.jsxs("div",{className:Je.settingsGrid,children:[s.jsxs("div",{children:["Retention Daily: ",N?.retention_daily??"-"]}),s.jsxs("div",{children:["Retention Weekly: ",N?.retention_weekly??"-"]}),s.jsxs("div",{children:["Retention Monthly: ",N?.retention_monthly??"-"]}),s.jsxs("div",{children:["Offsite Provider: ",N?.offsite_provider??"NONE"]}),s.jsxs("div",{children:["Offsite Configured: ",N?.offsite_configured?"Yes":"No"]})]}),s.jsx("button",{className:Je.secondaryBtn,onClick:()=>H.mutate(),disabled:H.isPending,children:"Test Offsite Connection"})]}),s.jsxs("section",{className:Je.tablePanel,children:[s.jsx("h2",{children:"Backup History"}),s.jsx("div",{className:Je.tableWrap,children:s.jsxs("table",{className:Je.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Created"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Size"}),s.jsx("th",{children:"Offsite"}),s.jsx("th",{children:"Actions"})]})}),s.jsxs("tbody",{children:[R.map(z=>{const U=z.status==="PENDING"||z.status==="RUNNING";return s.jsxs("tr",{children:[s.jsx("td",{children:VB(z.created_at)}),s.jsx("td",{children:z.type}),s.jsx("td",{children:z.status}),s.jsx("td",{children:ZB(z.size_bytes)}),s.jsx("td",{children:z.offsite_status}),s.jsxs("td",{children:[s.jsxs("div",{className:Je.actions,children:[s.jsx("button",{className:Je.linkBtn,onClick:()=>A(z),children:"Download"}),s.jsx("button",{className:Je.linkBtn,onClick:()=>c(z),disabled:U,children:"Restore"}),s.jsx("button",{className:Je.linkBtn,onClick:()=>$.mutate(z.id),disabled:$.isPending||U,children:"Push"}),s.jsx("button",{className:Je.linkBtnDanger,onClick:()=>{window.confirm(`Delete backup ${z.id}?`)&&k.mutate(z.id)},disabled:k.isPending||U,children:"Delete"}),s.jsx("button",{className:Je.linkBtn,onClick:()=>g(M=>({...M,[z.id]:!M[z.id]})),children:m[z.id]?"Hide Logs":"Logs"})]}),m[z.id]&&s.jsx("pre",{className:Je.logsBlock,children:z.logs||"(No logs yet)"}),!!z.error_message&&s.jsx("div",{className:Je.errorInline,children:z.error_message})]})]},z.id)}),!R.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:Je.empty,children:"No backups yet."})})]})]})})]}),o&&s.jsx("div",{className:Je.modalOverlay,children:s.jsxs("div",{className:Je.modal,children:[s.jsx("h3",{children:"Confirm Restore"}),s.jsx("p",{children:"This will overwrite current database and media. Type exactly:"}),s.jsxs("code",{className:Je.code,children:["RESTORE ",o.id]}),s.jsx("input",{className:Je.input,value:h,onChange:z=>f(z.target.value),placeholder:`RESTORE ${o.id}`}),s.jsxs("div",{className:Je.modalActions,children:[s.jsx("button",{className:Je.secondaryBtn,onClick:()=>c(null),children:"Cancel"}),s.jsx("button",{className:Je.dangerBtn,onClick:()=>E.mutate({id:o.id,confirmation:h}),disabled:E.isPending,children:"Restore"})]})]})})]})}const KB="_container_cyonb_1",YB="_header_cyonb_8",XB="_actionButton_cyonb_22",JB="_filters_cyonb_37",WB="_filter_cyonb_37",ek="_searchFilter_cyonb_56",tk="_select_cyonb_61",nk="_searchInput_cyonb_62",ak="_loading_cyonb_77",sk="_noData_cyonb_78",rk="_table_cyonb_84",lk="_active_cyonb_110",ik="_inactive_cyonb_115",ok="_editButton_cyonb_120",ck="_deleteButton_cyonb_121",uk="_modal_cyonb_148",dk="_modalContent_cyonb_161",fk="_formGroup_cyonb_176",hk="_formRow_cyonb_187",mk="_input_cyonb_193",pk="_textarea_cyonb_194",gk="_modalActions_cyonb_207",_k="_submitButton_cyonb_214",yk="_cancelButton_cyonb_215",De={container:KB,header:YB,actionButton:XB,filters:JB,filter:WB,searchFilter:ek,select:tk,searchInput:nk,loading:ak,noData:sk,table:rk,active:lk,inactive:ik,editButton:ok,deleteButton:ck,modal:uk,modalContent:dk,formGroup:fk,formRow:hk,input:mk,textarea:pk,modalActions:gk,submitButton:_k,cancelButton:yk};function vk(){const t=On(),[a,l]=S.useState(null),[o,c]=S.useState(""),[h,f]=S.useState(""),[m,g]=S.useState(!1),[p,y]=S.useState(null),{data:v}=Ue({queryKey:["test-parameters"],queryFn:()=>Nt.getParameters({})}),{data:N,isLoading:R}=Ue({queryKey:["reference-ranges",a,o,h],queryFn:()=>_s.list({...a&&{parameter:a},...o&&{gender:o},...h&&{search:h}})}),b=He({mutationFn:A=>_s.create(A),onSuccess:()=>{t.invalidateQueries({queryKey:["reference-ranges"]}),g(!1)}}),w=He({mutationFn:({id:A,data:z})=>_s.update(A,z),onSuccess:()=>{t.invalidateQueries({queryKey:["reference-ranges"]}),y(null)}}),E=He({mutationFn:A=>_s.delete(A),onSuccess:()=>{t.invalidateQueries({queryKey:["reference-ranges"]})}}),$=N?.results||[],k=v?.results||[],H=A=>{A.preventDefault();const z=new FormData(A.currentTarget),U={parameter:Number(z.get("parameter")),age_min:z.get("age_min")?Number(z.get("age_min")):void 0,age_max:z.get("age_max")?Number(z.get("age_max")):void 0,gender:z.get("gender"),reference_min:z.get("reference_min")?Number(z.get("reference_min")):void 0,reference_max:z.get("reference_max")?Number(z.get("reference_max")):void 0,critical_low:z.get("critical_low")?Number(z.get("critical_low")):void 0,critical_high:z.get("critical_high")?Number(z.get("critical_high")):void 0,notes:z.get("notes")?.toString()||void 0};p?w.mutate({id:p.id,data:U}):b.mutate(U)};return s.jsxs("div",{className:De.container,children:[s.jsxs("div",{className:De.header,children:[s.jsx("h1",{children:"Reference Range Management"}),s.jsx("button",{onClick:()=>g(!0),className:De.actionButton,children:"Create Reference Range"})]}),s.jsxs("div",{className:De.filters,children:[s.jsxs("div",{className:De.filter,children:[s.jsx("label",{children:"Parameter:"}),s.jsxs("select",{value:a||"",onChange:A=>l(A.target.value?Number(A.target.value):null),className:De.select,children:[s.jsx("option",{value:"",children:"All Parameters"}),k.map(A=>s.jsxs("option",{value:A.id,children:[A.parameter_name," (ID: ",A.id,")"]},A.id))]})]}),s.jsxs("div",{className:De.filter,children:[s.jsx("label",{children:"Gender:"}),s.jsxs("select",{value:o,onChange:A=>c(A.target.value),className:De.select,children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Both",children:"Both"})]})]}),s.jsx("div",{className:De.searchFilter,children:s.jsx("input",{type:"text",placeholder:"Search...",value:h,onChange:A=>f(A.target.value),className:De.searchInput})})]}),R?s.jsx("div",{className:De.loading,children:"Loading..."}):$.length===0?s.jsx("div",{className:De.noData,children:"No reference ranges found"}):s.jsx("div",{className:De.table,children:s.jsxs("table",{children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Parameter"}),s.jsx("th",{children:"Test"}),s.jsx("th",{children:"Age Range"}),s.jsx("th",{children:"Gender"}),s.jsx("th",{children:"Reference Range"}),s.jsx("th",{children:"Critical Range"}),s.jsx("th",{children:"Version"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:$.map(A=>s.jsxs("tr",{children:[s.jsx("td",{children:A.parameter_name}),s.jsx("td",{children:A.test_name}),s.jsxs("td",{children:[A.age_min!==null&&A.age_min!==void 0?`${A.age_min}`:"0","-",A.age_max!==null&&A.age_max!==void 0?`${A.age_max}`:""," years"]}),s.jsx("td",{children:A.gender}),s.jsxs("td",{children:[A.reference_min!==null&&A.reference_min!==void 0?A.reference_min:"-"," - ",A.reference_max!==null&&A.reference_max!==void 0?A.reference_max:"-"]}),s.jsxs("td",{children:[A.critical_low!==null&&A.critical_low!==void 0?A.critical_low:"-"," / ",A.critical_high!==null&&A.critical_high!==void 0?A.critical_high:"-"]}),s.jsx("td",{children:A.version}),s.jsx("td",{children:s.jsx("span",{className:A.is_active?De.active:De.inactive,children:A.is_active?"Active":"Inactive"})}),s.jsxs("td",{children:[s.jsx("button",{onClick:()=>y(A),className:De.editButton,children:"Edit"}),s.jsx("button",{onClick:()=>{confirm("Are you sure you want to delete this reference range?")&&E.mutate(A.id)},className:De.deleteButton,children:"Delete"})]})]},A.id))})]})}),(m||p)&&s.jsx("div",{className:De.modal,children:s.jsxs("div",{className:De.modalContent,children:[s.jsxs("h2",{children:[p?"Edit":"Create"," Reference Range"]}),s.jsxs("form",{onSubmit:H,children:[s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Parameter *"}),s.jsxs("select",{name:"parameter",required:!0,defaultValue:p?.parameter,className:De.select,children:[s.jsx("option",{value:"",children:"Select Parameter"}),k.map(A=>s.jsxs("option",{value:A.id,children:[A.parameter_name," (ID: ",A.id,")"]},A.id))]})]}),s.jsxs("div",{className:De.formRow,children:[s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Age Min (years)"}),s.jsx("input",{type:"number",name:"age_min",defaultValue:p?.age_min,className:De.input})]}),s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Age Max (years)"}),s.jsx("input",{type:"number",name:"age_max",defaultValue:p?.age_max,className:De.input})]})]}),s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Gender *"}),s.jsxs("select",{name:"gender",required:!0,defaultValue:p?.gender||"Both",className:De.select,children:[s.jsx("option",{value:"Both",children:"Both"}),s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"})]})]}),s.jsxs("div",{className:De.formRow,children:[s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Reference Min"}),s.jsx("input",{type:"number",step:"0.01",name:"reference_min",defaultValue:p?.reference_min,className:De.input})]}),s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Reference Max"}),s.jsx("input",{type:"number",step:"0.01",name:"reference_max",defaultValue:p?.reference_max,className:De.input})]})]}),s.jsxs("div",{className:De.formRow,children:[s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Critical Low"}),s.jsx("input",{type:"number",step:"0.01",name:"critical_low",defaultValue:p?.critical_low,className:De.input})]}),s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Critical High"}),s.jsx("input",{type:"number",step:"0.01",name:"critical_high",defaultValue:p?.critical_high,className:De.input})]})]}),s.jsxs("div",{className:De.formGroup,children:[s.jsx("label",{children:"Notes"}),s.jsx("textarea",{name:"notes",defaultValue:p?.notes,className:De.textarea,rows:3})]}),s.jsxs("div",{className:De.modalActions,children:[s.jsx("button",{type:"submit",className:De.submitButton,children:p?"Update":"Create"}),s.jsx("button",{type:"button",onClick:()=>{g(!1),y(null)},className:De.cancelButton,children:"Cancel"})]})]})]})})]})}const bk="_container_n2drj_1",xk="_header_n2drj_9",jk="_subtitle_n2drj_20",Sk="_tabs_n2drj_26",Nk="_tab_n2drj_26",wk="_activeTab_n2drj_34",Ck="_form_n2drj_55",Ek="_tabContent_n2drj_59",Rk="_formGroup_n2drj_70",Tk="_formRow_n2drj_81",Ok="_uploadRow_n2drj_87",Ak="_uploadButton_n2drj_93",Dk="_imagePreview_n2drj_108",zk="_removeButton_n2drj_122",Bk="_input_n2drj_132",kk="_textarea_n2drj_133",Mk="_select_n2drj_134",Lk="_checkbox_n2drj_147",Uk="_formActions_n2drj_151",$k="_submitButton_n2drj_158",qk="_loading_n2drj_178",Pk="_error_n2drj_179",Hk="_description_n2drj_189",Gk="_hint_n2drj_195",Fk="_checkboxLabel_n2drj_202",Ik="_signatoryRow_n2drj_210",Zk="_secondaryButton_n2drj_218",Vk="_brandingPreview_n2drj_232",Qk="_previewCard_n2drj_240",Kk="_previewInfo_n2drj_256",Yk="_previewSection_n2drj_272",Xk="_headerPreview_n2drj_289",Jk="_previewLogo_n2drj_298",Wk="_previewName_n2drj_304",e6="_notice_n2drj_310",t6="_noticeSuccess_n2drj_317",n6="_noticeError_n2drj_323",a6="_userGrid_n2drj_329",s6="_userCard_n2drj_335",r6="_userListCard_n2drj_336",l6="_cardHeader_n2drj_347",i6="_userFormActions_n2drj_361",o6="_resetPanel_n2drj_367",c6="_resetButton_n2drj_379",u6="_listHeader_n2drj_395",d6="_searchInput_n2drj_403",f6="_tableWrapper_n2drj_411",h6="_userTable_n2drj_415",m6="_userIdentity_n2drj_435",p6="_userName_n2drj_441",g6="_userMeta_n2drj_446",_6="_statusBadge_n2drj_451",y6="_statusActive_n2drj_459",v6="_statusInactive_n2drj_464",b6="_userActions_n2drj_469",x6="_actionButton_n2drj_474",j6="_actionPrimary_n2drj_484",S6="_actionDanger_n2drj_490",N6="_activeRow_n2drj_501",w6="_emptyState_n2drj_505",C6="_twoColumn_n2drj_511",E6="_column_n2drj_517",R6="_reportPreviewPage_n2drj_522",T6="_previewHeader_n2drj_533",O6="_previewFooter_n2drj_539",A6="_previewRefresher_n2drj_547",D6="_refreshButton_n2drj_553",z6="_templateToolbar_n2drj_563",B6="_templateThreePane_n2drj_569",k6="_templateSectionList_n2drj_577",M6="_templateSectionBtn_n2drj_585",L6="_templateSectionActive_n2drj_601",U6="_templatePreview_n2drj_613",$6="_templatePreviewTitle_n2drj_621",q6="_templatePreviewCard_n2drj_628",P6="_templateEditor_n2drj_638",H6="_templateEditorTitle_n2drj_646",G6="_templateHelp_n2drj_653",C={container:bk,header:xk,subtitle:jk,tabs:Sk,tab:Nk,activeTab:wk,form:Ck,tabContent:Ek,formGroup:Rk,formRow:Tk,uploadRow:Ok,uploadButton:Ak,imagePreview:Dk,removeButton:zk,input:Bk,textarea:kk,select:Mk,checkbox:Lk,formActions:Uk,submitButton:$k,loading:qk,error:Pk,description:Hk,hint:Gk,checkboxLabel:Fk,signatoryRow:Ik,secondaryButton:Zk,brandingPreview:Vk,previewCard:Qk,previewInfo:Kk,previewSection:Yk,headerPreview:Xk,previewLogo:Jk,previewName:Wk,notice:e6,noticeSuccess:t6,noticeError:n6,userGrid:a6,userCard:s6,userListCard:r6,cardHeader:l6,userFormActions:i6,resetPanel:o6,resetButton:c6,listHeader:u6,searchInput:d6,tableWrapper:f6,userTable:h6,userIdentity:m6,userName:p6,userMeta:g6,statusBadge:_6,statusActive:y6,statusInactive:v6,userActions:b6,actionButton:x6,actionPrimary:j6,actionDanger:S6,activeRow:N6,emptyState:w6,twoColumn:C6,column:E6,reportPreviewPage:R6,previewHeader:T6,previewFooter:O6,previewRefresher:A6,refreshButton:D6,templateToolbar:z6,templateThreePane:B6,templateSectionList:k6,templateSectionBtn:M6,templateSectionActive:L6,templatePreview:U6,templatePreviewTitle:$6,templatePreviewCard:q6,templateEditor:P6,templateEditorTitle:H6,templateHelp:G6};function F6(){const t=On(),a=ra(),[l,o]=S.useState(()=>{const D=new URLSearchParams(a.search).get("tab");return D==="ui"||D==="reports"||D==="lab"||D==="email"||D==="backup"||D==="print"||D==="users"?D:"lab"}),[c,h]=S.useState(null),[f,m]=S.useState(null),[g,p]=S.useState(null),[y,v]=S.useState(()=>ff()),[N,R]=S.useState(null),[b,w]=S.useState(null),[E,$]=S.useState(!1),[k,H]=S.useState({name:"",type:"REPORT"}),[A,z]=S.useState(""),[U,M]=S.useState(null),[X,Z]=S.useState(null),ie=S.useRef(null),[ve,Oe]=S.useState({newPassword:"",confirmPassword:""}),[be,Ie]=S.useState({username:"",email:"",full_name:"",role:"Receptionist",is_active:!0,password:"",password_confirm:""}),[ot,G]=S.useState(0),[ae,he]=S.useState("basic"),[Ee,Ae]=S.useState([]),[O,Q]=S.useState(-1),oe=30,ue=["Admin","Receptionist","Cashier","Phlebotomist","Lab Technician","Pathologist","Manager"],{data:_e,isLoading:Ce}=Ue({queryKey:["system-settings"],queryFn:()=>ga.get()}),{data:Re}=Ue({queryKey:["print-templates"],queryFn:()=>Ro.list()}),Qe=He({mutationFn:x=>ga.patch(x),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]}),alert("Settings updated successfully")},onError:x=>{alert(`Error updating settings: ${x instanceof Error?x.message:"Unknown error"}`)}}),$e=He({mutationFn:x=>ga.uploadReportHeaderImage(x),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]}),h(null)},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to upload header image. Please try again.";alert(ne)}}),Ft=He({mutationFn:x=>ga.uploadReportFooterImage(x),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]}),m(null)},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to upload footer image. Please try again.";alert(ne)}}),re=He({mutationFn:()=>ga.removeReportHeaderImage(),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]})},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to remove header image. Please try again.";alert(ne)}}),Ze=He({mutationFn:()=>ga.removeReportFooterImage(),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]})},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to remove footer image. Please try again.";alert(ne)}}),ct=He({mutationFn:x=>ga.uploadLabLogo(x),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]}),t.invalidateQueries({queryKey:["branding"]}),p(null),alert("Logo updated successfully")},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to upload logo. Please try again.";alert(ne)}}),fe=He({mutationFn:()=>ga.removeLabLogo(),onSuccess:()=>{t.invalidateQueries({queryKey:["system-settings"]}),t.invalidateQueries({queryKey:["branding"]}),alert("Logo removed successfully")},onError:x=>{const D=x,ne=D?.response?.data?.error??D?.message??"Failed to remove logo. Please try again.";alert(ne)}}),ye=yB(_e),wt=S.useMemo(()=>Re||[],[Re]),An=l==="users",{data:Dn,isLoading:Ga,error:Ss}=Ue({queryKey:["users",A],queryFn:()=>Jl.list(A?{search:A}:void 0),enabled:An}),Fa=S.useMemo(()=>Dn?Vd(Dn):[],[Dn]);S.useEffect(()=>{if(!wt.length)return;const x=N&&wt.find(ne=>ne.id===N)?N:wt[0]?.id;if(x&&x!==N){R(x);return}const D=wt.find(ne=>ne.id===N);if(D&&(!b||b.id!==D.id)){const ne={...D};w(ne),Ae([JSON.parse(JSON.stringify(ne))]),Q(0),he("basic")}},[wt,N,b]),S.useEffect(()=>{const D=new URLSearchParams(a.search).get("tab");(D==="ui"||D==="reports"||D==="lab"||D==="email"||D==="backup"||D==="print"||D==="users")&&l!==D&&o(D)},[a.search]),S.useEffect(()=>()=>{ie.current&&window.clearTimeout(ie.current)},[]);const tl=x=>{x.preventDefault();const D=new FormData(x.currentTarget),ne={};D.get("lab_name")&&(ne.lab_name=D.get("lab_name")),D.get("lab_display_name")&&(ne.lab_display_name=D.get("lab_display_name")),D.get("lab_address")&&(ne.lab_address=D.get("lab_address")),D.get("lab_phone")&&(ne.lab_phone=D.get("lab_phone")),D.get("lab_email")&&(ne.lab_email=D.get("lab_email")),D.get("lab_whatsapp")&&(ne.lab_whatsapp=D.get("lab_whatsapp")),D.get("report_header")&&(ne.report_header=D.get("report_header")),D.get("report_footer")&&(ne.report_footer=D.get("report_footer")),D.get("currency")&&(ne.currency=D.get("currency")),D.get("tax_rate")&&(ne.tax_rate=D.get("tax_rate")),D.get("email_host")&&(ne.email_host=D.get("email_host")),D.get("email_port")&&(ne.email_port=Number(D.get("email_port"))),D.get("email_use_tls")&&(ne.email_use_tls=D.get("email_use_tls")==="on"),D.get("email_use_ssl")&&(ne.email_use_ssl=D.get("email_use_ssl")==="on"),D.get("email_host_user")&&(ne.email_host_user=D.get("email_host_user")),D.get("email_host_password")&&(ne.email_host_password=D.get("email_host_password")),D.get("email_from")&&(ne.email_from=D.get("email_from")),D.get("backup_enabled")&&(ne.backup_enabled=D.get("backup_enabled")==="on"),D.get("backup_frequency")&&(ne.backup_frequency=D.get("backup_frequency")),D.get("backup_drive")&&(ne.backup_drive=D.get("backup_drive")),D.get("backup_path")&&(ne.backup_path=D.get("backup_path")),D.get("backup_auto_upload")&&(ne.backup_auto_upload=D.get("backup_auto_upload")==="on"),Qe.mutate(ne)},_a=He({mutationFn:x=>Ro.update(x.id,x),onSuccess:()=>{t.invalidateQueries({queryKey:["print-templates"]}),alert("Template updated")},onError:x=>{alert(`Error updating template: ${x instanceof Error?x.message:"Unknown error"}`)}}),Ct=He({mutationFn:x=>{const D=`${x.type.toLowerCase()}_${x.name.toLowerCase().replace(/[^a-z0-9]/g,"_")}_${Date.now()}`,ne={paper_size:"A4",margins:{top:1,right:1,bottom:1,left:1},font_scale:1,show_logo:!0,show_header_image:!0,show_footer_image:!0,show_disclaimer:!0,show_signatures:!0,show_qr:!1,show_barcode:!1};return Ro.create({name:x.name,type:x.type,template_key:D,is_active:!1,config:ne,signatories:[]})},onSuccess:x=>{t.invalidateQueries({queryKey:["print-templates"]}),$(!1),H({name:"",type:"REPORT"}),alert("Template created successfully"),x&&x.id&&R(x.id)},onError:x=>{alert(`Error creating template: ${x instanceof Error?x.message:"Unknown error"}`)}}),oa=He({mutationFn:x=>Ro.delete(x),onSuccess:()=>{t.invalidateQueries({queryKey:["print-templates"]}),R(null),w(null),alert("Template deleted successfully")},onError:x=>{alert(`Error deleting template: ${x instanceof Error?x.message:"Unknown error"}`)}}),bn=x=>{Ae(D=>[...D.slice(0,O+1),JSON.parse(JSON.stringify(x))].slice(-oe)),Q(D=>Math.min(D+1,oe-1))},Ia=b&&Ee.length>0&&O>0,ya=b&&Ee.length>0&&O<Ee.length-1,tr=()=>{!Ia||!Ee[O-1]||(w(JSON.parse(JSON.stringify(Ee[O-1]))),Q(x=>x-1))},Ns=()=>{!ya||!Ee[O+1]||(w(JSON.parse(JSON.stringify(Ee[O+1]))),Q(x=>x+1))},Yn=(x,D)=>{if(!b)return;const ne={...b,[x]:D};w(ne),bn(ne)},Xn=x=>{v(x),H2(x)},ft=(x,D)=>{if(!b)return;const ne={...b.config,[x]:D},ze={...b,config:ne};w(ze),bn(ze)},Et=(x,D)=>{if(!b)return;const ne={...b.config.margins,[x]:D},ze={...b,config:{...b.config,margins:ne}};w(ze),bn(ze)},zn=()=>{if(!b)return;const x=[...b.signatories||[],{name:"",title:""}],D={...b,signatories:x};w(D),bn(D)},kt=(x,D,ne)=>{if(!b)return;const ze=[...b.signatories||[]];ze[x]={...ze[x],[D]:ne};const un={...b,signatories:ze};w(un),bn(un)},nl=x=>{if(!b)return;const D=[...b.signatories||[]];D.splice(x,1);const ne={...b,signatories:D};w(ne),bn(ne)},al=()=>{b&&_a.mutate({...b,is_active:b.is_active})},Za=()=>{b&&_a.mutate({...b,is_active:!0})},xt=(x,D)=>{Z({type:x,message:D}),ie.current&&window.clearTimeout(ie.current),ie.current=window.setTimeout(()=>{Z(null)},4e3)},Bn=()=>{M(null),Ie({username:"",email:"",full_name:"",role:"Receptionist",is_active:!0,password:"",password_confirm:""}),Oe({newPassword:"",confirmPassword:""})},Jn=He({mutationFn:x=>Jl.create(x),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),xt("success","User created successfully."),Bn()},onError:x=>{const D=x instanceof Error?x.message:"Failed to create user.";xt("error",D)}}),xn=He({mutationFn:({id:x,data:D})=>Jl.update(x,D),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),xt("success","User updated successfully.")},onError:x=>{const D=x instanceof Error?x.message:"Failed to update user.";xt("error",D)}}),va=He({mutationFn:x=>Jl.remove(x),onSuccess:(x,D)=>{t.invalidateQueries({queryKey:["users"]}),xt("success","User removed successfully."),U===D&&Bn()},onError:x=>{const D=x instanceof Error?x.message:"Failed to remove user.";xt("error",D)}}),kn=He({mutationFn:({id:x,newPassword:D,confirmPassword:ne})=>Jl.resetPassword(x,D,ne),onSuccess:()=>{xt("success","Password reset successfully."),Oe({newPassword:"",confirmPassword:""})},onError:x=>{const D=x instanceof Error?x.message:"Failed to reset password.";xt("error",D)}}),sl=()=>{if(!be.username.trim()||!be.email.trim()||!be.full_name.trim()){xt("error","Username, email, and full name are required.");return}if(!U){if(!be.password||!be.password_confirm){xt("error","Password and confirmation are required for new users.");return}if(be.password!==be.password_confirm){xt("error","Passwords do not match.");return}Jn.mutate({username:be.username.trim(),email:be.email.trim(),full_name:be.full_name.trim(),role:be.role,password:be.password,password_confirm:be.password_confirm});return}xn.mutate({id:U,data:{username:be.username.trim(),email:be.email.trim(),full_name:be.full_name.trim(),role:be.role,is_active:be.is_active}})},nr=x=>{M(x.id),Ie({username:x.username,email:x.email,full_name:x.full_name,role:x.role,is_active:x.is_active,password:"",password_confirm:""}),Oe({newPassword:"",confirmPassword:""})},ws=x=>{confirm(`Remove user ${x.full_name}? This cannot be undone.`)&&va.mutate(x.id)},ba=()=>{if(U){if(!ve.newPassword||!ve.confirmPassword){xt("error","Enter a new password and confirm it.");return}if(ve.newPassword!==ve.confirmPassword){xt("error","Passwords do not match.");return}kn.mutate({id:U,newPassword:ve.newPassword,confirmPassword:ve.confirmPassword})}},ca=!!U;return Ce?s.jsx("div",{className:C.loading,children:"Loading settings..."}):ye?s.jsxs("div",{className:C.container,children:[s.jsxs("div",{className:C.header,children:[s.jsx("h1",{children:"System Settings"}),s.jsx("p",{className:C.subtitle,children:"Configure system-wide settings"})]}),s.jsxs("div",{className:C.tabs,children:[s.jsx("button",{className:l==="ui"?C.activeTab:C.tab,onClick:()=>o("ui"),children:"UI Update"}),s.jsx("button",{className:l==="lab"?C.activeTab:C.tab,onClick:()=>o("lab"),children:"Lab Information"}),s.jsx("button",{className:l==="reports"?C.activeTab:C.tab,onClick:()=>o("reports"),children:"Report Customization"}),s.jsx("button",{className:l==="email"?C.activeTab:C.tab,onClick:()=>o("email"),children:"Email Settings"}),s.jsx("button",{className:l==="backup"?C.activeTab:C.tab,onClick:()=>o("backup"),children:"Backup Settings"}),s.jsx("button",{className:l==="users"?C.activeTab:C.tab,onClick:()=>o("users"),children:"User Management"}),s.jsx("button",{className:l==="print"?C.activeTab:C.tab,onClick:()=>o("print"),children:"Print Templates"})]}),l==="users"?s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"User Management"}),s.jsx("p",{className:C.description,children:"Create, update, and deactivate users. Managers and admins can also reset passwords."}),X&&s.jsx("div",{className:`${C.notice} ${X.type==="success"?C.noticeSuccess:C.noticeError}`,children:X.message}),s.jsxs("div",{className:C.userGrid,children:[s.jsxs("div",{className:C.userCard,children:[s.jsxs("div",{className:C.cardHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:ca?"Edit User":"Create User"}),s.jsx("p",{className:C.hint,children:ca?"Update user details or reset the password below.":"Fill in the details to create a new user."})]}),ca&&s.jsx("button",{type:"button",className:C.secondaryButton,onClick:Bn,children:"Clear"})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Username *"}),s.jsx("input",{className:C.input,type:"text",value:be.username,onChange:x=>Ie(D=>({...D,username:x.target.value}))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Email *"}),s.jsx("input",{className:C.input,type:"email",value:be.email,onChange:x=>Ie(D=>({...D,email:x.target.value}))})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Full Name *"}),s.jsx("input",{className:C.input,type:"text",value:be.full_name,onChange:x=>Ie(D=>({...D,full_name:x.target.value}))})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Role"}),s.jsx("select",{className:C.select,value:be.role,onChange:x=>Ie(D=>({...D,role:x.target.value})),children:ue.map(x=>s.jsx("option",{value:x,children:x},x))})]}),s.jsx("div",{className:C.formGroup,children:s.jsxs("label",{className:C.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:be.is_active,onChange:x=>Ie(D=>({...D,is_active:x.target.checked})),className:C.checkbox}),"Active"]})})]}),!ca&&s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Password *"}),s.jsx("input",{className:C.input,type:"password",value:be.password,onChange:x=>Ie(D=>({...D,password:x.target.value}))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Confirm Password *"}),s.jsx("input",{className:C.input,type:"password",value:be.password_confirm,onChange:x=>Ie(D=>({...D,password_confirm:x.target.value}))})]})]}),s.jsx("div",{className:C.userFormActions,children:s.jsx("button",{type:"button",className:C.submitButton,onClick:sl,disabled:Jn.isPending||xn.isPending,children:ca?xn.isPending?"Updating...":"Update User":Jn.isPending?"Creating...":"Create User"})}),ca&&s.jsxs("div",{className:C.resetPanel,children:[s.jsx("h4",{children:"Reset Password"}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"New Password"}),s.jsx("input",{className:C.input,type:"password",value:ve.newPassword,onChange:x=>Oe(D=>({...D,newPassword:x.target.value}))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Confirm Password"}),s.jsx("input",{className:C.input,type:"password",value:ve.confirmPassword,onChange:x=>Oe(D=>({...D,confirmPassword:x.target.value}))})]})]}),s.jsx("button",{type:"button",className:C.resetButton,onClick:ba,disabled:kn.isPending,children:kn.isPending?"Resetting...":"Reset Password"})]})]}),s.jsxs("div",{className:C.userListCard,children:[s.jsxs("div",{className:C.listHeader,children:[s.jsxs("div",{children:[s.jsx("h3",{children:"Users"}),s.jsx("p",{className:C.hint,children:"Search by name, username, or email."})]}),s.jsx("input",{className:C.searchInput,type:"text",placeholder:"Search users...",value:A,onChange:x=>z(x.target.value)})]}),Ga?s.jsx("div",{className:C.loading,children:"Loading users..."}):Ss?s.jsx("div",{className:C.error,children:"Failed to load users."}):Fa.length===0?s.jsx("div",{className:C.emptyState,children:"No users found."}):s.jsx("div",{className:C.tableWrapper,children:s.jsxs("table",{className:C.userTable,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"User"}),s.jsx("th",{children:"Email"}),s.jsx("th",{children:"Role"}),s.jsx("th",{children:"Status"}),s.jsx("th",{children:"Last Login"}),s.jsx("th",{children:"Actions"})]})}),s.jsx("tbody",{children:Fa.map(x=>s.jsxs("tr",{className:U===x.id?C.activeRow:void 0,children:[s.jsx("td",{children:s.jsxs("div",{className:C.userIdentity,children:[s.jsx("span",{className:C.userName,children:x.full_name}),s.jsxs("span",{className:C.userMeta,children:["@",x.username]})]})}),s.jsx("td",{children:x.email}),s.jsx("td",{children:x.role}),s.jsx("td",{children:s.jsx("span",{className:`${C.statusBadge} ${x.is_active?C.statusActive:C.statusInactive}`,children:x.is_active?"Active":"Disabled"})}),s.jsx("td",{children:x.last_login?new Date(x.last_login).toLocaleString():""}),s.jsx("td",{children:s.jsxs("div",{className:C.userActions,children:[s.jsx("button",{type:"button",className:`${C.actionButton} ${C.actionPrimary}`,onClick:()=>nr(x),children:"Edit"}),s.jsx("button",{type:"button",className:`${C.actionButton} ${C.actionDanger}`,onClick:()=>ws(x),disabled:va.isPending,children:"Remove"})]})})]},x.id))})]})})]})]})]}):s.jsxs("form",{onSubmit:tl,className:C.form,children:[l==="ui"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"UI Update"}),s.jsx("p",{className:C.description,children:"Customize the branding that appears in your application header and login page."}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Laboratory Display Name"}),s.jsx("input",{type:"text",name:"lab_display_name",defaultValue:ye.lab_display_name||"",placeholder:"Enter display name for UI (optional, defaults to Lab Name)",className:C.input}),s.jsx("small",{className:C.hint,children:"This name will appear in the header and login page. If not set, the Lab Name will be used."})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Laboratory Logo"}),ye.lab_logo&&s.jsxs("div",{className:C.brandingPreview,children:[s.jsxs("div",{className:C.previewCard,children:[s.jsx("img",{src:ye.lab_logo,alt:"Lab logo"}),s.jsxs("div",{className:C.previewInfo,children:[s.jsx("strong",{children:ye.lab_display_name||ye.lab_name}),s.jsx("span",{children:"Current logo"})]})]}),s.jsx("button",{type:"button",onClick:()=>fe.mutate(),className:C.removeButton,disabled:fe.isPending,children:fe.isPending?"Removing...":"Remove Logo"})]}),s.jsxs("div",{className:C.uploadRow,children:[s.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:x=>p(x.target.files?.[0]||null)}),s.jsx("button",{type:"button",className:C.uploadButton,disabled:!g||ct.isPending,onClick:()=>g&&ct.mutate(g),children:ct.isPending?"Uploading...":"Upload Logo"})]}),s.jsx("small",{className:C.hint,children:"Accepted formats: PNG, JPG, JPEG, WEBP (max 5MB). Logo will appear in header and login page."})]}),(ye.lab_logo||ye.lab_display_name)&&s.jsxs("div",{className:C.previewSection,children:[s.jsx("h3",{children:"Preview"}),s.jsxs("div",{className:C.headerPreview,children:[ye.lab_logo&&s.jsx("img",{src:ye.lab_logo,alt:"Logo preview",className:C.previewLogo}),s.jsx("span",{className:C.previewName,children:ye.lab_display_name||ye.lab_name})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Enable sample barcode collection"}),s.jsxs("div",{className:C.toggleRow,children:[s.jsx("input",{type:"checkbox",checked:y,onChange:x=>Xn(x.target.checked),style:{width:"18px",height:"18px",marginRight:"10px",verticalAlign:"bottom"}}),s.jsx("span",{className:C.hint,style:{display:"inline-block"},children:"When off, barcode entry prompts are hidden in Collection/Samples. Default: OFF."})]})]})]}),l==="lab"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"Laboratory Information"}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Lab Name *"}),s.jsx("input",{type:"text",name:"lab_name",defaultValue:ye.lab_name,required:!0,className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Lab Address"}),s.jsx("textarea",{name:"lab_address",defaultValue:ye.lab_address||"",className:C.textarea,rows:3})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Lab Phone"}),s.jsx("input",{type:"text",name:"lab_phone",defaultValue:ye.lab_phone||"",className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Lab Whatsapp Number"}),s.jsx("input",{type:"text",name:"lab_whatsapp",defaultValue:ye.lab_whatsapp||"",placeholder:"+1234567890",className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Lab Email"}),s.jsx("input",{type:"email",name:"lab_email",defaultValue:ye.lab_email||"",className:C.input})]})]})]}),l==="reports"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"Report Customization"}),s.jsxs("div",{className:C.twoColumn,children:[s.jsxs("div",{className:C.column,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Header Image"}),ye.report_header_image&&s.jsxs("div",{className:C.imagePreview,children:[s.jsx("img",{src:ye.report_header_image,alt:"Report header"}),s.jsx("button",{type:"button",onClick:()=>re.mutate(),className:C.removeButton,children:"Remove"})]}),s.jsxs("div",{className:C.uploadRow,children:[s.jsx("input",{type:"file",accept:"image/*",onChange:x=>h(x.target.files?.[0]||null)}),s.jsx("button",{type:"button",className:C.uploadButton,disabled:!c||$e.isPending,onClick:()=>c&&$e.mutate(c),children:$e.isPending?"Uploading...":"Upload"})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Report Header"}),s.jsx("textarea",{name:"report_header",defaultValue:ye.report_header||"",className:C.textarea,rows:4,placeholder:"Custom header text for reports"})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Report Footer"}),s.jsx("textarea",{name:"report_footer",defaultValue:ye.report_footer||"",className:C.textarea,rows:4,placeholder:"Custom footer text for reports"})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Footer Image"}),ye.report_footer_image&&s.jsxs("div",{className:C.imagePreview,children:[s.jsx("img",{src:ye.report_footer_image,alt:"Report footer"}),s.jsx("button",{type:"button",onClick:()=>Ze.mutate(),className:C.removeButton,children:"Remove"})]}),s.jsxs("div",{className:C.uploadRow,children:[s.jsx("input",{type:"file",accept:"image/*",onChange:x=>m(x.target.files?.[0]||null)}),s.jsx("button",{type:"button",className:C.uploadButton,disabled:!f||Ft.isPending,onClick:()=>f&&Ft.mutate(f),children:Ft.isPending?"Uploading...":"Upload"})]})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Currency"}),s.jsx("input",{type:"text",name:"currency",defaultValue:ye.currency,className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Tax Rate (%)"}),s.jsx("input",{type:"number",step:"0.01",name:"tax_rate",defaultValue:ye.tax_rate,className:C.input})]})]})]}),s.jsxs("div",{className:C.column,children:[s.jsx("div",{className:C.previewRefresher,children:s.jsx("button",{type:"button",className:C.refreshButton,onClick:()=>G(x=>x+1),children:"Refresh Preview"})}),s.jsxs("div",{className:C.reportPreviewPage,children:[s.jsxs("div",{className:C.previewHeader,children:[ye.report_header_image?s.jsx("img",{src:ye.report_header_image,alt:"Header",style:{maxWidth:"100%",maxHeight:"50px"}}):s.jsx("h3",{children:ye.lab_name}),s.jsx("p",{children:ye.report_header||"Lab Address & Contact Info"})]}),s.jsxs("div",{style:{flex:1,padding:"20px",background:"#f8fafc",border:"1px dashed #cbd5e1",borderRadius:"4px"},children:[s.jsx("h4",{children:"Patient Report"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Patient:"})," John Doe"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Test:"})," Complete Blood Count"]}),s.jsx("br",{}),s.jsxs("table",{style:{width:"100%",fontSize:"11px",textAlign:"left"},children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Parameter"}),s.jsx("th",{children:"Result"}),s.jsx("th",{children:"Ref Range"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Hemoglobin"}),s.jsx("td",{children:"14.5 g/dL"}),s.jsx("td",{children:"13.0 - 17.0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"WBC"}),s.jsx("td",{children:"7.2 x10^9/L"}),s.jsx("td",{children:"4.0 - 11.0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Platelets"}),s.jsx("td",{children:"250 x10^9/L"}),s.jsx("td",{children:"150 - 450"})]})]})]})]}),s.jsxs("div",{className:C.previewFooter,children:[s.jsx("p",{children:ye.report_footer||"End of Report"}),ye.report_footer_image&&s.jsx("img",{src:ye.report_footer_image,alt:"Footer",style:{maxWidth:"100%",maxHeight:"40px",marginTop:"5px"}})]})]},ot)]})]})]}),l==="email"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"Email Configuration"}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"SMTP Host"}),s.jsx("input",{type:"text",name:"email_host",defaultValue:ye.email_host||"",className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"SMTP Port"}),s.jsx("input",{type:"number",name:"email_port",defaultValue:ye.email_port,className:C.input})]})]}),s.jsxs("div",{className:C.formRow,children:[s.jsx("div",{className:C.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",name:"email_use_tls",defaultChecked:ye.email_use_tls,className:C.checkbox}),"Use TLS"]})}),s.jsx("div",{className:C.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",name:"email_use_ssl",defaultChecked:ye.email_use_ssl,className:C.checkbox}),"Use SSL"]})})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"SMTP Username"}),s.jsx("input",{type:"text",name:"email_host_user",defaultValue:ye.email_host_user||"",className:C.input})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"SMTP Password"}),s.jsx("input",{type:"password",name:"email_host_password",defaultValue:ye.email_host_password||"",className:C.input})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"From Email Address"}),s.jsx("input",{type:"email",name:"email_from",defaultValue:ye.email_from||"",className:C.input})]})]}),l==="backup"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"Backup Settings"}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Backup Location"}),s.jsxs("select",{name:"backup_drive",defaultValue:ye.backup_drive||"local",className:C.select,children:[s.jsx("option",{value:"local",children:"Local Storage"}),s.jsx("option",{value:"google_drive",children:"Google Drive"}),s.jsx("option",{value:"dropbox",children:"Dropbox"}),s.jsx("option",{value:"onedrive",children:"OneDrive"})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Backup Path / Folder"}),s.jsx("input",{type:"text",name:"backup_path",defaultValue:ye.backup_path||"/var/backups/lims",className:C.input,placeholder:"/path/to/backup/folder"})]})]}),s.jsx("div",{className:C.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",name:"backup_auto_upload",defaultChecked:ye.backup_auto_upload,className:C.checkbox}),"Auto-upload to Cloud"]})}),s.jsx("div",{className:C.formGroup,children:s.jsx("button",{type:"button",className:C.secondaryButton,onClick:()=>alert("Connect Logic Placeholder"),children:"Login / Connect Account"})}),s.jsx("hr",{style:{margin:"20px 0",border:0,borderTop:"1px solid #eee"}}),s.jsx("div",{className:C.formGroup,children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",name:"backup_enabled",defaultChecked:ye.backup_enabled,className:C.checkbox}),"Enable Automated Backups Schedule"]})}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Backup Frequency"}),s.jsxs("select",{name:"backup_frequency",defaultValue:ye.backup_frequency,className:C.select,children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]})]}),l==="print"&&s.jsxs("div",{className:C.tabContent,children:[s.jsx("h2",{children:"Print Templates"}),s.jsx("p",{className:C.description,children:"Configure report and receipt layouts. Edit one section at a time; preview updates as you change settings."}),s.jsxs("div",{className:C.formGroup,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[s.jsx("label",{style:{margin:0},children:"Template"}),s.jsx("button",{type:"button",className:C.secondaryButton,onClick:()=>{$(!0),H({name:"",type:"REPORT"})},style:{fontSize:"12px",padding:"4px 8px"},children:"+ Create New"})]}),E?s.jsxs("div",{className:C.card,style:{padding:"15px",border:"1px solid #e2e8f0",background:"#f8fafc",borderRadius:"4px",marginBottom:"15px"},children:[s.jsx("h4",{style:{marginTop:0,marginBottom:"10px"},children:"Create New Template"}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Name"}),s.jsx("input",{className:C.input,value:k.name,onChange:x=>H({...k,name:x.target.value}),placeholder:"e.g. CBC Report V2"})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Type"}),s.jsxs("select",{className:C.select,value:k.type,onChange:x=>H({...k,type:x.target.value}),children:[s.jsx("option",{value:"REPORT",children:"Report"}),s.jsx("option",{value:"RECEIPT",children:"Receipt"})]})]}),s.jsxs("div",{className:C.formActions,style:{justifyContent:"flex-start",gap:"10px",marginTop:"10px"},children:[s.jsx("button",{type:"button",className:C.submitButton,disabled:!k.name||Ct.isPending,onClick:()=>Ct.mutate(k),children:Ct.isPending?"Creating...":"Create"}),s.jsx("button",{type:"button",className:C.secondaryButton,onClick:()=>$(!1),children:"Cancel"})]})]}):wt.length>0?s.jsx("select",{className:C.select,value:N||"",onChange:x=>R(Number(x.target.value)),children:wt.map(x=>s.jsxs("option",{value:x.id,children:[x.type,"  ",x.name]},x.id))}):s.jsx("div",{className:C.notice,children:"No templates found. Create one to get started."})]}),b&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:C.templateToolbar,children:[s.jsx("button",{type:"button",className:C.secondaryButton,onClick:tr,disabled:!Ia,title:"Undo last change",children:"Undo"}),s.jsx("button",{type:"button",className:C.secondaryButton,onClick:Ns,disabled:!ya,title:"Redo",children:"Redo"})]}),s.jsxs("div",{className:C.templateThreePane,children:[s.jsx("nav",{className:C.templateSectionList,"aria-label":"Template sections",children:["basic","paper","display","compliance","disclaimer","signatories"].map(x=>s.jsxs("button",{type:"button",className:ae===x?C.templateSectionActive:C.templateSectionBtn,onClick:()=>he(x),children:[x==="basic"&&"Basic info",x==="paper"&&"Paper & margins",x==="display"&&"Display options",x==="compliance"&&"Compliance & flags",x==="disclaimer"&&"Disclaimer",x==="signatories"&&"Signatories"]},x))}),s.jsxs("div",{className:C.templatePreview,"aria-label":"Live preview",children:[s.jsx("h3",{className:C.templatePreviewTitle,children:"Preview"}),s.jsxs("div",{className:C.templatePreviewCard,children:[s.jsxs("p",{children:[s.jsx("strong",{children:b.name})," (",b.type,")"]}),s.jsxs("p",{children:["Paper: ",b.config.paper_size,"  Margins: ",b.config.margins.top,'" top, ',b.config.margins.bottom,'" bottom']}),s.jsxs("p",{children:["Font scale: ",b.config.font_scale]}),s.jsxs("p",{children:["Logo: ",b.config.show_logo?"Yes":"No","  Header image: ",b.config.show_header_image?"Yes":"No","  Footer: ",b.config.show_footer_image?"Yes":"No"]}),s.jsxs("p",{children:["Disclaimer: ",b.config.show_disclaimer?"Yes":"No","  Signatures: ",b.config.show_signatures?"Yes":"No"]}),s.jsxs("p",{children:["Compliance: IDs on pages ",b.config.repeat_patient_id_on_pages?"Yes":"No","  Specimen details ",b.config.show_specimen_details?"Yes":"No","  Critical flags ",b.config.show_critical_annotations?"Yes":"No"]}),s.jsxs("p",{children:["Active: ",b.is_active?"Yes":"No"]})]})]}),s.jsxs("div",{className:C.templateEditor,role:"form","aria-label":"Edit selected section",children:[s.jsxs("h3",{className:C.templateEditorTitle,children:[ae==="basic"&&"Basic info",ae==="paper"&&"Paper & margins",ae==="display"&&"Display options",ae==="disclaimer"&&"Disclaimer",ae==="signatories"&&"Signatories"]}),ae==="basic"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Display name for this template",children:"Template name"}),s.jsx("input",{className:C.input,type:"text",value:b.name,onChange:x=>Yn("name",x.target.value)})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Optional description",children:"Description"}),s.jsx("textarea",{className:C.textarea,value:b.description||"",onChange:x=>Yn("description",x.target.value),rows:3})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Use this template for printed reports",children:"Set as active template"}),s.jsxs("label",{className:C.checkboxLabel,children:[s.jsx("input",{type:"checkbox",checked:b.is_active,onChange:x=>Yn("is_active",x.target.checked)}),"Active"]})]})]}),ae==="paper"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Page size for printing",children:"Paper size"}),s.jsxs("select",{className:C.select,value:b.config.paper_size,onChange:x=>ft("paper_size",x.target.value),children:[s.jsx("option",{value:"A4",children:"A4"}),s.jsx("option",{value:"Letter",children:"Letter"})]})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Text size multiplier",children:"Font scale"}),s.jsx("input",{className:C.input,type:"number",step:"0.1",min:"0.5",max:"2",value:b.config.font_scale,onChange:x=>ft("font_scale",Number(x.target.value))})]}),s.jsx("p",{className:C.templateHelp,children:"Margins in inches"}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Top"}),s.jsx("input",{className:C.input,type:"number",step:"0.1",value:b.config.margins.top,onChange:x=>Et("top",Number(x.target.value))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Right"}),s.jsx("input",{className:C.input,type:"number",step:"0.1",value:b.config.margins.right,onChange:x=>Et("right",Number(x.target.value))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Bottom"}),s.jsx("input",{className:C.input,type:"number",step:"0.1",value:b.config.margins.bottom,onChange:x=>Et("bottom",Number(x.target.value))})]}),s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Left"}),s.jsx("input",{className:C.input,type:"number",step:"0.1",value:b.config.margins.left,onChange:x=>Et("left",Number(x.target.value))})]})]})]}),ae==="display"&&s.jsxs("div",{className:C.formRow,children:[s.jsxs("label",{className:C.checkboxLabel,title:"Show lab logo on report",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_logo,onChange:x=>ft("show_logo",x.target.checked)}),"Show logo"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show header image",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_header_image,onChange:x=>ft("show_header_image",x.target.checked)}),"Show header image"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show footer image",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_footer_image,onChange:x=>ft("show_footer_image",x.target.checked)}),"Show footer image"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show disclaimer text",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_disclaimer,onChange:x=>ft("show_disclaimer",x.target.checked)}),"Show disclaimer"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show signature block",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_signatures,onChange:x=>ft("show_signatures",x.target.checked)}),"Show signatures"]})]}),ae==="compliance"&&s.jsxs("div",{className:C.formGroup,children:[s.jsx("p",{className:C.templateHelp,children:"Enable/disable international-reporting fields."}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("label",{className:C.checkboxLabel,title:"Add DOB to patient identity and header repeat",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_patient_dob??!1,onChange:x=>ft("show_patient_dob",x.target.checked)}),"Show patient DOB with Age/Gender"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Repeat patient IDs in header of every page",children:[s.jsx("input",{type:"checkbox",checked:b.config.repeat_patient_id_on_pages??!1,onChange:x=>ft("repeat_patient_id_on_pages",x.target.checked)}),"Repeat patient IDs on every page"]})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("label",{className:C.checkboxLabel,title:"Show specimen type and collection time under each test",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_specimen_details??!1,onChange:x=>ft("show_specimen_details",x.target.checked)}),"Show specimen details per result"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show ordering provider line in patient block",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_ordering_provider??!0,onChange:x=>ft("show_ordering_provider",x.target.checked)}),"Show ordering provider"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show verified by line under demographics",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_verified_by_line??!0,onChange:x=>ft("show_verified_by_line",x.target.checked)}),"Show verified-by line"]})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("label",{className:C.checkboxLabel,title:"Show method info (when available)",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_method_info??!1,onChange:x=>ft("show_method_info",x.target.checked)}),"Show method info"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show decision limits / critical limits",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_decision_limits??!1,onChange:x=>ft("show_decision_limits",x.target.checked)}),"Show decision limits"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Highlight critical values",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_critical_annotations??!1,onChange:x=>ft("show_critical_annotations",x.target.checked)}),"Show critical annotations"]})]}),s.jsxs("div",{className:C.formRow,children:[s.jsxs("label",{className:C.checkboxLabel,title:"Show QC/quality statement in footer",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_qc_statement??!1,onChange:x=>ft("show_qc_statement",x.target.checked)}),"Show QC statement"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show confidentiality notice in footer",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_confidentiality_statement??!1,onChange:x=>ft("show_confidentiality_statement",x.target.checked)}),"Show confidentiality notice"]}),s.jsxs("label",{className:C.checkboxLabel,title:"Show banner when this is a revised report",children:[s.jsx("input",{type:"checkbox",checked:b.config.show_revision_banner??!1,onChange:x=>ft("show_revision_banner",x.target.checked)}),"Show revision banner"]})]})]}),ae==="disclaimer"&&s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{title:"Text shown as disclaimer on the report",children:"Disclaimer text"}),s.jsx("textarea",{className:C.textarea,rows:3,value:b.disclaimer_text||"",onChange:x=>Yn("disclaimer_text",x.target.value)})]}),ae==="signatories"&&s.jsxs("div",{className:C.formGroup,children:[s.jsx("label",{children:"Signatories (names and titles)"}),b.signatories?.map((x,D)=>s.jsxs("div",{className:C.signatoryRow,children:[s.jsx("input",{className:C.input,placeholder:"Name",value:x.name,onChange:ne=>kt(D,"name",ne.target.value)}),s.jsx("input",{className:C.input,placeholder:"Title",value:x.title,onChange:ne=>kt(D,"title",ne.target.value)}),s.jsx("input",{className:C.input,placeholder:"Reg No",value:x.reg_no||"",onChange:ne=>kt(D,"reg_no",ne.target.value)}),s.jsx("button",{type:"button",className:C.removeButton,onClick:()=>nl(D),children:"Remove"})]},D)),s.jsx("button",{type:"button",className:C.secondaryButton,onClick:zn,children:"+ Add signatory"})]})]})]}),s.jsxs("div",{className:C.formActions,children:[s.jsx("button",{type:"button",className:C.secondaryButton,onClick:()=>{confirm("Are you sure you want to delete this template? This cannot be undone.")&&oa.mutate(b.id)},disabled:oa.isPending,style:{marginRight:"auto",backgroundColor:"#fee2e2",color:"#b91c1c",border:"1px solid #fecaca"},children:oa.isPending?"Deleting...":"Delete template"}),s.jsx("button",{type:"button",className:C.secondaryButton,onClick:al,disabled:_a.isPending,children:"Save draft"}),s.jsx("button",{type:"button",className:C.submitButton,onClick:Za,disabled:_a.isPending,children:"Publish"})]})]})]}),l!=="print"&&s.jsx("div",{className:C.formActions,children:s.jsx("button",{type:"submit",className:C.submitButton,disabled:Qe.isPending,children:Qe.isPending?"Saving...":"Save Settings"})})]})]}):s.jsx("div",{className:C.error,children:"Failed to load settings"})}const I6="_container_wq6wr_2",Z6="_header_wq6wr_10",V6="_pageTitle_wq6wr_19",Q6="_subtitle_wq6wr_35",K6="_globalSearchWrapper_wq6wr_42",Y6="_globalSearchInput_wq6wr_47",X6="_searchIconWrapper_wq6wr_65",J6="_searchIcon_wq6wr_65",W6="_splitView_wq6wr_82",eM="_card_wq6wr_97",tM="_serviceRegistrationCard_wq6wr_108",nM="_serviceRegistrationCardExpanded_wq6wr_113",aM="_cardHeader_wq6wr_118",sM="_sectionTitle_wq6wr_127",rM="_stepBadge_wq6wr_135",lM="_sectionStatus_wq6wr_149",iM="_registrationForm_wq6wr_166",oM="_twoColGrid_wq6wr_172",cM="_sectionBlock_wq6wr_185",uM="_sectionLabel_wq6wr_192",dM="_rowGroup_wq6wr_203",fM="_required_wq6wr_209",hM="_inputReadOnly_wq6wr_213",mM="_textarea_wq6wr_224",pM="_secondaryButton_wq6wr_243",gM="_formGroup_wq6wr_260",_M="_input_wq6wr_213",yM="_select_wq6wr_278",vM="_ageGroup_wq6wr_299",bM="_ageInput_wq6wr_304",xM="_lookupWrapper_wq6wr_328",jM="_autocompleteWrapper_wq6wr_329",SM="_suggestions_wq6wr_333",NM="_suggestionHeader_wq6wr_348",wM="_suggestionItem_wq6wr_359",CM="_suggestionActive_wq6wr_367",EM="_suggestionName_wq6wr_371",RM="_registrationBadge_wq6wr_380",TM="_suggestionMeta_wq6wr_392",OM="_createNewOption_wq6wr_398",AM="_suggestionEmpty_wq6wr_417",DM="_orderContainer_wq6wr_424",zM="_searchSection_wq6wr_430",BM="_largeSearchInput_wq6wr_437",kM="_addedTestsSection_wq6wr_453",MM="_emptyState_wq6wr_461",LM="_testsTableContainer_wq6wr_470",UM="_table_wq6wr_475",$M="_removeButton_wq6wr_497",qM="_paymentSection_wq6wr_517",PM="_paymentGrid_wq6wr_524",HM="_paymentGridSingle_wq6wr_530",GM="_paymentColRight_wq6wr_540",FM="_summaryRow_wq6wr_546",IM="_amountLarge_wq6wr_553",ZM="_amountHighlight_wq6wr_558",VM="_textRed_wq6wr_563",QM="_textGreen_wq6wr_567",KM="_discountRow_wq6wr_572",YM="_discountInputGroup_wq6wr_579",XM="_compactInput_wq6wr_590",JM="_paymentInput_wq6wr_599 _input_wq6wr_213",WM="_formActions_wq6wr_609",eL="_primaryButton_wq6wr_619",tL="_primaryButtonLarge_wq6wr_639 _primaryButton_wq6wr_619",ee={container:I6,header:Z6,pageTitle:V6,subtitle:Q6,globalSearchWrapper:K6,globalSearchInput:Y6,searchIconWrapper:X6,searchIcon:J6,splitView:W6,card:eM,serviceRegistrationCard:tM,serviceRegistrationCardExpanded:nM,cardHeader:aM,sectionTitle:sM,stepBadge:rM,sectionStatus:lM,registrationForm:iM,twoColGrid:oM,sectionBlock:cM,sectionLabel:uM,rowGroup:dM,required:fM,inputReadOnly:hM,textarea:mM,secondaryButton:pM,formGroup:gM,input:_M,select:yM,ageGroup:vM,ageInput:bM,lookupWrapper:xM,autocompleteWrapper:jM,suggestions:SM,suggestionHeader:NM,suggestionItem:wM,suggestionActive:CM,suggestionName:EM,registrationBadge:RM,suggestionMeta:TM,createNewOption:OM,suggestionEmpty:AM,orderContainer:DM,searchSection:zM,largeSearchInput:BM,addedTestsSection:kM,emptyState:MM,testsTableContainer:LM,table:UM,removeButton:$M,paymentSection:qM,paymentGrid:PM,paymentGridSingle:HM,paymentColRight:GM,summaryRow:FM,amountLarge:IM,amountHighlight:ZM,textRed:VM,textGreen:QM,discountRow:KM,discountInputGroup:YM,compactInput:XM,paymentInput:JM,formActions:WM,primaryButton:eL,primaryButtonLarge:tL},nL=({orderId:t,displayId:a,onClose:l,onPrint:o})=>s.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:s.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"2rem",width:"400px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",textAlign:"center"},children:[s.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem",color:"#22c55e"},children:""}),s.jsx("h2",{style:{marginBottom:"0.5rem",fontSize:"1.5rem",fontWeight:"600"},children:"Order Created!"}),s.jsxs("p",{style:{color:"#666",marginBottom:"2rem"},children:["Lab Number / Order ID: ",s.jsx("strong",{children:a||t})]}),s.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[s.jsxs("button",{onClick:o,style:{backgroundColor:"#2563eb",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"none",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[s.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Receipt"]}),s.jsx("button",{onClick:l,style:{backgroundColor:"white",color:"#374151",padding:"0.75rem 1.5rem",borderRadius:"8px",border:"1px solid #d1d5db",fontWeight:"600",cursor:"pointer"},children:"Close"})]})]})});function aL(){const{currentBranch:t}=ia(),{branding:a}=bs(),l=a?.currency||"PKR",[o,c]=S.useState(""),[h,f]=S.useState([]),[m,g]=S.useState(!1),[p,y]=S.useState(-1),[,v]=S.useState(!1),[N,R]=S.useState(null),[b,w]=S.useState({phone:"",whatsapp_number:"",gender:"Male",email:"",address:"",father_husband_name:"",cnic:""}),[E,$]=S.useState(""),[k,H]=S.useState(""),[A,z]=S.useState(""),[U,M]=S.useState(""),[X,Z]=S.useState(""),[ie,ve]=S.useState([]),[Oe,be]=S.useState(!1),[Ie,ot]=S.useState(-1),[G,ae]=S.useState([]),[he,Ee]=S.useState("0"),[Ae,O]=S.useState("0"),[Q,oe]=S.useState("0"),[,ue]=S.useState(!1),[_e,Ce]=S.useState(""),[Re,Qe]=S.useState(""),[$e,Ft]=S.useState([]),[re,Ze]=S.useState(!1),[ct,fe]=S.useState(-1),[ye,wt]=S.useState(!1),[An,Dn]=S.useState(!1),[Ga,Ss]=S.useState(""),[Fa,tl]=S.useState(""),_a=S.useRef(null),Ct=S.useRef(null),oa=S.useRef(null),bn=S.useRef(null),Ia=S.useRef(null),[ya,tr]=S.useState(!1);S.useEffect(()=>{oa.current?.focus()},[]);const Ns=x=>{const{iso:D,display:ne,date:ze}=Ey(x);if($(ne||x),w(un=>({...un,date_of_birth:D||void 0})),ze){const un=ze,ua=new Date;let Va=ua.getFullYear()-un.getFullYear(),Kt=ua.getMonth()-un.getMonth(),gt=ua.getDate()-un.getDate();if(gt<0){Kt--;const It=new Date(ua.getFullYear(),ua.getMonth(),0);gt+=It.getDate()}Kt<0&&(Va--,Kt+=12),H(Math.max(0,Va)),z(Math.max(0,Kt)),M(Math.max(0,gt)),w(It=>({...It,age_years:Math.max(0,Va),age_months:Math.max(0,Kt),age_days:Math.max(0,gt)}));return}H(""),z(""),M("")},Yn=(x,D,ne)=>{H(x),z(D),M(ne);const ze=new Date;ze.setFullYear(ze.getFullYear()-(typeof x=="number"?x:0)),ze.setMonth(ze.getMonth()-(typeof D=="number"?D:0)),ze.setDate(ze.getDate()-(typeof ne=="number"?ne:0));const un=ze.getFullYear(),ua=String(ze.getMonth()+1).padStart(2,"0"),Va=String(ze.getDate()).padStart(2,"0"),Kt=`${un}-${ua}-${Va}`;$(Zr(Kt)),w(gt=>({...gt,date_of_birth:Kt,age_years:typeof x=="number"?x:0,age_months:typeof D=="number"?D:0,age_days:typeof ne=="number"?ne:0}))};S.useEffect(()=>{if(o.length>=3){v(!0);const x=setTimeout(async()=>{try{const D=await qa.lookup(o);f(D.data),g(D.data.length>0)}catch(D){console.error("Failed to lookup patients:",D),f([])}finally{v(!1)}},300);return()=>clearTimeout(x)}else f([]),g(!1)},[o]),S.useEffect(()=>{if(Re.trim().length>=2){wt(!0);const x=setTimeout(async()=>{try{const D=await qa.search(Re.trim()),ne=D.results??D.data??[];Ft(ne),Ze(!0),fe(ne.length>0?0:-1)}catch{Ft([]),fe(-1)}finally{wt(!1)}},300);return()=>clearTimeout(x)}else Ft([]),Ze(!1),fe(-1)},[Re]),S.useEffect(()=>{const x=D=>{Ct.current&&!Ct.current.contains(D.target)&&Ze(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),S.useEffect(()=>{if(X.length>=2){const x=setTimeout(async()=>{try{const D=await Nt.searchTests(X);ve(D.data),be(D.data.length>0),ot(0)}catch{ve([])}},200);return()=>clearTimeout(x)}else ve([]),be(!1)},[X]);const Xn=G.reduce((x,D)=>x+parseFloat(D.price),0),ft=parseFloat(Ae)||0,Et=Math.max(Xn-ft,0),zn=parseFloat(Q)||0,kt=Math.max(Et-zn,0);S.useEffect(()=>{const x=Xn-parseFloat(Ae||"0");oe(Math.max(x,0).toFixed(2))},[Xn,Ae]);const nl=x=>{if(!re){x.key==="Escape"&&x.target.blur();return}switch(x.key){case"ArrowDown":x.preventDefault(),fe(D=>D<$e.length-1?D+1:D);break;case"ArrowUp":x.preventDefault(),fe(D=>D>0?D-1:-1);break;case"Enter":x.preventDefault(),ct>=0&&ct<$e.length&&Za($e[ct].id),Ze(!1);break;case"Escape":x.preventDefault(),Ze(!1),fe(-1),_a.current?.blur();break}},al=x=>{if(!m||h.length===0)return;const D=h.length+1;switch(x.key){case"ArrowDown":x.preventDefault(),y(ne=>ne<D-1?ne+1:ne);break;case"ArrowUp":x.preventDefault(),y(ne=>ne>0?ne-1:0);break;case"Enter":x.preventDefault(),p>=0&&p<h.length?Za(h[p].id):p===h.length&&(g(!1),y(-1));break;case"Escape":g(!1);break;case"Tab":g(!1);break}},Za=async x=>{try{const ne=(await qa.get(x)).data;R(ne),w({phone:ne.phone,whatsapp_number:ne.whatsapp_number||"",full_name:ne.full_name,first_name:ne.first_name,last_name:ne.last_name,gender:ne.gender,father_husband_name:ne.father_husband_name,address:ne.address,email:ne.email,national_id:ne.national_id,cnic:ne.cnic}),ne.date_of_birth?Ns(ne.date_of_birth):ne.age_years&&Yn(ne.age_years,ne.age_months||0,ne.age_days||0),c(ne.phone),Ce(ne.default_referred_by||""),g(!1),Qe(""),Ze(!1)}catch(D){console.error("Failed to load patient:",D),alert("Failed to load patient details")}},xt=He({mutationFn:x=>N?qa.update(N.id,x):qa.create(x),onSuccess:x=>{const D=x.data;R(D),tr(!0),setTimeout(()=>{Ia.current?.scrollIntoView({behavior:"smooth",block:"nearest"}),bn.current?.focus()},150)},onError:x=>{alert(`Error saving patient: ${x?.response?.data?.message||"Unknown error"}`)}}),Bn=He({mutationFn:x=>ni.create(x),onSuccess:x=>{Ss(x.order_id||"Unknown"),tl(x.lab_number||x.order_id||"Unknown"),Dn(!0),Jn()},onError:x=>{alert(`Error creating order: ${x?.response?.data?.message||"Unknown error"}`)}}),Jn=()=>{R(null),tr(!1),w({phone:"",whatsapp_number:"",gender:"Male",email:"",address:"",father_husband_name:"",cnic:""}),c(""),$(""),H(""),z(""),M(""),ae([]),Ee("0"),O("0"),oe("0"),Ce(""),oa.current&&oa.current.focus()},xn=x=>{if(x.preventDefault(),!b.phone)return alert("Mobile number is required");if(!b.full_name)return alert("Full Name is required");const D={...b,age_years:typeof k=="number"?k:0,age_months:typeof A=="number"?A:0,age_days:typeof U=="number"?U:0};xt.mutate(D)},va=x=>{x.key==="Enter"?(x.preventDefault(),Oe&&ie.length>0&&Ie>=0&&kn(ie[Ie])):x.key==="ArrowDown"?Oe&&(x.preventDefault(),ot(D=>D<ie.length-1?D+1:D)):x.key==="ArrowUp"?Oe&&(x.preventDefault(),ot(D=>D>0?D-1:0)):x.key==="Escape"&&be(!1)},kn=x=>{const D=x.test_id??x.id;G.find(ze=>x.type==="panel"?ze.type==="panel"&&ze.id===D:ze.type==="test"&&(ze.test_id??ze.id)===D)||ae([...G,{...x,id:D}]),Z(""),be(!1),ot(-1),bn.current?.focus()},sl=x=>{ae(G.filter(D=>(D.test_id??D.id)!==x))},nr=x=>{const D=parseFloat(x)||0;Ee(x);const ne=Xn*D/100;O(ne.toFixed(2))},ws=x=>{const D=parseFloat(x)||0;O(x);const ne=Xn>0?D/Xn*100:0;Ee(ne.toFixed(2))},ba=()=>{if(!N)return alert("Please save patient first");if(G.length===0)return alert("Please add at least one test");const x=G.filter(ze=>ze.type==="test"),D=G.filter(ze=>ze.type==="panel"),ne={patient:N.id,test_ids:x.map(ze=>ze.test_id??ze.id),panel_ids:D.map(ze=>ze.id),discount:Ae,discount_percent:he,paid_amount:Q,referred_by:_e,collection_branch:t?.id};Bn.mutate(ne)},ca=()=>{const x=`/print/receipt/${Ga}`;Dn(!1),window.open(x,"_blank")};return s.jsxs("div",{className:ee.container,children:[An&&s.jsx(nL,{orderId:Ga,displayId:Fa,onClose:()=>Dn(!1),onPrint:ca}),s.jsxs("div",{className:ee.header,children:[s.jsxs("div",{children:[s.jsx("h1",{className:ee.pageTitle,children:"Patient Registration"}),s.jsx("p",{className:ee.subtitle,children:"Enter patient details and select tests"})]}),s.jsxs("div",{className:ee.globalSearchWrapper,ref:Ct,children:[s.jsx("div",{className:ee.searchIconWrapper,children:s.jsx("svg",{className:ee.searchIcon,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{ref:_a,type:"text",value:Re,onChange:x=>Qe(x.target.value),onKeyDown:nl,className:ee.globalSearchInput,placeholder:"Search by name, mobile, or reg #",autoComplete:"off","aria-label":"Search patient by name, mobile, or registration number"}),re&&Re.trim().length>=2&&s.jsx("div",{className:ee.suggestions,children:ye?s.jsx("div",{className:`${ee.suggestionItem} ${ee.suggestionEmpty}`,children:"Searching"}):$e.length>0?$e.map((x,D)=>s.jsxs("div",{className:`${ee.suggestionItem} ${D===ct?ee.suggestionActive:""}`,onClick:()=>Za(x.id),children:[s.jsx("div",{className:ee.suggestionMain,children:x.full_name}),s.jsxs("div",{className:ee.suggestionMeta,children:[x.phone,"  ",x.gender,"  MRN: ",x.registration_number||x.patient_id]})]},x.id)):s.jsx("div",{className:`${ee.suggestionItem} ${ee.suggestionEmpty}`,children:"No matches found"})})]})]}),s.jsxs("div",{className:ee.splitView,children:[s.jsxs("div",{className:ee.card,children:[s.jsxs("div",{className:ee.cardHeader,children:[s.jsxs("h2",{className:ee.sectionTitle,children:[s.jsx("span",{className:ee.stepBadge,children:"1"}),N?"Edit Patient Details":"Patient Information"]}),N&&s.jsxs("span",{className:ee.sectionStatus,children:["MRN: ",N.registration_number||N.patient_id]})]}),s.jsxs("form",{onSubmit:xn,className:ee.registrationForm,children:[s.jsxs("div",{className:ee.twoColGrid,children:[s.jsxs("div",{className:ee.sectionBlock,children:[s.jsx("h3",{className:ee.sectionLabel,children:"Patient Identity"}),N&&s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"MRN"}),s.jsx("input",{type:"text",readOnly:!0,value:N.registration_number||N.patient_id||"",className:ee.inputReadOnly,"aria-readonly":!0})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsxs("label",{children:["Patient Name ",s.jsx("span",{className:ee.required,children:"*"})]}),s.jsx("input",{type:"text",value:b.full_name||"",onChange:x=>w({...b,full_name:x.target.value}),className:ee.input,required:!0})]}),s.jsxs("div",{className:ee.rowGroup,children:[s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Date of Birth"}),s.jsx("input",{type:"text",inputMode:"numeric",placeholder:"DD/MM/YY",value:E,onChange:x=>Ns(x.target.value),className:ee.input})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Age (Y / M / D)"}),s.jsxs("div",{className:ee.ageGroup,children:[s.jsxs("div",{className:ee.ageInput,children:[s.jsx("input",{type:"number",placeholder:"Y",value:k,onChange:x=>Yn(parseInt(x.target.value)||"",A,U)}),s.jsx("span",{children:"Yrs"})]}),s.jsxs("div",{className:ee.ageInput,children:[s.jsx("input",{type:"number",placeholder:"M",value:A,onChange:x=>Yn(k,parseInt(x.target.value)||"",U)}),s.jsx("span",{children:"Mth"})]}),s.jsxs("div",{className:ee.ageInput,children:[s.jsx("input",{type:"number",placeholder:"D",value:U,onChange:x=>Yn(k,A,parseInt(x.target.value)||"")}),s.jsx("span",{children:"Day"})]})]})]})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsxs("label",{children:["Gender ",s.jsx("span",{className:ee.required,children:"*"})]}),s.jsxs("select",{value:b.gender,onChange:x=>w({...b,gender:x.target.value}),className:ee.select,required:!0,children:[s.jsx("option",{value:"Male",children:"Male"}),s.jsx("option",{value:"Female",children:"Female"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Father / Husband Name"}),s.jsx("input",{type:"text",value:b.father_husband_name||"",onChange:x=>w({...b,father_husband_name:x.target.value}),className:ee.input})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"CNIC / National ID"}),s.jsx("input",{type:"text",value:b.cnic||b.national_id||"",onChange:x=>w({...b,cnic:x.target.value}),className:ee.input})]})]}),s.jsxs("div",{className:ee.sectionBlock,children:[s.jsx("h3",{className:ee.sectionLabel,children:"Contact & Consultant"}),s.jsxs("div",{className:ee.formGroup,children:[s.jsxs("label",{children:["Mobile Number ",s.jsx("span",{className:ee.required,children:"*"})]}),s.jsxs("div",{className:ee.lookupWrapper,children:[s.jsx("input",{ref:oa,type:"text",value:o,onChange:x=>{c(x.target.value),w({...b,phone:x.target.value})},onKeyDown:al,className:ee.input,placeholder:"03xxxxxxxxx",required:!0,autoComplete:"off"}),m&&h.length>0&&s.jsxs("div",{className:ee.suggestions,children:[s.jsxs("div",{className:ee.suggestionHeader,style:{color:"#d97706",background:"#fffbeb",borderBottom:"1px solid #fcd34d"},children:[" Possible Match: Found ",h.length," existing patient",h.length>1?"s":""]}),h.map((x,D)=>s.jsxs("div",{className:`${ee.suggestionItem} ${D===p?ee.suggestionActive:""}`,onClick:()=>Za(x.id),children:[s.jsxs("div",{className:ee.suggestionName,children:[s.jsx("strong",{children:x.full_name}),s.jsxs("span",{className:ee.registrationBadge,children:["MRN: ",x.patient_id]})]}),s.jsxs("div",{className:ee.suggestionMeta,children:[x.gender,"  ",x.age?`${x.age} years`:"Age unknown",x.last_visit&&`  Last visit: ${new Date(x.last_visit).toLocaleDateString()}`]})]},x.id)),s.jsxs("div",{className:`${ee.suggestionItem} ${ee.createNewOption} ${p===h.length?ee.suggestionActive:""}`,onClick:()=>{g(!1),y(-1)},children:[s.jsx("div",{className:ee.suggestionName,children:s.jsx("strong",{children:" Create New Patient"})}),s.jsx("div",{className:ee.suggestionMeta,children:"Register a new patient with this mobile number"})]})]})]})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Consultant / Ref-By"}),s.jsx("input",{type:"text",value:_e,onChange:x=>Ce(x.target.value),className:ee.input,placeholder:"Referring doctor or clinic"})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Email (Optional)"}),s.jsx("input",{type:"email",value:b.email||"",onChange:x=>w({...b,email:x.target.value}),className:ee.input})]}),s.jsxs("div",{className:ee.formGroup,children:[s.jsx("label",{children:"Address"}),s.jsx("textarea",{value:b.address||"",onChange:x=>w({...b,address:x.target.value}),className:ee.textarea,rows:3})]})]})]}),s.jsxs("div",{className:ee.formActions,children:[s.jsx("button",{type:"submit",className:ee.primaryButton,disabled:xt.isPending,children:xt.isPending?"Saving...":N?"Update & Proceed to Tests":"Save Patient & Proceed"}),N&&s.jsx("button",{type:"button",onClick:Jn,className:ee.secondaryButton,children:"Clear / New Patient"})]})]})]}),s.jsxs("div",{ref:Ia,className:`${ee.card} ${ee.serviceRegistrationCard} ${ya?ee.serviceRegistrationCardExpanded:""}`,style:{opacity:N?1:.5,pointerEvents:N?"auto":"none",transition:"opacity 0.3s ease, box-shadow 0.3s ease"},children:[s.jsx("div",{className:ee.cardHeader,children:s.jsxs("h2",{className:ee.sectionTitle,children:[s.jsx("span",{className:ee.stepBadge,children:"2"}),"Service Registration"]})}),s.jsxs("div",{className:ee.orderContainer,children:[s.jsx("div",{className:ee.searchSection,children:s.jsxs("div",{className:ee.autocompleteWrapper,children:[s.jsx("input",{ref:bn,type:"text",value:X,onChange:x=>Z(x.target.value),onKeyDown:va,className:ee.largeSearchInput,placeholder:"Search tests or panels by name or code (Enter to add)"}),Oe&&ie.length>0&&s.jsx("div",{className:ee.suggestions,children:ie.map((x,D)=>s.jsxs("div",{className:`${ee.suggestionItem} ${D===Ie?ee.suggestionActive:""} `,onClick:()=>kn(x),children:[s.jsxs("div",{className:ee.suggestionName,children:[s.jsx("span",{style:{fontWeight:"bold",color:"var(--color-primary)"},children:x.test_code})," - ",x.test_name,x.type==="panel"&&s.jsx("span",{style:{marginLeft:"8px",backgroundColor:"#8b5cf6",color:"white",padding:"2px 6px",borderRadius:"4px",fontSize:"0.7em",fontWeight:"600",textTransform:"uppercase"},children:"Panel"})]}),s.jsxs("div",{className:ee.suggestionMeta,children:[x.category_name,"  ",qt(x.price,l)]})]},x.id))})]})}),s.jsx("div",{className:ee.addedTestsSection,children:G.length===0?s.jsx("div",{className:ee.emptyState,children:s.jsx("p",{children:"No tests selected. Search above to add tests."})}):s.jsx("div",{className:ee.testsTableContainer,children:s.jsxs("table",{className:ee.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Code"}),s.jsx("th",{children:"Test Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Price"}),s.jsx("th",{style:{width:"50px"}})]})}),s.jsx("tbody",{children:G.map(x=>s.jsxs("tr",{children:[s.jsxs("td",{children:[s.jsx("strong",{children:x.test_code}),x.type==="panel"&&s.jsx("span",{style:{marginLeft:"6px",backgroundColor:"#8b5cf6",color:"white",padding:"1px 5px",borderRadius:"3px",fontSize:"0.65em",fontWeight:"600",textTransform:"uppercase",verticalAlign:"middle"},children:"Panel"})]}),s.jsx("td",{children:x.test_name}),s.jsx("td",{style:{textAlign:"right"},children:qt(x.price,l)}),s.jsx("td",{children:s.jsx("button",{onClick:()=>sl(x.test_id??x.id),className:ee.removeButton,children:""})})]},x.test_id??x.id))})]})})}),s.jsxs("div",{className:ee.paymentSection,children:[s.jsx("div",{className:`${ee.paymentGrid} ${ee.paymentGridSingle}`,children:s.jsxs("div",{className:ee.paymentColRight,children:[s.jsxs("div",{className:ee.summaryRow,children:[s.jsx("span",{children:"Total Amount"}),s.jsx("span",{className:ee.amountLarge,children:qt(Xn.toFixed(2),l)})]}),s.jsxs("div",{className:ee.discountRow,children:[s.jsxs("div",{className:ee.discountInputGroup,children:[s.jsx("label",{children:"Disc %"}),s.jsx("input",{type:"number",value:he,onChange:x=>nr(x.target.value),className:ee.compactInput})]}),s.jsxs("div",{className:ee.discountInputGroup,children:[s.jsx("label",{children:"Disc Amt"}),s.jsx("input",{type:"number",value:Ae,onChange:x=>ws(x.target.value),className:ee.compactInput})]})]}),s.jsxs("div",{className:ee.summaryRow,children:[s.jsx("span",{children:"Net Payable"}),s.jsx("span",{className:ee.amountHighlight,children:qt(Et.toFixed(2),l)})]}),s.jsxs("div",{className:ee.summaryRow,children:[s.jsx("span",{children:"Paid Amount"}),s.jsx("input",{type:"number",value:Q,onChange:x=>{oe(x.target.value),ue(!0)},className:ee.paymentInput})]}),s.jsxs("div",{className:ee.summaryRow,children:[s.jsx("span",{children:"Due Balance"}),s.jsx("span",{className:`${ee.amountHighlight} ${kt>0?ee.textRed:ee.textGreen} `,children:qt(kt.toFixed(2),l)})]})]})}),s.jsx("div",{className:ee.formActions,children:s.jsx("button",{onClick:ba,className:ee.primaryButtonLarge,disabled:Bn.isPending||G.length===0,children:Bn.isPending?"Processing...":"CONFIRM & PRINT RECEIPT"})})]})]})]})]})]})}const sL="_filterBar_rxe67_1",rL="_fieldGroup_rxe67_14",lL="_label_rxe67_20",iL="_input_rxe67_28",oL="_toggleLabel_rxe67_46",cL="_checkbox_rxe67_58",uL="_actionParams_rxe67_65",dL="_applyButton_rxe67_72",fL="_exportButton_rxe67_90",hL="_glass_rxe67_110",sn={filterBar:sL,fieldGroup:rL,label:lL,input:iL,toggleLabel:oL,checkbox:cL,actionParams:uL,applyButton:dL,exportButton:fL,glass:hL};function di({onExport:t}){const[a,l]=vs(),o=new Date().toISOString().split("T")[0],c=o,[h,f]=S.useState(a.get("start_date")||o),[m,g]=S.useState(a.get("end_date")||c),[p,y]=S.useState(a.get("include_cancelled")==="true");S.useEffect(()=>{const b=a.get("start_date"),w=a.get("end_date"),E=a.get("include_cancelled")==="true";b&&b!==h&&f(b),w&&w!==m&&g(w),E!==p&&y(E)},[a]);const v=()=>{const b={start_date:h,end_date:m};p&&(b.include_cancelled="true"),l(b)},N=b=>{t(b)},R=()=>{const b=new Date().toISOString().split("T")[0];f(b),g(b),y(!1),l({start_date:b,end_date:b})};return s.jsxs("div",{className:`${sn.filterBar} ${sn.glass}`,children:[s.jsxs("div",{className:sn.fieldGroup,children:[s.jsx("label",{className:sn.label,children:"Start Date"}),s.jsx("input",{type:"date",className:sn.input,value:h,onChange:b=>f(b.target.value)})]}),s.jsxs("div",{className:sn.fieldGroup,children:[s.jsx("label",{className:sn.label,children:"End Date"}),s.jsx("input",{type:"date",className:sn.input,value:m,onChange:b=>g(b.target.value)})]}),s.jsx("div",{className:sn.fieldGroup,children:s.jsxs("label",{className:sn.toggleLabel,children:[s.jsx("input",{type:"checkbox",className:sn.checkbox,checked:p,onChange:b=>y(b.target.checked)}),s.jsx("span",{children:"Include Cancelled"})]})}),s.jsxs("div",{className:sn.actionParams,children:[s.jsx("button",{className:sn.applyButton,onClick:v,children:"Update Report"}),s.jsx("button",{className:sn.applyButton,onClick:R,children:"Reset"}),s.jsx("div",{style:{padding:"0 8px",borderLeft:"1px solid #e2e8f0",height:"32px"}}),s.jsx("button",{className:sn.exportButton,onClick:()=>N("csv"),children:"CSV"}),s.jsx("button",{className:sn.exportButton,onClick:()=>N("xlsx"),children:"Excel"})]})]})}const mL="_pageContainer_1e2c3_1",pL="_header_1e2c3_7",gL="_grid_1e2c3_23",_L="_card_1e2c3_30",yL="_cardTitle_1e2c3_44",vL="_cardValue_1e2c3_53",bL="_cardSub_1e2c3_60",xL="_highlight_1e2c3_66",jL="_success_1e2c3_75",SL="_sectionTitle_1e2c3_84",NL="_tableContainer_1e2c3_93",wL="_table_1e2c3_93",CL="_currency_1e2c3_131",le={pageContainer:mL,header:pL,grid:gL,card:_L,cardTitle:yL,cardValue:vL,cardSub:bL,highlight:xL,success:jL,sectionTitle:SL,tableContainer:NL,table:wL,currency:CL};function EL(){const[t]=vs(),a=new Date().toISOString().split("T")[0],l=a,o={start_date:t.get("start_date")||a,end_date:t.get("end_date")||l,include_cancelled:t.get("include_cancelled")==="true"},{data:c,isLoading:h,error:f}=Ue({queryKey:["analytics-overview",o],queryFn:()=>sa.overview(o)}),m=async p=>{try{const y=await sa.exportReport("overview",p,o),v=window.URL.createObjectURL(y),N=document.createElement("a");N.href=v,N.download=`Overview_${new Date().toISOString()}.${p}`,document.body.appendChild(N),N.click(),N.remove()}catch(y){console.error("Export failed",y),alert("Export failed")}};if(h)return s.jsx("div",{className:le.pageContainer,children:"Loading analytics..."});if(f)return s.jsx("div",{className:le.pageContainer,children:"Error loading analytics."});const g=c?.summary;return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Analytics Overview"}),s.jsxs("p",{children:["Operational and financial snapshot for ",o.start_date," to ",o.end_date]})]}),s.jsx(di,{onExport:m}),g&&s.jsxs("div",{className:le.grid,children:[s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Patients Seen"}),s.jsx("div",{className:le.cardValue,children:g.patients_seen}),s.jsx("div",{className:le.cardSub,children:"Unique patients"})]}),s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Orders"}),s.jsx("div",{className:le.cardValue,children:g.total_orders}),s.jsx("div",{className:le.cardSub,children:"Visits"})]}),s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Tests Billed"}),s.jsx("div",{className:le.cardValue,children:g.total_tests}),s.jsx("div",{className:le.cardSub,children:"Individual line items"})]}),s.jsxs("div",{className:`${le.card} ${le.highlight}`,children:[s.jsx("div",{className:le.cardTitle,children:"Net Sales"}),s.jsx("div",{className:le.cardValue,children:g.net_sales.toLocaleString("en-PK",{style:"currency",currency:"PKR"})}),s.jsxs("div",{className:le.cardSub,children:["Gross: ",g.gross_sales.toLocaleString()," | Disc: ",g.total_discount.toLocaleString()]})]}),s.jsxs("div",{className:`${le.card} ${le.success}`,children:[s.jsx("div",{className:le.cardTitle,children:"Cash Collected"}),s.jsx("div",{className:le.cardValue,children:g.total_collections.toLocaleString("en-PK",{style:"currency",currency:"PKR"})}),s.jsxs("div",{className:le.cardSub,children:["Cash Only: ",g.cash_collections.toLocaleString()]})]}),s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Outstanding"}),s.jsx("div",{className:le.cardValue,children:g.outstanding_for_orders.toLocaleString("en-PK",{style:"currency",currency:"PKR"})}),s.jsx("div",{className:le.cardSub,children:"For orders in this period"})]})]})]})}function RL(){const[t]=vs(),a={start_date:t.get("start_date")||new Date().toISOString().split("T")[0],end_date:t.get("end_date")||new Date().toISOString().split("T")[0],include_cancelled:t.get("include_cancelled")==="true"},{data:l,isLoading:o,error:c}=Ue({queryKey:["analytics-patients",a],queryFn:()=>sa.patients(a)}),h=async g=>{try{const p=await sa.exportReport("patients",g,a),y=window.URL.createObjectURL(p),v=document.createElement("a");v.href=y,v.download=`Patients_${new Date().toISOString()}.${g}`,document.body.appendChild(v),v.click(),v.remove()}catch(p){console.error("Export failed",p),alert("Export failed")}};if(o)return s.jsx("div",{className:le.pageContainer,children:"Loading..."});if(c)return s.jsx("div",{className:le.pageContainer,children:"Error loading report"});const f=l?.rows||[],m=l?.summary||{};return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Patient Analytics"}),s.jsx("p",{children:"Patient activity and contribution analysis"})]}),s.jsx(di,{onExport:h}),s.jsx("div",{className:le.grid,style:{marginBottom:"24px"},children:s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Patients"}),s.jsx("div",{className:le.cardValue,children:m.total_patients})]})}),s.jsx("div",{className:le.tableContainer,children:s.jsxs("table",{className:le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Patient ID"}),s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Age/Gender"}),s.jsx("th",{children:"Visits"}),s.jsx("th",{children:"Revenue Contrib."})]})}),s.jsx("tbody",{children:f.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,style:{textAlign:"center"},children:"No data found"})}):f.map(g=>s.jsxs("tr",{children:[s.jsx("td",{children:g.patient_id}),s.jsx("td",{children:g.name}),s.jsxs("td",{children:[g.age," / ",g.gender]}),s.jsx("td",{children:g.orders_count}),s.jsx("td",{className:le.currency,children:g.revenue.toLocaleString()})]},g.patient_id))})]})})]})}function TL(){const[t]=vs(),a={start_date:t.get("start_date")||new Date().toISOString().split("T")[0],end_date:t.get("end_date")||new Date().toISOString().split("T")[0],include_cancelled:t.get("include_cancelled")==="true"},{data:l,isLoading:o,error:c}=Ue({queryKey:["analytics-tests",a],queryFn:()=>sa.tests(a)}),h=async g=>{try{const p=await sa.exportReport("tests",g,a),y=window.URL.createObjectURL(p),v=document.createElement("a");v.href=y,v.download=`Tests_${new Date().toISOString()}.${g}`,document.body.appendChild(v),v.click(),v.remove()}catch(p){console.error("Export failed",p),alert("Export failed")}};if(o)return s.jsx("div",{className:le.pageContainer,children:"Loading..."});if(c)return s.jsx("div",{className:le.pageContainer,children:"Error loading report"});const f=l?.rows||[],m=l?.summary||{};return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Test Analytics"}),s.jsx("p",{children:"Most ordered tests and revenue share"})]}),s.jsx(di,{onExport:h}),s.jsx("div",{className:le.grid,style:{marginBottom:"24px"},children:s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Tests Billed"}),s.jsx("div",{className:le.cardValue,children:m.total_tests_billed})]})}),s.jsx("div",{className:le.tableContainer,children:s.jsxs("table",{className:le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Test Name"}),s.jsx("th",{children:"Count"}),s.jsx("th",{children:"Revenue"}),s.jsx("th",{children:"Share (%)"})]})}),s.jsx("tbody",{children:f.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:4,style:{textAlign:"center"},children:"No data found"})}):f.map(g=>s.jsxs("tr",{children:[s.jsx("td",{children:g.test_name}),s.jsx("td",{children:g.count}),s.jsx("td",{className:le.currency,children:g.revenue.toLocaleString()}),s.jsxs("td",{children:[g.share_percent,"%"]})]},g.test_name))})]})})]})}function OL(){const[t]=vs(),[a,l]=S.useState("volume"),o={start_date:t.get("start_date")||new Date().toISOString().split("T")[0],end_date:t.get("end_date")||new Date().toISOString().split("T")[0],include_cancelled:t.get("include_cancelled")==="true"},{data:c,isLoading:h,error:f}=Ue({queryKey:["analytics-referrals",o],queryFn:()=>sa.referrals(o)}),m=async v=>{try{const N=await sa.exportReport("referrals",v,o),R=window.URL.createObjectURL(N),b=document.createElement("a");b.href=R,b.download=`Referrals_${new Date().toISOString()}.${v}`,document.body.appendChild(b),b.click(),b.remove()}catch(N){console.error("Export failed",N),alert("Export failed")}};if(h)return s.jsx("div",{className:le.pageContainer,children:"Loading..."});if(f)return s.jsx("div",{className:le.pageContainer,children:"Error loading report"});const g=c?.rows||{volume:[],revenue:[]},p=a==="volume"?g.volume:g.revenue,y=c?.summary||{};return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Referral Analytics"}),s.jsx("p",{children:"Referral sources by volume and revenue"})]}),s.jsx(di,{onExport:m}),s.jsx("div",{className:le.grid,style:{marginBottom:"24px"},children:s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Sources"}),s.jsx("div",{className:le.cardValue,children:y.total_referrers})]})}),s.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[s.jsx("button",{className:le.applyButton,onClick:()=>l("volume"),disabled:a==="volume",children:"Volume"}),s.jsx("button",{className:le.applyButton,onClick:()=>l("revenue"),disabled:a==="revenue",children:"Revenue"})]}),s.jsx("div",{className:le.tableContainer,children:s.jsxs("table",{className:le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Referrer"}),s.jsx("th",{children:"Patients Referred"}),s.jsx("th",{children:"Revenue Generated"})]})}),s.jsx("tbody",{children:p.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:3,style:{textAlign:"center"},children:"No data found"})}):p.map(v=>s.jsxs("tr",{children:[s.jsx("td",{children:v.referrer}),s.jsx("td",{children:v.count}),s.jsx("td",{className:le.currency,children:v.revenue.toLocaleString()})]},v.referrer))})]})})]})}function AL(){const[t]=vs(),a={start_date:t.get("start_date")||new Date().toISOString().split("T")[0],end_date:t.get("end_date")||new Date().toISOString().split("T")[0],include_cancelled:t.get("include_cancelled")==="true"},{data:l,isLoading:o,error:c}=Ue({queryKey:["analytics-finance",a],queryFn:()=>sa.finance(a)}),h=async g=>{try{const p=await sa.exportReport("finance",g,a),y=window.URL.createObjectURL(p),v=document.createElement("a");v.href=y,v.download=`Finance_${new Date().toISOString()}.${g}`,document.body.appendChild(v),v.click(),v.remove()}catch(p){console.error("Export failed",p),alert("Export failed")}};if(o)return s.jsx("div",{className:le.pageContainer,children:"Loading..."});if(c)return s.jsx("div",{className:le.pageContainer,children:"Error loading report"});const f=l?.rows||[],m=l?.summary||{};return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Financial Analytics"}),s.jsx("p",{children:"Sales, discounts, and collections breakdown"})]}),s.jsx(di,{onExport:h}),s.jsxs("div",{className:le.grid,children:[s.jsxs("div",{className:`${le.card} ${le.highlight}`,children:[s.jsx("div",{className:le.cardTitle,children:"Gross Sales"}),s.jsx("div",{className:le.cardValue,children:(m.gross_sales||0).toLocaleString("en-PK",{style:"currency",currency:"PKR"})})]}),s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Discounts"}),s.jsx("div",{className:le.cardValue,children:(m.discount||0).toLocaleString("en-PK",{style:"currency",currency:"PKR"})})]}),s.jsxs("div",{className:`${le.card} ${le.success}`,children:[s.jsx("div",{className:le.cardTitle,children:"Net Sales"}),s.jsx("div",{className:le.cardValue,children:(m.net_sales||0).toLocaleString("en-PK",{style:"currency",currency:"PKR"})})]}),s.jsxs("div",{className:le.card,children:[s.jsx("div",{className:le.cardTitle,children:"Total Collected"}),s.jsx("div",{className:le.cardValue,children:(m.total_collected||0).toLocaleString("en-PK",{style:"currency",currency:"PKR"})})]})]}),s.jsx("h2",{className:le.sectionTitle,children:"Collections by Payment Method"}),s.jsx("div",{className:le.tableContainer,children:s.jsxs("table",{className:le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Payment Method"}),s.jsx("th",{children:"Amount Collected"})]})}),s.jsx("tbody",{children:f.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:2,style:{textAlign:"center"},children:"No data found"})}):f.map(g=>s.jsxs("tr",{children:[s.jsx("td",{style:{textTransform:"capitalize"},children:g.method.replace("_"," ")}),s.jsx("td",{className:le.currency,children:g.amount.toLocaleString()})]},g.method))})]})})]})}function DL(){const{data:t,isLoading:a,error:l}=Ue({queryKey:["analytics-export-logs"],queryFn:()=>sa.exportLogs({limit:100})});if(a)return s.jsx("div",{className:le.pageContainer,children:"Loading..."});if(l)return s.jsx("div",{className:le.pageContainer,children:"Error loading export logs"});const o=t?.rows||[];return s.jsxs("div",{className:le.pageContainer,children:[s.jsxs("div",{className:le.header,children:[s.jsx("h1",{children:"Export Logs"}),s.jsx("p",{children:"Audit trail of analytics exports"})]}),s.jsx("div",{className:le.tableContainer,children:s.jsxs("table",{className:le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Generated At"}),s.jsx("th",{children:"User"}),s.jsx("th",{children:"Report"}),s.jsx("th",{children:"Format"}),s.jsx("th",{children:"Rows"}),s.jsx("th",{children:"Filters"})]})}),s.jsx("tbody",{children:o.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,style:{textAlign:"center"},children:"No export logs"})}):o.map(c=>s.jsxs("tr",{children:[s.jsx("td",{children:new Date(c.generated_at).toLocaleString()}),s.jsx("td",{children:c.user||"Unknown"}),s.jsx("td",{children:c.report_key}),s.jsx("td",{children:c.format.toUpperCase()}),s.jsx("td",{children:c.row_count}),s.jsx("td",{children:s.jsx("code",{style:{fontSize:"0.8em"},children:JSON.stringify(c.filters_json)})})]},c.id))})]})})]})}const zL=new B0({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function BL(){return s.jsx(k0,{client:zL,children:s.jsx(RS,{children:s.jsx(NS,{children:s.jsx(a0,{children:s.jsxs(Dj,{children:[s.jsx(et,{path:"/login",element:s.jsx(_N,{})}),s.jsx(et,{path:"/print/receipt/:orderId",element:s.jsx(Cd,{children:s.jsx(cw,{})})}),s.jsxs(et,{path:"/dashboard",element:s.jsx(Cd,{children:s.jsx(iN,{})}),children:[s.jsx(et,{index:!0,element:s.jsx(xw,{})}),s.jsx(et,{path:"registration",element:s.jsx(aL,{})}),s.jsx(et,{path:"patients",element:s.jsx(RC,{})}),s.jsx(et,{path:"patients-worklist",element:s.jsx(YC,{})}),s.jsx(et,{path:"orders",element:s.jsx(Fs,{to:"/dashboard/patients",replace:!0})}),s.jsx(et,{path:"tests",element:s.jsx(U2,{})}),s.jsx(et,{path:"samples",element:s.jsx(oE,{})}),s.jsx(et,{path:"collection",element:s.jsx(FE,{})}),s.jsx(et,{path:"results",element:s.jsx(TD,{})}),s.jsx(et,{path:"worklist",element:s.jsx(JD,{})}),s.jsx(et,{path:"verification",element:s.jsx(H3,{})}),s.jsx(et,{path:"review",element:s.jsx(Fs,{to:"/dashboard/verification",replace:!0})}),s.jsx(et,{path:"reports",element:s.jsx(pz,{})}),s.jsx(et,{path:"payments",element:s.jsx(Uz,{})}),s.jsx(et,{path:"audit",element:s.jsx(_B,{})}),s.jsx(et,{path:"backups",element:s.jsx(Cd,{allowedRoles:["Admin","Manager","Pathologist"],children:s.jsx(QB,{})})}),s.jsx(et,{path:"analytics",element:s.jsx(EL,{})}),s.jsx(et,{path:"analytics/patients",element:s.jsx(RL,{})}),s.jsx(et,{path:"analytics/tests",element:s.jsx(TL,{})}),s.jsx(et,{path:"analytics/referrals",element:s.jsx(OL,{})}),s.jsx(et,{path:"analytics/finance",element:s.jsx(AL,{})}),s.jsx(et,{path:"analytics/export-logs",element:s.jsx(DL,{})}),s.jsx(et,{path:"reference-ranges",element:s.jsx(vk,{})}),s.jsx(et,{path:"settings",element:s.jsx(F6,{})})]}),s.jsx(et,{path:"/",element:s.jsx(Fs,{to:"/dashboard",replace:!0})}),s.jsx(et,{path:"*",element:s.jsx(Fs,{to:"/dashboard",replace:!0})})]})})})})})}Ax.createRoot(document.getElementById("root")).render(s.jsx(S.StrictMode,{children:s.jsx(BL,{})}));
